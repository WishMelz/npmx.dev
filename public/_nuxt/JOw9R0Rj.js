import{H as e,J as t,Nt as n,R as r,b as i,j as a,w as o,yt as s}from"./BLt7TXlb.js";import{d as c}from"./Cr_GQgS6.js";var l=[`datetime`,`title`],u={__name:`NuxtTime`,props:{locale:{type:String,required:!1},datetime:{type:[String,Number,Date],required:!0},localeMatcher:{type:String,required:!1},weekday:{type:String,required:!1},era:{type:String,required:!1},year:{type:String,required:!1},month:{type:String,required:!1},day:{type:String,required:!1},hour:{type:String,required:!1},minute:{type:String,required:!1},second:{type:String,required:!1},timeZoneName:{type:String,required:!1},formatMatcher:{type:String,required:!1},hour12:{type:Boolean,required:!1,default:void 0},timeZone:{type:String,required:!1},calendar:{type:String,required:!1},dayPeriod:{type:String,required:!1},numberingSystem:{type:String,required:!1},dateStyle:{type:String,required:!1},timeStyle:{type:String,required:!1},hourCycle:{type:String,required:!1},relative:{type:Boolean,required:!1},numeric:{type:String,required:!1},relativeStyle:{type:String,required:!1},title:{type:[Boolean,String],required:!1}},setup(u){let d=u,f=a()?.vnode.el,p=f?.getAttribute(`datetime`),m=f?.getAttribute(`data-locale`),h=c(),g=i(()=>{let e=d.datetime;return p&&h.isHydrating?new Date(p):d.datetime?new Date(e):new Date}),_=s(h.isHydrating&&window._nuxtTimeNow?new Date(window._nuxtTimeNow):new Date);if(d.relative){let t=setInterval(()=>{_.value=new Date},1e3);e(()=>clearInterval(t))}let v=i(()=>{let{locale:e,relative:t,relativeStyle:n,...r}=d;return t?new Intl.RelativeTimeFormat(m??e,{...r,style:n}):new Intl.DateTimeFormat(m??e,r)}),y=i(()=>{if(b.value)return g.value.toString();if(!d.relative)return v.value.format(g.value);let e=(g.value.getTime()-_.value.getTime())/1e3,t=[{unit:`second`,seconds:1,threshold:60},{unit:`minute`,seconds:60,threshold:60},{unit:`hour`,seconds:3600,threshold:24},{unit:`day`,seconds:86400,threshold:30},{unit:`month`,seconds:2592e3,threshold:12},{unit:`year`,seconds:31536e3,threshold:1/0}],{unit:n,seconds:r}=t.find(({seconds:t,threshold:n})=>Math.abs(e/t)<n)||t[t.length-1],i=e/r;return v.value.format(Math.round(i),n)}),b=i(()=>Number.isNaN(g.value.getTime())),x=i(()=>b.value?void 0:g.value.toISOString()),S=i(()=>d.title===!0?x.value:typeof d.title==`string`?d.title:void 0),C={};return(e,i)=>(t(),o(`time`,r(C,{datetime:x.value,title:S.value}),n(y.value),17,l))}};export{u as t};