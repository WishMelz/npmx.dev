const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./DdyLBgN8.js","./BLt7TXlb.js","./xh7dz5-d.js","./CWNsAIol.js","./Cf-0F-2c.js","./C66xQW7K.js","./DuIAB7Tu.js","./DHC76net.js","./BDmUravP.js","./D7-tWLRc.js","./CBD7ngdF.js"])))=>i.map(i=>d[i]);
import{At as e,C as t,Dt as n,G as r,J as i,M as a,Mt as o,Nt as s,O as c,Q as l,S as u,T as ee,Tt as d,Z as te,b as f,jt as p,k as m,lt as h,m as ne,ot as re,w as g,yt as _,z as ie}from"./BLt7TXlb.js";import{t as v}from"./YZkb6lnT.js";import{Mt as ae,Nt as oe,P as se,V as ce,bt as le,h as ue,rt as de,u as fe,wt as pe}from"./Cf-0F-2c.js";import{n as y,t as me}from"./8DvoFuCx.js";import{t as he}from"./Cme7ewGR.js";import{t as ge}from"./CWNsAIol.js";import{n as _e,t as ve}from"./D4ushAer.js";import{t as ye}from"./CLl0-3D6.js";import{t as be}from"./BwaPX4qL.js";import{t as xe}from"./BDmUravP.js";import{t as Se}from"./BIZzPpPz.js";import{a as Ce,n as we}from"./D4v1zV2y.js";import{t as Te}from"./BEpjx3T_.js";import{t as Ee}from"./DMqKe8aR.js";var b={userOptions:{show:!1},style:{chart:{layout:{activeColor:`#678681`,ticks:{gradient:{shiftHueIntensity:0}}}}}},x={userOptions:{show:!1},style:{chart:{backgroundColor:`#1A1A1A`,color:`#CCCCCC`,layout:{inactiveColor:`#4A4A4A`,activeColor:`#7FA09B`,ticks:{gradient:{shiftHueIntensity:0}}},title:{color:`#CCCCCC`,subtitle:{color:`#757575`}}}}},S={style:{chart:{backgroundColor:`#1A1A1A`,color:`#CCCCCC`,layout:{inactiveColor:`#4A4A4A`},title:{color:`#CCCCCC`,subtitle:{color:`#757575`}}}}},C={style:{chart:{backgroundColor:`#FFF8E1`,color:`#424242`,layout:{crescendo:!1,inactiveColor:`#5D403760`,activeColor:`#D32F2F`,ticks:{gradient:{shiftHueIntensity:0}}},title:{color:`#424242`,subtitle:{color:`#757575`}}}}},w={style:{chart:{backgroundColor:`#1E1E1E`,color:`#BDBDBD`,layout:{crescendo:!1,inactiveColor:`#5D403760`,activeColor:`#D32F2F`,ticks:{gradient:{shiftHueIntensity:0}}},title:{color:`#FFF8E1`,subtitle:{color:`#BDBDBD`}}}}},T={style:{chart:{backgroundColor:`#1A1A1A`,color:`#99AA99`,layout:{crescendo:!1,inactiveColor:`#333333`,activeColor:`#66CC66`,ticks:{gradient:{shiftHueIntensity:15}}},title:{color:`#66CC66`,subtitle:{color:`#99AA99`}}}}},E={style:{chart:{backgroundColor:`#fbfafa`,color:`#8A9892`,layout:{crescendo:!0,curved:!0,curveAngleX:5,curveAngleY:5,inactiveColor:`#F7EDE2`,activeColor:`#B1A7AD`,ticks:{gradient:{shiftHueIntensity:15}}},title:{color:`#8A9892`,subtitle:{color:`#99AA99`}}}}},D={style:{chart:{backgroundColor:`#f6f6fb`,color:`#50606C`,layout:{crescendo:!1,inactiveColor:`#BBCBC7`,activeColor:`#6C94A0`,ticks:{gradient:{shiftHueIntensity:10}}},title:{color:`#50606C`,subtitle:{color:`#718890`}}}}},De={default:{},minimal:b,minimalDark:x,dark:S,celebration:C,celebrationNight:w,hack:T,zen:E,concrete:D},O=Object.freeze(Object.defineProperty({__proto__:null,celebration:C,celebrationNight:w,concrete:D,dark:S,default:De,hack:T,minimal:b,minimalDark:x,zen:E},Symbol.toStringTag,{value:`Module`})),Oe=[`id`],ke=[`xmlns`,`viewBox`],Ae=[`width`,`height`],je={key:1},Me=[`d`,`stroke-width`,`stroke`],Ne={key:2},Pe=[`x1`,`y1`,`x2`,`y2`,`stroke-width`,`stroke`],Fe={key:3},Ie=[`x`,`y`,`height`],Le=[`x`,`y`,`font-size`,`fill`,`font-weight`,`text-anchor`],Re={key:4,class:`vue-data-ui-watermark`},ze=ge({__name:`vue-ui-tiremarks`,props:{config:{type:Object,default(){return{}}},dataset:{type:Object,default(){return{}}}},emits:[`copyAlt`],setup(ge,{expose:b,emit:x}){let S=m(()=>v(()=>import(`./DdyLBgN8.js`),__vite__mapDeps([0,1,2,3,4,5,6]),import.meta.url)),C=m(()=>v(()=>import(`./DHC76net.js`),__vite__mapDeps([7,1,2,3,4,8,9,6]),import.meta.url)),w=m(()=>v(()=>import(`./CBD7ngdF.js`),__vite__mapDeps([10,1]),import.meta.url)),{vue_ui_tiremarks:T}=me(),{isThemeValid:E,warnInvalidTheme:D}=be(),O=ge,ze=x,Be=f(()=>!!O.dataset&&Object.keys(O.dataset).length),k=_(oe()),A=_(null),Ve=_(null),He=_(null),Ue=_(null),We=_(0),Ge=_(0),j=_(null),M=_(null),N=_(!1),P=_(!1),F=_(z()),Ke=f(()=>F.value.userOptions.useCursorPointer),qe=f(()=>se({defaultConfig:{userOptions:{show:!1},style:{chart:{backgroundColor:`#99999930`,animation:{use:!1},layout:{activeColor:`#6A6A6A80`,inactiveColor:`#CACACA80`,ticks:{gradient:{show:!1}}}}}},userConfig:F.value.skeletonConfig??{}})),{loading:Je,FINAL_DATASET:I}=ve({...d(O),FINAL_CONFIG:F,prepareConfig:z,skeletonDataset:O.config?.skeletonDataset??{percentage:50},skeletonConfig:se({defaultConfig:F.value,userConfig:qe.value})}),{userOptionsVisible:L,setUserOptionsVisibility:Ye,keepUserOptionState:Xe}=Ee({config:F.value}),{svgRef:R}=Te({config:F.value.style.chart.title});function z(){let e=y({userConfig:O.config,defaultConfig:T}),t=e.theme;if(!t)return e;if(!E.value(e))return D(e),e;let n=y({userConfig:De[t]||O.config,defaultConfig:e});return y({userConfig:O.config,defaultConfig:n})}re(()=>O.config,e=>{F.value=z(),L.value=!F.value.userOptions.showOnChartHover,K.value=F.value.style.chart.width,q.value=F.value.style.chart.height,nt(),Ge.value+=1},{deep:!0});let{isPrinting:B,isImaging:V,generatePdf:Ze,generateImage:Qe}=he({elementId:k.value,fileName:F.value.style.chart.title.text||`vue-ui-tiremarks`,options:F.value.userOptions.print}),$e=f(()=>F.value.userOptions.show&&!F.value.style.chart.title.text),H=_(F.value.style.chart.animation.use?0:fe(I.value.percentage));re(()=>I.value,e=>{F.value.style.chart.animation.use?et(e.percentage):H.value=e.percentage||0},{deep:!0}),r(()=>{nt()});function et(e){let t=F.value.style.chart.animation.speed,n=Math.abs(e-H.value)/(t*120);function r(){H.value<e?H.value=Math.min(H.value+n,e):H.value>e&&(H.value=Math.max(H.value-n,e)),H.value!==e&&requestAnimationFrame(r)}r()}let tt=f(()=>!!F.value.debug);function nt(){if(ce(O.dataset)&&ue({componentName:`VueUiTiremarks`,type:`dataset`,debug:tt.value}),F.value.responsive){let e=we(()=>{let{width:e,height:t}=Ce({chart:A.value,title:F.value.style.chart.title.text?He.value:null,source:Ue.value});requestAnimationFrame(()=>{K.value=Math.max(.1,e),q.value=Math.max(.1,t-12)})});j.value&&(M.value&&j.value.unobserve(M.value),j.value.disconnect()),j.value=new ResizeObserver(e),M.value=A.value.parentNode,j.value.observe(M.value)}et(I.value.percentage||0)}let U=f(()=>F.value.style.chart.layout.display===`vertical`),W=f(()=>{let e=F.value.style.chart.percentage.show,t={top:e?48:12,left:e?64:16,right:e?64:16,bottom:e?48:12};return U.value?{top:F.value.style.chart.percentage.verticalPosition===`top`?t.top:3,left:3,right:3,bottom:F.value.style.chart.percentage.verticalPosition===`bottom`?t.bottom:3}:{top:0,bottom:0,left:F.value.style.chart.percentage.horizontalPosition===`left`?t.left:16,right:F.value.style.chart.percentage.horizontalPosition===`right`?t.right:10}}),G=f(()=>Object.values(W.value).reduce((e,t)=>e+t,0)),K=_(F.value.style.chart.width),q=_(F.value.style.chart.height),J=f(()=>({height:q.value,width:K.value})),rt=f(()=>({horizontal:{x:X.value.x+(F.value.style.chart.percentage.horizontalPosition===`left`?6:3),y:J.value.height/2-X.value.fontSize/2},vertical:{x:J.value.width/2-20,y:X.value.y-X.value.fontSize/2}})[F.value.style.chart.layout.display]),Y=f(()=>U.value?{mark:(J.value.height-G.value)/100*.5,space:(J.value.height-G.value)/100*.5}:{mark:(J.value.width-G.value)/100*.5,space:(J.value.width-G.value)/100*.5}),it=f(()=>{let e=[];for(let t=0;t<100;t+=1){let n=F.value.style.chart.layout.ticks.gradient.show?de(F.value.style.chart.layout.activeColor,t/100*(F.value.style.chart.layout.ticks.gradient.shiftHueIntensity/100)):F.value.style.chart.layout.activeColor;if(U.value){let r=F.value.style.chart.layout.crescendo?(100-t)*(J.value.width-W.value.left-W.value.right)/100/3:0,i=W.value.left+4+r,a=J.value.width-W.value.right-4-r,o=J.value.height-W.value.bottom-t*Y.value.mark-t*Y.value.space-Y.value.mark,s=J.value.height-W.value.bottom-t*Y.value.mark-t*Y.value.space-Y.value.mark,c=(a-i)/F.value.style.chart.layout.curveAngleX,l=F.value.style.chart.layout.curveAngleY*((1+t)/100);e.push({x1:i,x2:a,y1:o,y2:s,curve:`M ${i} ${o} C ${i+c} ${o-l}, ${a-c} ${s-l}, ${a} ${s}`,color:n})}else{let r=F.value.style.chart.layout.crescendo?(100-t)*(J.value.height-W.value.top-W.value.bottom)/100/3:0,i=W.value.left+t*Y.value.mark+t*Y.value.space-Y.value.mark,a=i,o=W.value.top+4+r,s=J.value.height-W.value.bottom-4-r,c=F.value.style.chart.layout.curveAngleY*((1+t)/100),l=(s-o)/F.value.style.chart.layout.curveAngleX;e.push({x1:i,x2:a,y1:o,y2:s,curve:`M ${i} ${o} C ${i+c} ${o+l}, ${a+c} ${s-l}, ${a} ${s}`,color:n})}}return e}),X=f(()=>{let e,t,n,r=F.value.style.chart.percentage.fontSize/3;return U.value?F.value.style.chart.percentage.verticalPosition===`top`?(e=J.value.width/2,t=W.value.top/2,n=`middle`):F.value.style.chart.percentage.verticalPosition===`bottom`&&(e=J.value.width/2,t=J.value.height-W.value.bottom/2+r,n=`middle`):F.value.style.chart.percentage.horizontalPosition===`left`?(e=4,t=J.value.height/2+r,n=`start`):F.value.style.chart.percentage.horizontalPosition===`right`&&(e=J.value.width-W.value.right+8,t=J.value.height/2+r,n=`start`),{x:e,y:t,textAnchor:n,bold:F.value.style.chart.percentage.bold,fontSize:F.value.style.chart.percentage.fontSize,fill:F.value.style.chart.percentage.color}}),Z=_(!1);function at(e){Z.value=e,We.value+=1}let Q=_(!1);function $(){Q.value=!Q.value}async function ot({scale:e=2}={}){if(!A.value)return;let{width:t,height:n}=A.value.getBoundingClientRect(),r=t/n,{imageUri:i,base64:a}=await xe({domElement:A.value,base64:!0,img:!0,scale:e});return{imageUri:i,base64:a,title:F.value.style.chart.title.text,width:t,height:n,aspectRatio:r}}let st=f(()=>F.value.style.chart.backgroundColor),{exportSvg:ct,getSvg:lt}=ye({svg:R,title:f(()=>F.value.style.chart.title),backgroundColor:st});async function ut({isCb:e}){P.value=!0,await ie();try{if(e){let{blob:e,url:t,text:n,dataUrl:r}=await lt();await Promise.resolve(F.value.userOptions.callbacks.svg({blob:e,url:t,text:n,dataUrl:r}))}else await Promise.resolve(ct())}finally{P.value=!1}}function dt(e){if(e?.stage===`start`){N.value=!0;return}if(e?.stage===`end`){N.value=!1;return}Qe()}async function ft(){if(ze(`copyAlt`,{config:F.value,dataset:I.value}),!F.value.userOptions.callbacks.altCopy){console.warn("Vue Data UI - A callback must be set for `altCopy` in userOptions.");return}await Promise.resolve(F.value.userOptions.callbacks.altCopy({config:F.value,dataset:I.value}))}return b({getImage:ot,generatePdf:Ze,generateImage:Qe,generateSvg:ut,toggleAnnotator:$,toggleFullscreen:at,copyAlt:ft}),(r,d)=>(i(),g(`div`,{ref_key:`tiremarksChart`,ref:A,class:e(`vue-data-ui-component vue-ui-tiremarks ${F.value.useCssAnimation?``:`vue-ui-dna`}`),style:o(`font-family:${F.value.style.fontFamily};width:100%; text-align:center;background:${F.value.style.chart.backgroundColor}`),id:k.value,onMouseenter:d[0]||=()=>n(Ye)(!0),onMouseleave:d[1]||=()=>n(Ye)(!1)},[F.value.userOptions.buttons.annotator?(i(),u(n(S),{key:0,svgRef:n(R),backgroundColor:F.value.style.chart.backgroundColor,color:F.value.style.chart.color,active:Q.value,isCursorPointer:Ke.value,onClose:$},{"annotator-action-close":h(()=>[l(r.$slots,`annotator-action-close`,{},void 0,!0)]),"annotator-action-color":h(({color:e})=>[l(r.$slots,`annotator-action-color`,p(a({color:e})),void 0,!0)]),"annotator-action-draw":h(({mode:e})=>[l(r.$slots,`annotator-action-draw`,p(a({mode:e})),void 0,!0)]),"annotator-action-undo":h(({disabled:e})=>[l(r.$slots,`annotator-action-undo`,p(a({disabled:e})),void 0,!0)]),"annotator-action-redo":h(({disabled:e})=>[l(r.$slots,`annotator-action-redo`,p(a({disabled:e})),void 0,!0)]),"annotator-action-delete":h(({disabled:e})=>[l(r.$slots,`annotator-action-delete`,p(a({disabled:e})),void 0,!0)]),_:3},8,[`svgRef`,`backgroundColor`,`color`,`active`,`isCursorPointer`])):t(``,!0),$e.value?(i(),g(`div`,{key:1,ref_key:`noTitle`,ref:Ve,class:`vue-data-ui-no-title-space`,style:`height:36px; width: 100%;background:transparent`},null,512)):t(``,!0),F.value.style.chart.title.text?(i(),g(`div`,{key:2,ref_key:`chartTitle`,ref:He,style:`width:100%;background:transparent;padding-bottom:12px`},[(i(),u(Se,{key:`title_${Ge.value}`,config:{title:{cy:`wheel-title`,...F.value.style.chart.title},subtitle:{cy:`wheel-subtitle`,...F.value.style.chart.title.subtitle}}},null,8,[`config`]))],512)):t(``,!0),F.value.userOptions.show&&Be.value&&(n(Xe)||n(L))?(i(),u(n(C),{ref:`details`,key:`user_options_${We.value}`,backgroundColor:F.value.style.chart.backgroundColor,color:F.value.style.chart.color,isPrinting:n(B),isImaging:n(V),uid:k.value,hasPdf:F.value.userOptions.buttons.pdf,hasImg:F.value.userOptions.buttons.img,hasSvg:F.value.userOptions.buttons.svg,hasFullscreen:F.value.userOptions.buttons.fullscreen,hasAltCopy:F.value.userOptions.buttons.altCopy,hasXls:!1,isFullscreen:Z.value,titles:{...F.value.userOptions.buttonTitles},chartElement:A.value,position:F.value.userOptions.position,hasAnnotator:F.value.userOptions.buttons.annotator,isAnnotation:Q.value,callbacks:F.value.userOptions.callbacks,printScale:F.value.userOptions.print.scale,isCursorPointer:Ke.value,onToggleFullscreen:at,onGeneratePdf:n(Ze),onGenerateImage:dt,onGenerateSvg:ut,onToggleAnnotator:$,onCopyAlt:ft,style:o({visibility:n(Xe)?n(L)?`visible`:`hidden`:`visible`})},ee({_:2},[r.$slots.menuIcon?{name:`menuIcon`,fn:h(({isOpen:e,color:t})=>[l(r.$slots,`menuIcon`,p(a({isOpen:e,color:t})),void 0,!0)]),key:`0`}:void 0,r.$slots.optionPdf?{name:`optionPdf`,fn:h(()=>[l(r.$slots,`optionPdf`,{},void 0,!0)]),key:`1`}:void 0,r.$slots.optionImg?{name:`optionImg`,fn:h(()=>[l(r.$slots,`optionImg`,{},void 0,!0)]),key:`2`}:void 0,r.$slots.optionSvg?{name:`optionSvg`,fn:h(()=>[l(r.$slots,`optionSvg`,{},void 0,!0)]),key:`3`}:void 0,r.$slots.optionFullscreen?{name:`optionFullscreen`,fn:h(({toggleFullscreen:e,isFullscreen:t})=>[l(r.$slots,`optionFullscreen`,p(a({toggleFullscreen:e,isFullscreen:t})),void 0,!0)]),key:`4`}:void 0,r.$slots.optionAnnotator?{name:`optionAnnotator`,fn:h(({toggleAnnotator:e,isAnnotator:t})=>[l(r.$slots,`optionAnnotator`,p(a({toggleAnnotator:e,isAnnotator:t})),void 0,!0)]),key:`5`}:void 0,r.$slots.optionAltCopy?{name:`optionAltCopy`,fn:h(({altCopy:e})=>[l(r.$slots,`optionAltCopy`,p(a({altCopy:e})),void 0,!0)]),key:`6`}:void 0]),1032,[`backgroundColor`,`color`,`isPrinting`,`isImaging`,`uid`,`hasPdf`,`hasImg`,`hasSvg`,`hasFullscreen`,`hasAltCopy`,`isFullscreen`,`titles`,`chartElement`,`position`,`hasAnnotator`,`isAnnotation`,`callbacks`,`printScale`,`isCursorPointer`,`onGeneratePdf`,`style`])):t(``,!0),(i(),g(`svg`,{ref_key:`svgRef`,ref:R,xmlns:n(le),class:e({"vue-data-ui-fullscreen--on":Z.value,"vue-data-ui-fulscreen--off":!Z.value}),viewBox:`0 0 ${K.value} ${q.value}`,style:o(`max-width:100%; overflow: visible; background:transparent;color:${F.value.style.chart.color}`)},[c(n(w)),r.$slots[`chart-background`]?(i(),g(`foreignObject`,{key:0,x:0,y:0,width:J.value.width,height:J.value.height,style:{pointerEvents:`none`}},[l(r.$slots,`chart-background`,{},void 0,!0)],8,Ae)):t(``,!0),F.value.style.chart.layout.curved?(i(),g(`g`,je,[(i(!0),g(ne,null,te(it.value,(t,n)=>(i(),g(`path`,{d:t.curve,"stroke-width":Y.value.mark,stroke:H.value>=n?t.color:F.value.style.chart.layout.inactiveColor,"stroke-linecap":`round`,fill:`none`,class:e({"vue-ui-tick-animated":F.value.style.chart.animation.use&&n<=H.value})},null,10,Me))),256))])):(i(),g(`g`,Ne,[(i(!0),g(ne,null,te(it.value,(e,t)=>(i(),g(`line`,{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,"stroke-width":Y.value.mark,stroke:H.value>=t?e.color:F.value.style.chart.layout.inactiveColor,"stroke-linecap":`round`},null,8,Pe))),256))])),F.value.style.chart.percentage.show?(i(),g(`g`,Fe,[n(Je)?(i(),g(`rect`,{key:0,x:rt.value.x,y:rt.value.y,width:40,height:X.value.fontSize,fill:`#6A6A6A80`,rx:3},null,8,Ie)):(i(),g(`text`,{key:1,x:X.value.x,y:X.value.y,"font-size":X.value.fontSize,fill:F.value.style.chart.layout.ticks.gradient.show&&F.value.style.chart.percentage.useGradientColor?n(de)(F.value.style.chart.layout.activeColor,H.value/100*(F.value.style.chart.layout.ticks.gradient.shiftHueIntensity/100)):F.value.style.chart.percentage.color,"font-weight":X.value.bold?`bold`:`normal`,"text-anchor":X.value.textAnchor},s(n(pe)(F.value.style.chart.percentage.formatter,H.value,n(ae)({v:H.value,s:`%`,r:F.value.style.chart.percentage.rounding}))),9,Le))])):t(``,!0),l(r.$slots,`svg`,{svg:{...J.value,isPrintingImg:n(B)|n(V)|N.value,isPrintingSvg:P.value}},void 0,!0)],14,ke)),r.$slots.watermark?(i(),g(`div`,Re,[l(r.$slots,`watermark`,p(a({isPrinting:n(B)||n(V)||N.value||P.value})),void 0,!0)])):t(``,!0),r.$slots.source?(i(),g(`div`,{key:5,ref_key:`source`,ref:Ue,dir:`auto`},[l(r.$slots,`source`,{},void 0,!0)],512)):t(``,!0),l(r.$slots,`skeleton`,{},()=>[n(Je)?(i(),u(_e,{key:0})):t(``,!0)],!0)],46,Oe))}},[[`__scopeId`,`data-v-f381cb10`]]),Be=Object.freeze(Object.defineProperty({__proto__:null,default:ze},Symbol.toStringTag,{value:`Module`}));export{O as a,Be as b};