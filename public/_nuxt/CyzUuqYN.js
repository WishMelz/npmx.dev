const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./CH8pva4p.js","./BLt7TXlb.js","./xh7dz5-d.js","./CWNsAIol.js","./Cf-0F-2c.js","./C0O4I1kb.js","./DdyLBgN8.js","./C66xQW7K.js","./DuIAB7Tu.js","./ByvxprxI.js","./CRSLCJ2m.js","./8DvoFuCx.js","./CbFHGlY2.js","./DHC76net.js","./BDmUravP.js","./D7-tWLRc.js","./CBD7ngdF.js","./BIodG7vT.js"])))=>i.map(i=>d[i]);
import{At as e,C as t,D as n,Dt as r,G as i,H as a,J as o,M as s,Mt as c,Nt as l,O as u,Q as d,R as f,S as p,St as m,T as ee,Tt as te,Z as h,_ as ne,b as g,et as re,f as ie,it as ae,jt as _,k as v,lt as y,m as b,ot as x,p as oe,w as S,x as C,yt as w,z as se}from"./BLt7TXlb.js";import{t as T}from"./YZkb6lnT.js";import{A as ce,F as le,Mt as ue,N as de,Nt as fe,P as pe,St as me,V as he,_t as ge,a as _e,bt as ve,dt as ye,h as be,i as xe,it as E,j as Se,pt as Ce,wt as we,y as Te}from"./Cf-0F-2c.js";import{n as Ee,t as De}from"./8DvoFuCx.js";import{t as Oe}from"./Cme7ewGR.js";import{t as ke}from"./CWNsAIol.js";import{n as Ae,t as je}from"./D4ushAer.js";import{t as Me}from"./CLl0-3D6.js";import{t as Ne}from"./BwaPX4qL.js";import{t as Pe}from"./BDmUravP.js";import{t as Fe}from"./BIZzPpPz.js";import{a as Ie,n as Le}from"./D4v1zV2y.js";import{t as Re}from"./xh7dz5-d.js";import{t as ze}from"./CB2Wh4RA.js";import{t as Be}from"./BEpjx3T_.js";import{t as Ve}from"./DMqKe8aR.js";import{t as He}from"./CMjlbb0z.js";function Ue(e,t){let n=e.length;if(n===0)throw Error(`Max aspect ratio cannot be computed: ${e} is an empty array`);{let r=1/0,i=-1/0,a=0;for(let t=0;t<n;t+=1){let n=e[t].normalizedValue;n<r&&(r=n),n>i&&(i=n),a+=n}return Math.max(t**2*i/a**2,a**2/(t**2*r))}}function We(e){let{xOffset:t,yOffset:n,width:r,height:i}=e;return{x0:t,y0:n,x1:t+r,y1:n+i}}function Ge(e,t,n){if(e.length===0)return!0;{let r=e.concat(t);return Ue(e,n)>=Ue(r,n)}}function Ke(e){let t=[],n=e.length;for(let r=0;r<n;r+=1){let n=e[r],i=n.length;for(let e=0;e<i;e+=1)t.push(n[e])}return t}function qe(e,t){return et({...t,children:e})}function Je(e){return(e.x1-e.x0)*(e.y1-e.y0)}function Ye(e,t){let{width:n,height:r,xOffset:i,yOffset:a}=Qe(t),o=e.length,s=e.map(e=>e.normalizedValue||0).reduce((e,t)=>e+t,0),c=s/r,l=s/n,u=i,d=a,f=[];if(n>=r){for(let t=0;t<o;t+=1){let n=e[t],r=d+n.normalizedValue/c,i={x0:u,y0:d,x1:u+c,y1:r},a=Object.assign({},n,i);d=r,f.push(a)}return f}else{for(let t=0;t<o;t+=1){let n=e[t],r=u+n.normalizedValue/l,i={x0:u,y0:d,x1:r,y1:d+l},a=Object.assign({},n,i);u=r,f.push(a)}return f}}function Xe(e){let t=Qe(e),n=t.width,r=t.height;return Math.min(n,r)}function Ze(e,t){let n=e.length,r=t/e.map(e=>e.value??0).reduce((e,t)=>e+t,0),i=[],a,o;for(let t=0;t<n;t+=1)o=e[t],a=Object.assign({},o,{normalizedValue:o.value*(r||0)}),i.push(a);return i}function Qe(e){let{x0:t,y0:n,x1:r,y1:i}=e;return{xOffset:t,yOffset:n,width:r-t,height:i-n}}function $e(e,t,n,r){let i=e,a=t,o=n,s=r;for(;;){let e=i.length;if(e===0){let e=Ye(a,o);return s.concat(e)}let t=Xe(o),n=i[0],r=i.slice(1,e);if(Ge(a,n,t)){let e=a.concat(n);i=r,a=e,o=o,s=s}else{let e=a.length,t=0;for(let n=0;n<e;n+=1)t+=a[n].normalizedValue;let n=tt(o,t),r=Ye(a,o),c=s.concat(r);i=i,a=[],o=n,s=c}}}function et(e){if(typeof e.children>`u`||!e.children.length)return[e];{let t=$e(Ze(e.children,Je(e)),[],e,[]),n=t.length,r=[];for(let e=0;e<n;e+=1)r.push(et(t[e]));return Ke(r)}}function tt(e,t){let{width:n,height:r,xOffset:i,yOffset:a}=Qe(e);if(n>=r){let e=t/r,o=n-e;return We({xOffset:i+e,yOffset:a,width:o,height:r})}else{let e=t/n,o=r-e;return We({xOffset:i,yOffset:a+e,width:n,height:o})}}var D={userOptions:{show:!1},style:{chart:{legend:{show:!1}}}},O={userOptions:{show:!1},style:{chart:{backgroundColor:`#1A1A1A`,color:`#CCCCCC`,layout:{rects:{stroke:`#1A1A1A`,selected:{stroke:`#5A5A5A`},group:{stroke:`#8A8A8A`,label:{adaptColorToBackground:!1,color:`#CCCCCC`}}}},legend:{show:!1,backgroundColor:`#1A1A1A`,color:`#CCCCCC`,selectAllToggle:{backgroundColor:`#3A3A3A`,color:`#CCCCCC`}},title:{color:`#CCCCCC`,subtitle:{color:`#757575`}},tooltip:{backgroundColor:`#1A1A1A`,backgroundOpacity:70,color:`#CCCCCC`,borderColor:`#3A3A3A`}}},table:{th:{backgroundColor:`#1A1A1A`,color:`#CCCCCC`},td:{backgroundColor:`#1A1A1A`,color:`#CCCCCC`}}},nt={style:{chart:{backgroundColor:`#1A1A1A`,color:`#CCCCCC`,layout:{rects:{stroke:`#1A1A1A`,selected:{stroke:`#5A5A5A`},group:{stroke:`#8A8A8A`,label:{adaptColorToBackground:!1,color:`#CCCCCC`}}}},legend:{backgroundColor:`#1A1A1A`,color:`#CCCCCC`,selectAllToggle:{backgroundColor:`#3A3A3A`,color:`#CCCCCC`}},title:{color:`#CCCCCC`,subtitle:{color:`#757575`}},tooltip:{backgroundColor:`#1A1A1A`,backgroundOpacity:70,color:`#CCCCCC`,borderColor:`#5A5A5A`}}},table:{th:{backgroundColor:`#1A1A1A`,color:`#CCCCCC`},td:{backgroundColor:`#1A1A1A`,color:`#CCCCCC`}}},rt={style:{chart:{backgroundColor:`#FFF8E1`,color:`#424242`,layout:{rects:{stroke:`#FFF8E1`,selected:{stroke:`#FFF8E1`},group:{stroke:`#424242`,label:{adaptColorToBackground:!1,color:`#424242`}}}},legend:{backgroundColor:`#FFF8E1`,color:`#424242`,selectAllToggle:{backgroundColor:`#5D4037`,color:`#FFF8E1`}},title:{color:`#424242`,subtitle:{color:`#757575`}},tooltip:{backgroundColor:`#FFECB3`,backgroundOpacity:30,color:`#424242`,borderColor:`#FF8A65`}}},table:{th:{backgroundColor:`#FFF8E1`,color:`#424242`},td:{backgroundColor:`#FFF8E1`,color:`#424242`}}},it={style:{chart:{backgroundColor:`#1E1E1E`,color:`#BDBDBD`,layout:{rects:{stroke:`#1E1E1E`,selected:{stroke:`#1E1E1E`},group:{stroke:`#8A8A8A`,label:{adaptColorToBackground:!1,color:`#BDBDBD`}}}},legend:{backgroundColor:`#1E1E1E`,color:`#BDBDBD`,selectAllToggle:{backgroundColor:`#3A3A3A`,color:`#BDBDBD`}},title:{color:`#FFF8E1`,subtitle:{color:`#BDBDBD`}},tooltip:{backgroundColor:`#1E1E1E`,backgroundOpacity:30,color:`#FFF8E1`,borderColor:`#FF8A65`}}},table:{th:{backgroundColor:`#1E1E1E`,color:`#BDBDBD`},td:{backgroundColor:`#1E1E1E`,color:`#BDBDBD`}}},k={style:{chart:{backgroundColor:`#1A1A1A`,color:`#99AA99`,layout:{rects:{stroke:`#1A1A1A`,selected:{stroke:`#1A1A1A`},group:{stroke:`#99AA99`,label:{adaptColorToBackground:!1,color:`#99AA99`}}}},legend:{backgroundColor:`#1A1A1A`,color:`#99AA99`,selectAllToggle:{backgroundColor:`#3A3A3A`,color:`#99AA99`}},title:{color:`#66CC66`,subtitle:{color:`#99AA99`}},tooltip:{backgroundColor:`#2A2F2A`,color:`#AACCAA`,borderColor:`#66CC66`}}},table:{th:{backgroundColor:`#1A1A1A`,color:`#99AA99`},td:{backgroundColor:`#1A1A1A`,color:`#AACCAA`}}},at={style:{chart:{backgroundColor:`#fbfafa`,color:`#8A9892`,layout:{rects:{stroke:`#fbfafa`,strokeWidth:2,borderRadius:12,selected:{stroke:`#fbfafa`}}},legend:{backgroundColor:`#fbfafa`,color:`#99AA99`,selectAllToggle:{backgroundColor:`#E0CFC3`,color:`#8F837A`}},title:{color:`#8A9892`,subtitle:{color:`#99AA99`}},tooltip:{backgroundColor:`#fbfafa`,color:`#8A9892`}}},table:{th:{backgroundColor:`#fbfafa`,color:`#8F837A`},td:{backgroundColor:`#fbfafa`,color:`#8F837A`}}},ot={style:{chart:{backgroundColor:`#f6f6fb`,color:`#50606C`,layout:{rects:{stroke:`#1A1A1A`,selected:{stroke:`#1A1A1A`},group:{stroke:`#50606C`,label:{adaptColorToBackground:!1,color:`#50606C`}}}},legend:{backgroundColor:`#f6f6fb`,color:`#61747E`,selectAllToggle:{backgroundColor:`#50606C`,color:`#f6f6fb`}},title:{color:`#50606C`,subtitle:{color:`#718890`}},tooltip:{backgroundColor:`#f6f6fb`,color:`#50606C`}}},table:{th:{backgroundColor:`#f6f6fb`,color:`#50606C`},td:{backgroundColor:`#f6f6fb`,color:`#50606C`}}},st={default:{},minimal:D,minimalDark:O,dark:nt,celebration:rt,celebrationNight:it,hack:k,zen:at,concrete:ot},A=Object.freeze(Object.defineProperty({__proto__:null,celebration:rt,celebrationNight:it,concrete:ot,dark:nt,default:st,hack:k,minimal:D,minimalDark:O,zen:at},Symbol.toStringTag,{value:`Module`})),ct=[`id`],lt=[`id`],ut=[`tabindex`,`onClick`,`onKeydown`,`data-last-crumb`,`onMouseenter`,`onFocus`],dt={class:`vue-ui-treemap-crumb-unit`},ft={class:`vue-ui-treemap-crumb-unit-label`},pt={key:0,style:{width:`24px`,display:`flex`,"align-items":`center`}},mt={key:0,class:`vue-ui-treemap-crumb-unit-arrow`},ht=[`xmlns`,`viewBox`],gt={key:0},_t=[`id`],vt=[`stop-color`],yt=[`stop-color`],bt=[`x`,`y`,`height`,`width`,`fill`,`stroke`,`stroke-width`],xt=[`width`,`height`,`x`,`y`],St=[`innerHTML`],Ct=[`x`,`y`,`height`,`width`,`fill`,`rx`,`stroke`,`stroke-width`,`onClick`,`onMouseenter`,`onMouseleave`],wt=[`innerHTML`],Tt=[`x`,`y`,`height`,`width`],Et={style:{width:`100%`,height:`100%`},class:`vue-ui-treemap-cell`},Dt={key:5,class:`vue-data-ui-watermark`},Ot=[`id`],kt=[`onClick`],At=[`innerHTML`],jt=ke({__name:`vue-ui-treemap`,props:{config:{type:Object,default(){return{}}},dataset:{type:Array,default(){return[]}}},emits:[`selectLegend`,`selectDatapoint`,`copyAlt`],setup(ke,{expose:Ue,emit:We}){let Ge=v(()=>T(()=>import(`./CH8pva4p.js`),__vite__mapDeps([0,1,2,3,4,5]),import.meta.url)),Ke=v(()=>T(()=>import(`./DdyLBgN8.js`),__vite__mapDeps([6,1,2,3,4,7,8]),import.meta.url)),Je=v(()=>T(()=>import(`./ByvxprxI.js`),__vite__mapDeps([9,10,1,2,3,4,11]),import.meta.url)),Ye=v(()=>T(()=>import(`./CbFHGlY2.js`),__vite__mapDeps([12,1,4]),import.meta.url)),Xe=v(()=>T(()=>import(`./DHC76net.js`),__vite__mapDeps([13,1,2,3,4,14,15,8]),import.meta.url)),Ze=v(()=>T(()=>import(`./CBD7ngdF.js`),__vite__mapDeps([16,1]),import.meta.url)),Qe=v(()=>T(()=>import(`./BIodG7vT.js`),__vite__mapDeps([17,1,2,3,4]),import.meta.url)),{vue_ui_treemap:$e}=De(),{isThemeValid:et,warnInvalidTheme:tt}=Ne(),D=ke,O=We,nt=ae();i(()=>{nt[`chart-background`]&&console.warn(`VueUiTreemap does not support the #chart-background slot.`)});let rt=g(()=>!!D.dataset&&D.dataset.length),it=g(()=>/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),k=w(fe()),at=w(!1),ot=w(``),A=w(!1),jt=w(0),j=w([]),M=m(null),Mt=m(null),Nt=m(null),Pt=m(null),Ft=m(null),It=w(0),Lt=w(0),Rt=w(0),N=w([]),zt=w(null),Bt=w(!1),Vt=w(null),Ht=w(null),Ut=w(null),P=w(new Map),Wt=w(!1),Gt=w(!1),F=w($t()),I=g(()=>F.value.userOptions.useCursorPointer),Kt=g(()=>pe({defaultConfig:{userOptions:{show:!1},style:{chart:{backgroundColor:`#999999`,layout:{labels:{showDefaultLabels:!1},rects:{stroke:`#6A6A6A`}},legend:{backgroundColor:`transparent`}}}},userConfig:F.value.skeletonConfig??{}})),{loading:L,FINAL_DATASET:qt,manualLoading:Jt}=je({...te(D),FINAL_CONFIG:F,prepareConfig:$t,skeletonDataset:D.config?.skeletonDataset??[{name:`_`,value:53,color:`#CACACA90`,children:[{name:`_`,value:21},{name:`_`,value:13},{name:`_`,value:8},{name:`_`,value:5},{name:`_`,value:3},{name:`_`,value:2},{name:`_`,value:1}]}],skeletonConfig:pe({defaultConfig:F.value,userConfig:Kt.value})}),{userOptionsVisible:Yt,setUserOptionsVisibility:Xt,keepUserOptionState:Zt}=Ve({config:F.value}),{svgRef:Qt}=Be({config:F.value.style.chart.title});function $t(){let e=Ee({userConfig:D.config,defaultConfig:$e}),t=e.theme;if(!t)return e;if(!et.value(e))return tt(e),e;let n=Ee({userConfig:st[t]||D.config,defaultConfig:e}),r=Ee({userConfig:D.config,defaultConfig:n});return{...r,customPalette:r.customPalette.length?r.customPalette:ye[t]||E}}x(()=>D.config,e=>{L.value||(F.value=$t()),Yt.value=!F.value.userOptions.showOnChartHover,It.value+=1,Lt.value+=1,Rt.value+=1,R.value.showTable=F.value.table.show,R.value.showTooltip=F.value.style.chart.tooltip.show},{deep:!0});let{isPrinting:en,isImaging:tn,generatePdf:nn,generateImage:rn}=Oe({elementId:`treemap_${k.value}`,fileName:F.value.style.chart.title.text||`vue-ui-treemap`,options:F.value.userOptions.print}),an=g(()=>F.value.userOptions.show&&!F.value.style.chart.title.text),on=g(()=>Te(F.value.customPalette)),R=w({showTable:F.value.table.show,showTooltip:F.value.style.chart.tooltip.show});x(F,()=>{R.value={showTable:F.value.table.show,showTooltip:F.value.style.chart.tooltip.show}},{immediate:!0});let z=w({height:F.value.style.chart.height,width:F.value.style.chart.width});function sn(e){let t=M.value,n=z.value.height;return!t||!n?e:e*(n/t.getBoundingClientRect().height)}function cn(){if(!zt.value||Z.value.length<=1)return 0;let e=zt.value,t=getComputedStyle(e);return sn(e.offsetHeight+parseFloat(t.marginTop||`0`)+parseFloat(t.marginBottom||`0`)+parseFloat(t.paddingTop||`0`)+parseFloat(t.paddingBottom||`0`))}let B=g(()=>{let e=F.value.style.chart.padding,t=z.value.width,n=z.value.height,r=cn(),i=e.left,a=t-e.right,o=e.top,s=n-e.bottom-r;return{left:i,top:o,right:a,bottom:s,width:a-i,height:Math.max(0,s-o),vbWidth:t,vbHeight:n-r,offsetY:r}}),V=w(qt.value),H=w(V.value),ln=m(new Map);x([V,()=>F.value],()=>{Ut.value=null,P.value=new Map},{deep:!0}),x(()=>j.value,()=>{Ut.value=null,P.value=new Map},{deep:!0}),x([()=>z.value.width,()=>z.value.height],()=>{P.value=new Map});function un(e){Array.isArray(e)&&e.forEach((e,t)=>{e.id||=fe();let n=ge(e.color)||ln.value.get(e.id)||on.value[t]||E[t]||E[t%E.length];n=ge(n),ln.value.set(e.id,n),e.color=n,dn(e,n)})}function dn(e,t){Array.isArray(e.children)&&e.children.forEach(n=>{n.id||=fe(),n.parentId=e.id,n.color=t,dn(n,t)})}function fn(){if(!N.value.length)H.value=V.value.slice();else{let e=N.value[N.value.length-1];H.value=X(e)?.children?.slice()||[]}}x(()=>qt.value,()=>{V.value=qt.value,un(V.value),fn(),Rt.value+=1,Lt.value+=1},{deep:!0,immediate:!0,flush:`post`});let U=m(null),W=m(null);i(()=>{Bt.value=!0,mn()});let pn=g(()=>F.value.debug);function mn(){if(he(D.dataset)&&be({componentName:`VueUiTreemap`,type:`dataset`,debug:pn.value}),un(V.value),he(D.dataset)||(Jt.value=F.value.loading),F.value.responsive){let e=Le(()=>{let{width:e,height:t}=Ie({chart:M.value,title:F.value.style.chart.title.text?Mt.value:null,legend:F.value.style.chart.legend.show?Nt.value:null,source:Pt.value,noTitle:Ft.value});requestAnimationFrame(()=>{z.value.width=e,z.value.height=t-12})});U.value&&(W.value&&U.value.unobserve(W.value),U.value.disconnect()),U.value=new ResizeObserver(e),W.value=M.value.parentNode,U.value.observe(W.value)}}a(()=>{U.value&&(W.value&&U.value.unobserve(W.value),U.value.disconnect())});let hn=g(()=>H.value.map((e,t)=>({...e,color:ge(e.color)||on.value[t]||E[t]||E[t%E.length]})).filter(e=>!j.value.includes(e.id))),G=g(()=>V.value.filter(e=>!j.value.includes(e.id)).map(e=>e.value||0).reduce((e,t)=>e+t,0)),gn=g({get(){let e=[...hn.value];return F.value.style.chart.layout.sorted&&(e=[...hn.value].sort((e,t)=>t.value-e.value)),e.map(e=>({...e}))},set(e){return e}});function _n(e,t){return e.value/t}function vn(e,t,n){let r=F.value.style.chart.layout.rects.colorRatio-_n(t,n);return Se(e,r<0?0:r)}function yn(e){return Array.isArray(e.children)&&e.children.length>0}function bn(e){return[...e].sort((e,t)=>{let n=yn(e),r=yn(t);if(n!==r)return n-r;let i=Number(e.value)||0;return(Number(t.value)||0)-i})}function xn(e,t,n,r,i){return bn(e).map((e,a)=>{let o=vn(ge(t)||on.value[a]||E[a]||E[a%E.length],e,r),s=_n(e,r),c=i??e.parentId??e.id;return{...e,color:o,proportion:s,parentName:n,rootId:c,children:Array.isArray(e.children)&&e.children.length?xn(e.children,o,e.name,r,c):void 0}})}let Sn=g(()=>{let e=gn.value.map(e=>Number(e.value)||0).reduce((e,t)=>e+t,0)||1,t=gn.value.map(t=>{let n=t.children?t.children.reduce((e,t)=>e+(Number(t.value)||0),0):t.value,{children:r,parentId:i,id:a,value:o,name:s,color:c,...l}=t,u=t.id||fe();return{...l,id:u,name:t.name,value:t.value,color:t.color,proportion:(Number(t.value)||0)/e,children:Array.isArray(t.children)&&t.children.length?xn(t.children,t.color,t.name,n||1):void 0}});if(N.value.length===0){Ut.value||=qe(t,{x0:0,y0:0,x1:1,y1:1});let e={x0:B.value.left,y0:B.value.top,x1:B.value.left+B.value.width,y1:B.value.top+B.value.height},n=e.x1-e.x0,r=e.y1-e.y0;return Ut.value.map(t=>({...t,x0:e.x0+t.x0*n,x1:e.x0+t.x1*n,y0:e.y0+t.y0*r,y1:e.y0+t.y1*r}))}return qe(t,{x0:B.value.left,y0:B.value.top,x1:B.value.left+B.value.width,y1:B.value.top+B.value.height})});function Cn(e){let t=N.value.length?N.value[N.value.length-1]:null,n=new Map,r=new Map,i=new Map,a=new Map;for(let o of e){let e=jn(o.id);if(t){let n=e.indexOf(t);if(n>=0)e=e.slice(n);else continue}e=e.filter(e=>{let t=X(e);return t&&Array.isArray(t.children)&&t.children.length}),e.length&&(e.forEach((e,t)=>{let r=X(e);if(!r)return;let s=n.get(e);s?(s.x0=Math.min(s.x0,o.x0),s.y0=Math.min(s.y0,o.y0),s.x1=Math.max(s.x1,o.x1),s.y1=Math.max(s.y1,o.y1),s.depth=Math.min(s.depth,t)):(s={id:e,name:r.name,value:r.value,color:r.color,x0:o.x0,y0:o.y0,x1:o.x1,y1:o.y1,depth:t},n.set(e,s));let c=i.get(e);c||(c=new Set,i.set(e,c)),c.add(o.id);let l=a.get(e);(l==null||t<l)&&a.set(e,t)}),r.set(o.id,e))}return{wrappers:Array.from(n.values()).map(e=>({...e,depth:a.get(e.id)??e.depth??0,childrenIds:Array.from(i.get(e.id)||[])})),ancestorsByLeaf:r}}let wn=g(()=>Cn(Sn.value)),Tn=g(()=>{let e=wn.value.wrappers;return e.length?e.filter(e=>Dn(e)):[]});function En(e){return Y(e)*1.2}function Dn(e){let t=En(e);return q(e)<t*1.1?!1:(e.labelY0=e.y0,!0)}let K=g(()=>On({rects:Sn.value,wrappers:wn.value.wrappers,ancestorsByLeaf:wn.value.ancestorsByLeaf}));function On({rects:e,wrappers:t,ancestorsByLeaf:n}){if(!t.length||!n)return e;let r=new Map(t.map(e=>[e.id,e]));return e.map(e=>{let t=n.get(e.id);if(!t||!t.length)return e;let i={...e};for(let e of t){let t=r.get(e);if(!t)continue;let n=q(t),a=En(t);if(n<a*1.1)continue;let o=Y(t),s=o*1.2,c=o*.5,l=o*.5,u=s*.5,d=J(t)/3,f=Math.min(c,d),p=n*.25,m=Math.min(l,p),ee=(typeof t.labelY0==`number`?t.labelY0:t.y0)+a,te=Math.max(i.x0,t.x0+f),h=Math.min(i.x1,t.x1-f),ne=Math.max(i.y0,ee+u),g=Math.min(i.y1,t.y1-m);if(h<=te||g<=ne)break;i={...i,x0:te,y0:ne,x1:h,y1:g}}return i})}function q({y0:e,y1:t}){return t-e<=0?1e-4:t-e}function J({x0:e,x1:t}){return t-e<=0?1e-4:t-e}function Y(e){let t=F.value.style.chart.layout.labels,n=t.fontSize,r=t.minFontSize,i=t.fontSize*2,a=.6,o=e.proportion;typeof o==`number`&&isFinite(o)||(o=Math.max(1e-6,J(e)*q(e))/Math.max(1e-6,B.value.width*B.value.height));let s=Math.min(1,Math.max(0,o))**.5,c=n*(a+(1-a)*s),l=Math.max(1e-4,Math.min(J(e),q(e)));return c=Math.min(c,l*.9),c=Math.max(r,Math.min(i,c)),c}function kn(e){A.value=e,jt.value+=1}let An=g(()=>({startX:0,startY:0,width:B.value.vbWidth,height:B.value.vbHeight}));function X(e,t=V.value){for(let n of t){if(n.id===e)return n;if(n.children){let t=X(e,n.children);if(t)return t}}return null}function jn(e){let t=[],n=X(e);for(;n&&n.parentId;){let e=X(n.parentId);if(!e)break;t.unshift(e.id),n=e}return t}let Mn=g(()=>N.value.length>0);function Nn(e,t){if(!e){H.value=V.value.slice(),O(`selectDatapoint`,void 0),N.value=[];return}F.value.events.datapointClick&&F.value.events.datapointClick({datapoint:e,seriesIndex:t});let n=X(e.id);if(n&&n.children?.length)N.value.push(n.id),H.value=n.children.slice(),O(`selectDatapoint`,e);else if(e.parentId)N.value.push(e.parentId),H.value=X(e.parentId).children.slice(),O(`selectDatapoint`,e);else if(N.value.length>0){N.value.pop();let e=N.value[N.value.length-1];e?H.value=X(e).children.slice():(H.value=V.value.slice(),N.value=[],O(`selectDatapoint`,void 0))}}function Pn(e){return!!(X(e.id)?.children?.length||e.parentId)}let Z=g(()=>{let e=[{id:null,label:`All`}];if(N.value.length>0){let t=X(N.value[N.value.length-1]),n=[];for(;t;)n.unshift(t),t=t.parentId?X(t.parentId):null;for(let t of n)e.push({id:t.id,label:t.name,node:t})}return e}),Q=m(null),Fn=g(()=>V.value.map((e,t)=>({...e,color:ge(e.color)||on.value[t]||E[t]||E[t%E.length],shape:`square`})).sort((e,t)=>t.value-e.value).map((e,t)=>{let n=e.value/V.value.map(e=>e.value).reduce((e,t)=>e+t,0);return{...e,proportion:n,opacity:j.value.includes(e.id)?.5:1,display:`${e.name}${F.value.style.chart.legend.showPercentage||F.value.style.chart.legend.showValue?`: `:``}${F.value.style.chart.legend.showValue?we(F.value.style.chart.layout.labels.formatter,e.value,ue({p:F.value.style.chart.layout.labels.prefix,v:e.value,s:F.value.style.chart.layout.labels.suffix,r:F.value.style.chart.legend.roundingValue}),{datapoint:e}):``}${F.value.style.chart.legend.showPercentage?j.value.includes(e.id)?`${F.value.style.chart.legend.showValue?` (`:``}- %${F.value.style.chart.legend.showValue?`)`:``}`:`${F.value.style.chart.legend.showValue?` (`:``}${isNaN(e.value/G.value)?`-`:(e.value/G.value*100).toFixed(F.value.style.chart.legend.roundingPercentage)}%${F.value.style.chart.legend.showValue?`)`:``}`:``}`}})),In=g(()=>({cy:`treemap-div-legend`,backgroundColor:F.value.style.chart.legend.backgroundColor,color:F.value.style.chart.legend.color,fontSize:F.value.style.chart.legend.fontSize,paddingBottom:12,fontWeight:F.value.style.chart.legend.bold?`bold`:``})),Ln=g(()=>j.value.length===Fn.value.length);function Rn(){j.value.length?j.value=[]:Fn.value.forEach(e=>{j.value.push(e.id)})}function zn(e){Q.value=null,j.value.includes(e.id)?j.value=j.value.filter(t=>t!==e.id):j.value.length<D.dataset.length-1&&j.value.push(e.id),O(`selectLegend`,gn.value)}function Bn(e){return V.value.length?V.value.find(t=>t.name===e)||(F.value.debug&&console.warn(`VueUiTreemap - Series name not found "${e}"`),null):(F.value.debug&&console.warn(`VueUiTreemap - There are no series to show.`),null)}function Vn(e){let t=Bn(e);t!==null&&j.value.includes(t.id)&&zn({id:t.id})}function Hn(e){let t=Bn(e);t!==null&&(j.value.includes(t.id)||zn({id:t.id}))}function Un({datapoint:e,seriesIndex:t}){Q.value=null,at.value=!1,F.value.events.datapointLeave&&F.value.events.datapointLeave({datapoint:e,seriesIndex:t})}let Wn=w(null);function Gn({datapoint:e,seriesIndex:t}){if(Ln.value)return;F.value.events.datapointEnter&&F.value.events.datapointEnter({datapoint:e,seriesIndex:t}),Q.value=e,Wn.value={datapoint:e,seriesIndex:t,config:F.value,series:hn.value};let n=F.value.style.chart.tooltip.customFormat;if(le(n)&&Ce(()=>n({seriesIndex:t,datapoint:e,series:hn.value,config:F.value})))ot.value=n({seriesIndex:t,datapoint:e,series:hn.value,config:F.value});else{let n=``;n+=`<div style="width:100%;text-align:center;border-bottom:1px solid ${F.value.style.chart.tooltip.borderColor};padding-bottom:6px;margin-bottom:3px;">${e.name}</div>`,n+=`<div style="display:flex;flex-direction:row;gap:6px;align-items:center;"><svg viewBox="0 0 12 12" height="14" width="14"><rect x="0" y="0" height="12" width="12" stroke="none" fill="${e.color}"/></svg>`,n+=`<b>${we(F.value.style.chart.layout.labels.formatter,e.value,ue({p:F.value.style.chart.layout.labels.prefix,v:e.value,s:F.value.style.chart.layout.labels.suffix,r:F.value.style.chart.tooltip.roundingValue}),{datapoint:e,seriesIndex:t})}</b>`,ot.value=`<div>${n}</div>`}at.value=!0}let $=g(()=>({head:K.value.map(e=>({name:e.name,color:e.color})),body:K.value.map(e=>e.value)}));function Kn(e=null){se(()=>{let t=$.value.head.map((e,t)=>[[e.name],[$.value.body[t]],[isNaN($.value.body[t]/G.value)?`-`:$.value.body[t]/G.value*100]]),n=_e([[F.value.style.chart.title.text],[F.value.style.chart.title.subtitle.text],[[``],[`val`],[`%`]]].concat(t));e?e(n):de({csvContent:n,title:F.value.style.chart.title.text||`vue-ui-treemap`})})}let qn=g(()=>{let e=[F.value.table.columnNames.series,F.value.table.columnNames.value,F.value.table.columnNames.percentage],t=$.value.head.map((e,t)=>{let n=we(F.value.style.chart.layout.labels.formatter,$.value.body[t],ue({p:F.value.style.chart.layout.labels.prefix,v:$.value.body[t],s:F.value.style.chart.layout.labels.suffix,r:F.value.table.td.roundingValue}));return[{color:e.color,name:e.name,shape:`square`},n,isNaN($.value.body[t]/G.value)?`-`:ue({v:$.value.body[t]/G.value*100,s:`%`,r:F.value.table.td.roundingPercentage})]}),n={th:{backgroundColor:F.value.table.th.backgroundColor,color:F.value.table.th.color,outline:F.value.table.th.outline},td:{backgroundColor:F.value.table.td.backgroundColor,color:F.value.table.td.color,outline:F.value.table.td.outline},breakpoint:F.value.table.responsiveBreakpoint};return{colNames:[F.value.table.columnNames.series,F.value.table.columnNames.value],head:e,body:t,config:n}});function Jn(){return K.value}function Yn(){R.value.showTable=!R.value.showTable}function Xn(){R.value.showTooltip=!R.value.showTooltip}let Zn=w(!1);function Qn(){Zn.value=!Zn.value}let $n=w(null);function er(e){$n.value=e}function tr(){$n.value=null}async function nr({scale:e=2}={}){if(!M.value)return;let{width:t,height:n}=M.value.getBoundingClientRect(),r=t/n,{imageUri:i,base64:a}=await Pe({domElement:M.value,base64:!0,img:!0,scale:e});return{imageUri:i,base64:a,title:F.value.style.chart.title.text,width:t,height:n,aspectRatio:r}}let rr=g(()=>{let e=F.value.table.useDialog&&!F.value.table.show,t=R.value.showTable;return{component:e?Qe:Je,title:`${F.value.style.chart.title.text}${F.value.style.chart.title.subtitle.text?`: ${F.value.style.chart.title.subtitle.text}`:``}`,props:e?{backgroundColor:F.value.table.th.backgroundColor,color:F.value.table.th.color,headerColor:F.value.table.th.color,headerBg:F.value.table.th.backgroundColor,isFullscreen:A.value,fullscreenParent:M.value,forcedWidth:Math.min(800,window.innerWidth*.8),isCursorPointer:I.value}:{hideDetails:!0,config:{open:t,maxHeight:1e4,body:{backgroundColor:F.value.style.chart.backgroundColor,color:F.value.style.chart.color},head:{backgroundColor:F.value.style.chart.backgroundColor,color:F.value.style.chart.color}}}}});x(()=>R.value.showTable,e=>{F.value.table.show||(e&&F.value.table.useDialog&&Vt.value?Vt.value.open():`close`in Vt.value&&Vt.value.close())});function ir(){R.value.showTable=!1,Ht.value&&Ht.value.setTableIconState(!1)}let ar=g(()=>Fn.value.map(e=>({...e,name:e.display}))),or=g(()=>F.value.style.chart.backgroundColor),sr=g(()=>F.value.style.chart.legend),{exportSvg:cr,getSvg:lr}=Me({svg:Qt,title:g(()=>F.value.style.chart.title),legend:sr,legendItems:ar,backgroundColor:or});async function ur({isCb:e}){Gt.value=!0,await se();try{if(e){let{blob:e,url:t,text:n,dataUrl:r}=await lr();await Promise.resolve(F.value.userOptions.callbacks.svg({blob:e,url:t,text:n,dataUrl:r}))}else await Promise.resolve(cr())}finally{Gt.value=!1}}function dr(e){if(e?.stage===`start`){Wt.value=!0;return}if(e?.stage===`end`){Wt.value=!1;return}rn()}function fr(e){let t=Y(e)*.6;return Math.max(0,J(e)-2*t)}function pr({rect:e,seriesIndex:t,isTitle:n=!1}){let r=F.value.style.chart.layout.labels.name.show,i=F.value.style.chart.layout.labels.value.show;if(!r&&!i)return``;let a=N.value.length===0,o=a?`${e.id}:${n?`title`:`rect`}`:null;if(a&&P.value.has(o))return P.value.get(o);let s=Math.max(2,Y(e)/3),c=Math.max(8,Y(e)),l=c*1.2,u=Math.max(0,J(e)-s*2),d=Math.max(0,q(e)-s*2);if(u<=2||d<=c*.8)return a&&o&&P.value.set(o,``),``;let f=F.value.style.fontFamily,p=F.value.style.chart.layout.labels.name.bold?`600`:`400`,m=F.value.style.chart.layout.labels.value.bold?`600`:`400`,ee=n?F.value.style.chart.layout.rects.group.label.adaptColorToBackground?F.value.style.chart.layout.rects.group.useSeriesBackgroundColor?me(Se(e.color,.4)):me(F.value.style.chart.backgroundColor):F.value.style.chart.layout.rects.group.label.color:me(e.color),te=r?String(e.name??``):``,h=i?we(F.value.style.chart.layout.labels.formatter,e.value??0,ue({p:F.value.style.chart.layout.labels.prefix,v:e.value??0,s:F.value.style.chart.layout.labels.suffix,r:F.value.style.chart.layout.labels.rounding}),{datapoint:e,seriesIndex:t}):``,ne=n?fr(e):u;function g(e,t=c,n=`400`){let r=document.createElementNS(ve,`svg`);r.setAttribute(`width`,`0`),r.setAttribute(`height`,`0`),r.style.position=`absolute`,r.style.visibility=`hidden`,r.style.pointerEvents=`none`;let i=document.createElementNS(ve,`text`);i.setAttribute(`font-size`,String(t)),i.setAttribute(`font-family`,f),i.setAttribute(`font-weight`,String(n)),i.textContent=e||``,r.appendChild(i),document.body.appendChild(r);let a=i.getComputedTextLength();return document.body.removeChild(r),a}if(n){let t=``;if(r&&(t=te),i&&(t=t?`${t} (${h})`:h),!t)return a&&o&&P.value.set(o,``),``;let n=t;if(g(n,c,p)>ne){let e=n;for(;e.length&&g(e+`…`,c,p)>ne;)e=e.slice(0,-1);n=e?e+`…`:``}if(!n)return a&&o&&P.value.set(o,``),``;let l=En(e),u=typeof e.depth==`number`?e.depth:0,d=l*1.4,m=typeof e.labelY0==`number`?e.labelY0:e.y0+u*d,re=`<text
            x="${e.x0+s+c/2}"
            y="${m+s+c}"
            font-size="${c}"
            font-family="${ce(f)}"
            font-weight="${p}"
            fill="${ce(ee)}"
            paint-order="stroke"
            stroke="transparent"
            stroke-width="0"
            style="transition: all 0.2s ease-in-out;"
        >
            ${xe(n)}
        </text>`;return a&&o&&P.value.set(o,re),re}let re=i?1:0,ie=Math.max(0,Math.floor(d/l)-re);if(ie<=0&&!i)return a&&o&&P.value.set(o,``),``;function ae(e,t,n,r,i,a){let o=String(e).split(/\s+/).filter(Boolean),s=[],c=``;function l(e){return g(e,n,r)<=t}function u(e){if(l(e))return[e];let t=[],n=0;for(;n<e.length;){let r=1,i=e.length-n,a=1;for(;r<=i;){let t=r+i>>1;l(e.slice(n,n+t))?(a=t,r=t+1):i=t-1}t.push(e.slice(n,n+a)),n+=a}return t}let d=o.flatMap(e=>u(e)),f=!1;for(let e=0;e<d.length;e+=1){let t=d[e],n=c?c+` `+t:t;if(l(n))c=n;else{if(c)s.push(c);else{let e=t;for(;e.length&&!l(e);)e=e.slice(0,-1);e&&s.push(e)}if(c=``,s.length===i){f=!0;break}}e===d.length-1&&c&&s.length<i&&s.push(c)}if(s.length&&s.join(` `)!==d.join(` `)&&(f=!0),f&&s.length>0){let e=s[s.length-1];if(!l(e)){let t=e;for(;t.length&&!l(t);)t=t.slice(0,-1);e=t}let t=e+`…`;if(!l(t)){let n=e;for(;n.length&&!l(n+`…`);)n=n.slice(0,-1);t=n+`…`}s[s.length-1]=t}return s}let _=r?ae(te,u,c,p,ie):[],v=c,y=String(h);if(i){for(;g(y,v,m)>u&&v>Math.max(8,c*.75);)--v;if(g(y,v,m)>u){let e=y;for(;e.length&&g(e+`…`,v,m)>u;)e=e.slice(0,-1);if(y=e?e+`…`:``,!y.length)return a&&o&&P.value.set(o,``),``}}if(_.length*l+(i?l:0)>d){for(;_.length&&_.length*l+(i?l:0)>d;)_.pop();if(!_.length&&(!i||l>d))return a&&o&&P.value.set(o,``),``}let b=e.x0+s,x=e.y0+s+c,oe=[];r&&_.forEach((e,t)=>{oe.push(`
            <tspan 
                x="${b}" 
                dy="${t===0?0:l}" 
                font-weight="${p}"
            >
                ${xe(e)}
            </tspan>`)}),i&&oe.push(`
        <tspan 
            x="${b}" 
            dy="${_.length?l:0}"
            font-weight="${m}" 
            font-size="${v}"
        >
            ${xe(y)}
        </tspan>`);let S=`<text 
        x="${b}" 
        y="${x}" 
        font-size="${c}" 
        font-family="${ce(f)}" 
        fill="${ce(ee)}" 
        paint-order="stroke" 
        stroke="transparent" 
        stroke-width="0"
        style="transition: all 0.2s ease-in-out;"
    >
        ${oe.join(``)}
    </text>`;return a&&o&&P.value.set(o,S),S}function mr(e){let t=F.value.style.chart.layout.rects.borderRadius,n=J(e),r=q(e);return Math.min(t,Math.min(n,r)/6)}async function hr(){if(O(`copyAlt`,{config:F.value,dataset:K.value}),!F.value.userOptions.callbacks.altCopy){console.warn("Vue Data UI - A callback must be set for `altCopy` in userOptions.");return}await Promise.resolve(F.value.userOptions.callbacks.altCopy({config:F.value,dataset:K.value}))}return Ue({getData:Jn,getImage:nr,generateCsv:Kn,generateImage:rn,generateSvg:ur,generatePdf:nn,hideSeries:Hn,showSeries:Vn,toggleTable:Yn,toggleTooltip:Xn,toggleAnnotator:Qn,toggleFullscreen:kn,copyAlt:hr}),(i,a)=>(o(),S(`div`,{ref_key:`treemapChart`,ref:M,class:e(`vue-data-ui-component vue-ui-treemap ${A.value?`vue-data-ui-wrapper-fullscreen`:``} ${F.value.useCssAnimation?``:`vue-ui-dna`}`),style:c(`font-family:${F.value.style.fontFamily};width:100%; ${F.value.responsive?`height: 100%;`:``} text-align:center;background:${F.value.style.chart.backgroundColor}`),id:`treemap_${k.value}`,onMouseenter:a[2]||=()=>r(Xt)(!0),onMouseleave:a[3]||=()=>r(Xt)(!1)},[F.value.userOptions.buttons.annotator?(o(),p(r(Ke),{key:0,svgRef:r(Qt),backgroundColor:F.value.style.chart.backgroundColor,color:F.value.style.chart.color,active:Zn.value,isCursorPointer:I.value,onClose:Qn},{"annotator-action-close":y(()=>[d(i.$slots,`annotator-action-close`,{},void 0,!0)]),"annotator-action-color":y(({color:e})=>[d(i.$slots,`annotator-action-color`,_(s({color:e})),void 0,!0)]),"annotator-action-draw":y(({mode:e})=>[d(i.$slots,`annotator-action-draw`,_(s({mode:e})),void 0,!0)]),"annotator-action-undo":y(({disabled:e})=>[d(i.$slots,`annotator-action-undo`,_(s({disabled:e})),void 0,!0)]),"annotator-action-redo":y(({disabled:e})=>[d(i.$slots,`annotator-action-redo`,_(s({disabled:e})),void 0,!0)]),"annotator-action-delete":y(({disabled:e})=>[d(i.$slots,`annotator-action-delete`,_(s({disabled:e})),void 0,!0)]),_:3},8,[`svgRef`,`backgroundColor`,`color`,`active`,`isCursorPointer`])):t(``,!0),an.value?(o(),S(`div`,{key:1,ref_key:`noTitle`,ref:Ft,class:`vue-data-ui-no-title-space`,style:`height:36px; width: 100%;background:transparent`},null,512)):t(``,!0),F.value.style.chart.title.text?(o(),S(`div`,{key:2,ref_key:`chartTitle`,ref:Mt,style:c(`width:100%;background:${F.value.style.chart.backgroundColor};padding-bottom:6px`)},[(o(),p(Fe,{key:`title_${It.value}`,config:{title:{cy:`treemap-div-title`,...F.value.style.chart.title},subtitle:{cy:`treemap-div-subtitle`,...F.value.style.chart.title.subtitle}}},null,8,[`config`]))],4)):t(``,!0),C(`div`,{id:`legend-top-${k.value}`},null,8,lt),F.value.userOptions.show&&rt.value&&(r(Zt)||r(Yt))?(o(),p(r(Xe),{ref_key:`userOptionsRef`,ref:Ht,key:`user_option_${jt.value}`,backgroundColor:F.value.style.chart.backgroundColor,color:F.value.style.chart.color,isPrinting:r(en),isImaging:r(tn),uid:k.value,hasTooltip:F.value.userOptions.buttons.tooltip&&F.value.style.chart.tooltip.show,hasPdf:F.value.userOptions.buttons.pdf,hasXls:F.value.userOptions.buttons.csv,hasImg:F.value.userOptions.buttons.img,hasSvg:F.value.userOptions.buttons.svg,hasTable:F.value.userOptions.buttons.table,hasFullscreen:F.value.userOptions.buttons.fullscreen,hasAltCopy:F.value.userOptions.buttons.altCopy,isFullscreen:A.value,isTooltip:R.value.showTooltip,titles:{...F.value.userOptions.buttonTitles},chartElement:M.value,position:F.value.userOptions.position,hasAnnotator:F.value.userOptions.buttons.annotator,isAnnotation:Zn.value,callbacks:F.value.userOptions.callbacks,printScale:F.value.userOptions.print.scale,tableDialog:F.value.table.useDialog,isCursorPointer:I.value,onToggleFullscreen:kn,onGeneratePdf:r(nn),onGenerateCsv:Kn,onGenerateImage:dr,onGenerateSvg:ur,onToggleTable:Yn,onToggleTooltip:Xn,onToggleAnnotator:Qn,onCopyAlt:hr,style:c({visibility:r(Zt)?r(Yt)?`visible`:`hidden`:`visible`})},ee({_:2},[i.$slots.menuIcon?{name:`menuIcon`,fn:y(({isOpen:e,color:t})=>[d(i.$slots,`menuIcon`,_(s({isOpen:e,color:t})),void 0,!0)]),key:`0`}:void 0,i.$slots.optionTooltip?{name:`optionTooltip`,fn:y(()=>[d(i.$slots,`optionTooltip`,{},void 0,!0)]),key:`1`}:void 0,i.$slots.optionPdf?{name:`optionPdf`,fn:y(()=>[d(i.$slots,`optionPdf`,{},void 0,!0)]),key:`2`}:void 0,i.$slots.optionCsv?{name:`optionCsv`,fn:y(()=>[d(i.$slots,`optionCsv`,{},void 0,!0)]),key:`3`}:void 0,i.$slots.optionImg?{name:`optionImg`,fn:y(()=>[d(i.$slots,`optionImg`,{},void 0,!0)]),key:`4`}:void 0,i.$slots.optionSvg?{name:`optionSvg`,fn:y(()=>[d(i.$slots,`optionSvg`,{},void 0,!0)]),key:`5`}:void 0,i.$slots.optionTable?{name:`optionTable`,fn:y(()=>[d(i.$slots,`optionTable`,{},void 0,!0)]),key:`6`}:void 0,i.$slots.optionFullscreen?{name:`optionFullscreen`,fn:y(({toggleFullscreen:e,isFullscreen:t})=>[d(i.$slots,`optionFullscreen`,_(s({toggleFullscreen:e,isFullscreen:t})),void 0,!0)]),key:`7`}:void 0,i.$slots.optionAnnotator?{name:`optionAnnotator`,fn:y(({toggleAnnotator:e,isAnnotator:t})=>[d(i.$slots,`optionAnnotator`,_(s({toggleAnnotator:e,isAnnotator:t})),void 0,!0)]),key:`8`}:void 0,i.$slots.optionAltCopy?{name:`optionAltCopy`,fn:y(({altCopy:e})=>[d(i.$slots,`optionAltCopy`,_(s({altCopy:e})),void 0,!0)]),key:`9`}:void 0]),1032,`backgroundColor.color.isPrinting.isImaging.uid.hasTooltip.hasPdf.hasXls.hasImg.hasSvg.hasTable.hasFullscreen.hasAltCopy.isFullscreen.isTooltip.titles.chartElement.position.hasAnnotator.isAnnotation.callbacks.printScale.tableDialog.isCursorPointer.onGeneratePdf.style`.split(`.`))):t(``,!0),Z.value.length>1?(o(),S(`nav`,{key:4,class:`vue-ui-treemap-breadcrumbs`,"data-dom-to-png-ignore":``,ref_key:`breadcrumbsNav`,ref:zt},[(o(!0),S(b,null,h(Z.value,(e,r)=>(o(),S(`span`,{role:`button`,tabindex:r<Z.value.length-1?0:void 0,key:e.id||`root`,onClick:t=>r===Z.value.length-1?()=>{}:Nn(e.node),onKeydown:[ie(oe(t=>r===Z.value.length-1?void 0:Nn(e.node),[`prevent`]),[`enter`]),ie(oe(t=>r===Z.value.length-1?void 0:Nn(e.node),[`prevent`]),[`space`])],class:`vue-ui-treemap-crumb`,"data-last-crumb":r===Z.value.length-1,style:c({color:F.value.style.chart.color,cursor:I.value?`pointer`:`default`}),onMouseenter:e=>er(r),onMouseleave:tr,onFocus:e=>er(r),onBlur:tr},[C(`span`,dt,[C(`span`,ft,[d(i.$slots,`breadcrumb-label`,f({ref_for:!0},{crumb:e,isRoot:r===0,isFocus:$n.value===r}),()=>[r===0?(o(),S(`div`,pt,[u(Re,{name:$n.value===0?`homeFilled`:`home`,stroke:F.value.style.chart.color},null,8,[`name`,`stroke`])])):(o(),S(b,{key:1},[n(l(e.label),1)],64))],!0)]),r<Z.value.length-1?(o(),S(`span`,mt,[d(i.$slots,`breadcrumb-arrow`,{},()=>[a[4]||=n(` › `,-1)],!0)])):t(``,!0)])],44,ut))),128))],512)):t(``,!0),(o(),S(`svg`,{ref_key:`svgRef`,ref:Qt,xmlns:r(ve),class:e({"vue-data-ui-fullscreen--on":A.value,"vue-data-ui-fulscreen--off":!A.value,"vue-data-ui-zoom-plus":!Mn.value,"vue-data-ui-zoom-minus":Mn.value,loading:r(L)}),viewBox:`${An.value.startX} ${An.value.startY} ${An.value.width<=0?10:An.value.width} ${An.value.height<=0?10:An.value.height}`,style:c(`max-width:100%; overflow: hidden; background:transparent;color:${F.value.style.chart.color}`)},[u(r(Ze)),(o(!0),S(b,null,h(K.value,(e,n)=>(o(),S(`g`,{key:`tgrad_${e.id}`},[F.value.style.chart.layout.rects.gradient.show?(o(),S(`defs`,gt,[C(`radialGradient`,{id:`tgrad_${e.id}`,gradientTransform:`translate(-1, -1.000001) scale(2, 2)`},[C(`stop`,{offset:`18%`,"stop-color":e.color},null,8,vt),C(`stop`,{offset:`100%`,"stop-color":r(Se)(e.color,F.value.style.chart.layout.rects.gradient.intensity/100)},null,8,yt)],8,_t)])):t(``,!0)]))),128)),(o(!0),S(b,null,h(Tn.value,(e,n)=>(o(),S(`g`,{key:`parent_${e.id}`,class:`vue-ui-treemap-parent-wrapper`},[C(`rect`,{x:e.x0,y:e.y0,height:q(e),width:J(e),fill:F.value.style.chart.layout.rects.group.useSeriesBackgroundColor?r(Se)(e.color??F.value.style.chart.backgroundColor,F.value.style.chart.layout.rects.group.backgroundLighterRatio):F.value.style.chart.backgroundColor,rx:0,stroke:F.value.style.chart.layout.rects.group.stroke,"stroke-width":F.value.style.chart.layout.rects.group.strokeWidth,class:`vue-data-ui-cursor-default vue-ui-treemap-rect`},null,8,bt),i.$slots[`group-label`]&&!Ln.value?(o(),S(`foreignObject`,{key:0,width:J(e),height:q(e),x:e.x0,y:e.y0},[d(i.$slots,`group-label`,f({ref_for:!0},{group:e}),void 0,!0)],8,xt)):!r(L)&&F.value.style.chart.layout.labels.showDefaultLabels&&!Ln.value?(o(),S(`g`,{key:1,style:{"pointer-events":`none`},innerHTML:pr({rect:e,seriesIndex:0,isTitle:!0}),class:`vue-data-ui-cursor-default`},null,8,St)):t(``,!0)]))),128)),(o(!0),S(b,null,h(K.value,(n,a)=>(o(),S(`g`,{key:`k_${n.id}`},[C(`rect`,{x:n.x0,y:n.y0,height:q(n),width:J(n),fill:it.value?n.color??F.value.style.chart.backgroundColor:F.value.style.chart.layout.rects.gradient.show?Ln.value?F.value.style.chart.backgroundColor:`url(#tgrad_${n.id})`:n.color??F.value.style.chart.backgroundColor,rx:mr(n),stroke:Q.value&&Q.value.id===n.id?F.value.style.chart.layout.rects.selected.stroke:F.value.style.chart.layout.rects.stroke,"stroke-width":Q.value&&Q.value.id===n.id?F.value.style.chart.layout.rects.selected.strokeWidth:F.value.style.chart.layout.rects.strokeWidth,onClick:oe(e=>Nn(n,a),[`stop`]),onMouseenter:()=>Gn({datapoint:n,seriesIndex:a}),onMouseleave:e=>Un({datapoint:n,seriesIndex:a}),style:c(`opacity:${Q.value?Q.value.id===n.id?1:F.value.style.chart.layout.rects.selected.unselectedOpacity:1}`),class:e([`vue-ui-treemap-rect`,Pn(n)?`vue-data-ui-zoom-plus`:Mn.value?`vue-data-ui-zoom-minus`:``])},null,46,Ct),!i.$slots.rect&&!r(L)&&F.value.style.chart.layout.labels.showDefaultLabels&&!Ln.value?(o(),S(`g`,{key:0,style:c(`pointer-events:none; opacity:${Q.value?Q.value.id===n.id?1:F.value.style.chart.layout.rects.selected.unselectedOpacity:1}`),innerHTML:pr({rect:n,seriesIndex:a})},null,12,wt)):t(``,!0),(o(),S(`foreignObject`,{x:n.x0,y:n.y0,height:q(n),width:J(n),class:`vue-ui-treemap-cell-foreignObject`},[C(`div`,Et,[r(L)?t(``,!0):d(i.$slots,`rect`,f({key:0,ref_for:!0},{rect:{...n,height:q(n),width:J(n),isSelected:Q.value?Q.value.id===n.id:!0},shouldShow:n.proportion>F.value.style.chart.layout.labels.hideUnderProportion||Mn.value,fontSize:Y(n),isZoom:Mn.value,textColor:r(me)(n.color)}),void 0,!0)])],8,Tt))]))),128)),d(i.$slots,`svg`,_(s({svg:B.value,isZoom:Mn.value,rect:Q.value,config:F.value,isPrintingImg:r(en)|r(tn)|Wt.value,isPrintingSvg:Gt.value})),void 0,!0)],14,ht)),i.$slots.watermark?(o(),S(`div`,Dt,[d(i.$slots,`watermark`,_(s({isPrinting:r(en)||r(tn)||Wt.value||Gt.value})),void 0,!0)])):t(``,!0),C(`div`,{id:`legend-bottom-${k.value}`},null,8,Ot),Bt.value?(o(),p(ne,{key:6,to:F.value.style.chart.legend.position===`top`?`#legend-top-${k.value}`:`#legend-bottom-${k.value}`},[C(`div`,{ref_key:`chartLegend`,ref:Nt},[F.value.style.chart.legend.show?(o(),p(He,{key:`legend_${Rt.value}`,legendSet:Fn.value,config:In.value,id:`treemap_legend_${k.value}`,isCursorPointer:I.value,onClickMarker:a[0]||=({legend:e})=>zn(e)},{item:y(({legend:e,index:n})=>[r(L)?t(``,!0):(o(),S(`div`,{key:0,onClick:t=>zn(e),style:c(`opacity:${j.value.includes(e.id)?.5:1}`)},l(e.display),13,kt))]),legendToggle:y(()=>[Fn.value.length>2&&F.value.style.chart.legend.selectAllToggle.show&&!r(L)?(o(),p(ze,{key:0,backgroundColor:F.value.style.chart.legend.selectAllToggle.backgroundColor,color:F.value.style.chart.legend.selectAllToggle.color,fontSize:F.value.style.chart.legend.fontSize,checked:j.value.length>0,isCursorPointer:I.value,onToggle:Rn},null,8,[`backgroundColor`,`color`,`fontSize`,`checked`,`isCursorPointer`])):t(``,!0)]),_:1},8,[`legendSet`,`config`,`id`,`isCursorPointer`])):d(i.$slots,`legend`,{key:1,legend:Fn.value},void 0,!0)],512)],8,[`to`])):t(``,!0),i.$slots.source?(o(),S(`div`,{key:7,ref_key:`source`,ref:Pt,dir:`auto`},[d(i.$slots,`source`,{},void 0,!0)],512)):t(``,!0),u(r(Ye),{teleportTo:F.value.style.chart.tooltip.teleportTo,show:R.value.showTooltip&&at.value,backgroundColor:F.value.style.chart.tooltip.backgroundColor,color:F.value.style.chart.tooltip.color,fontSize:F.value.style.chart.tooltip.fontSize,borderRadius:F.value.style.chart.tooltip.borderRadius,borderColor:F.value.style.chart.tooltip.borderColor,borderWidth:F.value.style.chart.tooltip.borderWidth,backgroundOpacity:F.value.style.chart.tooltip.backgroundOpacity,position:F.value.style.chart.tooltip.position,offsetY:F.value.style.chart.tooltip.offsetY,parent:M.value,content:ot.value,isFullscreen:A.value,isCustom:r(le)(F.value.style.chart.tooltip.customFormat),smooth:F.value.style.chart.tooltip.smooth,backdropFilter:F.value.style.chart.tooltip.backdropFilter,smoothForce:F.value.style.chart.tooltip.smoothForce,smoothSnapThreshold:F.value.style.chart.tooltip.smoothSnapThreshold},{"tooltip-before":y(()=>[d(i.$slots,`tooltip-before`,_(s({...Wn.value})),void 0,!0)]),"tooltip-after":y(()=>[d(i.$slots,`tooltip-after`,_(s({...Wn.value})),void 0,!0)]),_:3},8,[`teleportTo`,`show`,`backgroundColor`,`color`,`fontSize`,`borderRadius`,`borderColor`,`borderWidth`,`backgroundOpacity`,`position`,`offsetY`,`parent`,`content`,`isFullscreen`,`isCustom`,`smooth`,`backdropFilter`,`smoothForce`,`smoothSnapThreshold`]),rt.value&&F.value.userOptions.buttons.table?(o(),p(re(rr.value.component),f({key:8},rr.value.props,{ref_key:`tableUnit`,ref:Vt,onClose:ir}),ee({content:y(()=>[(o(),p(r(Ge),{key:`table_${Lt.value}`,colNames:qn.value.colNames,head:qn.value.head,body:qn.value.body,config:qn.value.config,title:F.value.table.useDialog?``:rr.value.title,withCloseButton:!F.value.table.useDialog,isCursorPointer:I.value,onClose:ir},{th:y(({th:e})=>[C(`div`,{innerHTML:e,style:{display:`flex`,"align-items":`center`}},null,8,At)]),td:y(({td:e})=>[n(l(e.name||e),1)]),_:1},8,[`colNames`,`head`,`body`,`config`,`title`,`withCloseButton`,`isCursorPointer`]))]),_:2},[F.value.table.useDialog?{name:`title`,fn:y(()=>[n(l(rr.value.title),1)]),key:`0`}:void 0,F.value.table.useDialog?{name:`actions`,fn:y(()=>[C(`button`,{tabindex:`0`,class:`vue-ui-user-options-button`,onClick:a[1]||=e=>Kn(F.value.userOptions.callbacks.csv),style:c({cursor:I.value?`pointer`:`default`})},[u(Re,{name:`fileCsv`,stroke:rr.value.props.color},null,8,[`stroke`])],4)]),key:`1`}:void 0]),1040)):t(``,!0),d(i.$slots,`skeleton`,{},()=>[r(L)?(o(),p(Ae,{key:0})):t(``,!0)],!0)],46,ct))}},[[`__scopeId`,`data-v-c5ea578e`]]),j=Object.freeze(Object.defineProperty({__proto__:null,default:jt},Symbol.toStringTag,{value:`Module`}));export{A as a,j as b};