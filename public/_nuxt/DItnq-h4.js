import{A as e,At as t,C as n,D as r,Dt as i,Et as a,G as o,J as s,Mt as c,Nt as l,O as u,Q as d,R as f,S as p,St as m,Z as ee,_t as te,b as h,dt as ne,ht as re,lt as g,m as ie,ot as _,s as ae,u as oe,ut as se,w as v,x as y,z as ce}from"./BLt7TXlb.js";import{u as le}from"./CreLCcZP.js";import{a as ue,o as b}from"./Cr_GQgS6.js";import{n as de}from"./DZubR30v.js";import{o as fe,s as pe,t as me}from"./mPlC9-cP.js";import{D as he,E as ge,_ as _e,b as ve,h as ye,l as be,o as xe}from"./-B2-_an5.js";import{t as Se}from"./CPwDbSjG.js";import{t as Ce}from"./qJmI0wnH.js";import{t as we}from"./CdWQmgpE.js";import{t as Te}from"./Bi22IuVY.js";import{m as Ee}from"./Brdikwlz.js";import{t as x}from"./DQw8S1UI.js";import{n as De}from"./_U3EnTB4.js";import{t as Oe}from"./CAwcA5eI.js";import{r as ke}from"./mQqLJAEZ.js";import{n as Ae,r as je}from"./TOYUenjI.js";import{t as Me}from"./jL6Citxk.js";import{n as Ne}from"./B5EGaAMl.js";function Pe(e){if(S(e.name))return!0;let t=e.bin!==void 0&&(typeof e.bin==`string`||Object.keys(e.bin).length>0),n=!!e.main||!!e.module||!!e.exports;return t&&!n}function S(e){return(e.startsWith(`@`)?e.split(`/`)[1]:e)?.startsWith(`create-`)||e.includes(`/create-`)||!1}function C(e){return e?.dependencies?Object.keys(e.dependencies).length:0}const Fe=[`performance`,`health`,`compatibility`,`security`],w={packageSize:{category:`performance`},installSize:{category:`performance`},dependencies:{category:`performance`},totalDependencies:{category:`performance`},downloads:{category:`health`},totalLikes:{category:`health`},lastUpdated:{category:`health`},deprecated:{category:`health`},engines:{category:`compatibility`},types:{category:`compatibility`},moduleFormat:{category:`compatibility`},license:{category:`security`},vulnerabilities:{category:`security`}},T=Object.keys(w),Ie=T.reduce((e,t)=>(e[w[t].category].push(t),e),{performance:[],health:[],compatibility:[],security:[]}),E=T.filter(e=>!w[e].comingSoon);Object.keys(w).filter(e=>w[e].comingSoon).length;var D=new WeakMap;function O(e,t,n={}){let{mode:r=`replace`,route:i=ue(),router:o=b(),transform:s}=n,c=e=>e,l=e=>e;typeof s==`function`?c=s:s&&(s.get&&(c=s.get),s.set&&(l=s.set)),D.has(o)||D.set(o,new Map);let u=D.get(o),d=i.query[e];ge(()=>{d=void 0});let f,p=ne((n,s)=>(f=s,{get(){return n(),c(d===void 0?a(t):d)},set(n){n=l(n),d!==n&&(d=n===a(t)?void 0:n,u.set(e,n===a(t)?void 0:n),s(),ce(()=>{if(u.size===0)return;let e=Object.fromEntries(u.entries());u.clear();let{params:t,query:n,hash:s}=i;o[a(r)]({params:t,query:{...n,...e},hash:s})}))}}));return _(()=>i.query[e],e=>{d!==c(e)&&(d=e,f())},{flush:`sync`}),p}var Le=[`aria-label`],Re=e({inheritAttrs:!1,__name:`CopyToClipboardButton`,props:{copied:{type:Boolean},copyText:{},copiedText:{},ariaLabelCopy:{},ariaLabelCopied:{},buttonAttrs:{}},emits:[`click`],setup(e,{emit:n}){let{t:a}=de(),o=e,c=h(()=>o.copyText||a(`common.copy`)),u=h(()=>o.copiedText||a(`common.copied`)),p=h(()=>o.ariaLabelCopy||a(`common.copy`)),m=h(()=>o.ariaLabelCopied||a(`common.copied`)),ee=n;function te(){ee(`click`)}return(n,a)=>(s(),v(`div`,f({class:`group relative`},n.$attrs),[d(n.$slots,`default`),y(`button`,f({type:`button`,onClick:te,class:[`absolute z-20 inset-is-0 top-full inline-flex items-center gap-1 px-2 py-1 rounded border text-xs font-mono whitespace-nowrap transition-all duration-150 opacity-0 -translate-y-1 pointer-events-none group-hover:opacity-100 group-hover:translate-y-0 group-hover:pointer-events-auto focus-visible:opacity-100 focus-visible:translate-y-0 focus-visible:pointer-events-auto`,[n.$style.copyButton,e.copied?`text-accent bg-accent/10`:`text-fg-muted bg-bg border-border`]],"aria-label":e.copied?i(m):i(p)},e.buttonAttrs),[y(`span`,{class:t([e.copied?`i-lucide:check`:`i-lucide:copy`,`w-3.5 h-3.5`]),"aria-hidden":`true`},null,2),r(` `+l(e.copied?i(u):i(c)),1)],16,Le)],16))}}),ze=Object.assign(Te(Re,[[`__cssModules`,{$style:{copyButton:`_copyButton_1f7a8_2`}}]]),{__name:`CopyToClipboardButton`});function Be(e,t){return getComputedStyle(e).getPropertyValue(t).trim()}function Ve(e){return e.replace(/^--/,``).replace(/-([a-z0-9])/gi,(e,t)=>t.toUpperCase())}function k(e){return typeof window>`u`||typeof document>`u`?null:e?i(e)??document.documentElement:document.documentElement}function He(e,t={}){let n=ve(()=>typeof window<`u`&&typeof document<`u`),r=h(()=>k(t.element)),i=h(()=>{let t=r.value;if(!t)return{};let n={};for(let r of e)n[Ve(r)]=Be(t,r);return n});return t.watchResize&&_e(r,()=>void i.value),t.watchHtmlAttributes&&n.value&&ye(document.documentElement,()=>void i.value,{attributes:!0,attributeFilter:[`class`,`style`,`data-theme`,`data-bg-theme`]}),{colors:i}}const A=`oklch(0.633 0 0)`;var Ue=e=>Math.round(Math.min(Math.max(0,e),255)).toString(16).padStart(2,`0`);function We(e){let t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]:null}function j(e,t,n){return`#${Ue(e)}${Ue(t)}${Ue(n)}`}function M(e,t=.5){let n=We(e);return n?j(...n.map(e=>Math.round(e+(255-e)*t))):e}function Ge(e,t){if(e==null)return e;let n=e.trim().match(/^oklch\(\s*([+-]?[\d.]+%?)\s+([+-]?[\d.]+)\s+([+-]?[\d.]+)(?:\s*\/\s*([+-]?[\d.]+%?))?\s*\)$/i);if(!n)throw Error(`Invalid OKLCH color format`);let[,r,i,a,o]=n;if(r===void 0||i===void 0||a===void 0)throw Error(`Invalid OKLCH color format`);let s=r.endsWith(`%`)?Number.parseFloat(r)/100:Number.parseFloat(r),c=Number.parseFloat(i),l=Number.parseFloat(a),u=o===void 0?null:o.endsWith(`%`)?Number.parseFloat(o)/100:Number.parseFloat(o),d=Math.min(Math.max(t,0),1);return s+=(1-s)*d,c*=1-d*.3,s=Math.min(Math.max(s,0),1),c=Math.max(c,0),u===null?`oklch(${s} ${c} ${l})`:`oklch(${s} ${c} ${l} / ${u})`}function Ke(e,t,n=`oklch(0 0 0 / 0)`){if(e==null)return n;let r=e.trim();if(!r)return n;let i=r.match(/^oklch\(\s*([+-]?[\d.]+%?)\s+([+-]?[\d.]+)\s+([+-]?[\d.]+)(?:\s*\/\s*([+-]?[\d.]+%?))?\s*\)$/i);if(!i)return n;let[,a,o,s,c]=i;if(a===void 0||o===void 0||s===void 0)return n;let l=a.endsWith(`%`)?Math.min(Math.max(Number.parseFloat(a)/100,0),1):Math.min(Math.max(Number.parseFloat(a),0),1),u=Math.max(0,Number.parseFloat(o)),d=Number.parseFloat(s),f=c===void 0?1:c.endsWith(`%`)?Math.min(Math.max(Number.parseFloat(c)/100,0),1):Math.min(Math.max(Number.parseFloat(c),0),1),p=Math.min(Math.max(t,0),1);return`oklch(${l} ${u} ${d} / ${Math.max(0,f*(1-p))})`}function qe(e,t){let n=Array.isArray(e?.data)?e.data:[];if(!n.length)return``;let r=[];return n.forEach((n,i)=>{r.push(`
      <rect
        x="${e.drawingArea.left+12}"
        y="${e.drawingArea.top+24*i-7}"
        width="12"
        height="12"
        fill="${n.color}"
        rx="3"
      />
      <text
        text-anchor="start"
        dominant-baseline="middle"
        x="${e.drawingArea.left+32}"
        y="${e.drawingArea.top+24*i}"
        font-size="16"
        fill="${t.fg}"
        stroke="${t.bg}"
        stroke-width="1"
        paint-order="stroke fill"
      >
        ${n.name}
      </text>
  `)}),r.join(``)}function Je(e,t,n,r=`bottom`){if(!e?.drawingArea)return``;let i=100/2.64,a=r===`belowDrawingArea`?e.drawingArea.top+e.drawingArea.height+58:e.height-i,o=r===`belowDrawingArea`?a-6:e.height-i-6;return`
    <svg x="${e.width/2-100/2}" y="${a}" width="100" height="${i}" viewBox="0 0 330 125" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M22.848 97V85.288H34.752V97H22.848ZM56.4105 107.56L85.5945 25H93.2745L64.0905 107.56H56.4105ZM121.269 97V46.12H128.661L128.949 59.08L127.989 58.216C128.629 55.208 129.781 52.744 131.445 50.824C133.173 48.84 135.221 47.368 137.589 46.408C139.957 45.448 142.453 44.968 145.077 44.968C148.981 44.968 152.213 45.832 154.773 47.56C157.397 49.288 159.381 51.624 160.725 54.568C162.069 57.448 162.741 60.68 162.741 64.264V97H154.677V66.568C154.677 61.832 153.749 58.248 151.893 55.816C150.037 53.32 147.189 52.072 143.349 52.072C140.725 52.072 138.357 52.648 136.245 53.8C134.133 54.888 132.437 56.52 131.157 58.696C129.941 60.808 129.333 63.432 129.333 66.568V97H121.269ZM173.647 111.4V46.12H181.135L181.327 57.64L180.175 57.064C181.455 53.096 183.568 50.088 186.512 48.04C189.519 45.992 192.976 44.968 196.88 44.968C201.936 44.968 206.064 46.216 209.264 48.712C212.528 51.208 214.928 54.472 216.464 58.504C218 62.536 218.767 66.888 218.767 71.56C218.767 76.232 218 80.584 216.464 84.616C214.928 88.648 212.528 91.912 209.264 94.408C206.064 96.904 201.936 98.152 196.88 98.152C194.256 98.152 191.792 97.704 189.487 96.808C187.247 95.912 185.327 94.664 183.727 93.064C182.191 91.464 181.135 89.576 180.559 87.4L181.711 86.056V111.4H173.647ZM196.111 90.472C200.528 90.472 203.984 88.808 206.48 85.48C209.04 82.152 210.319 77.512 210.319 71.56C210.319 65.608 209.04 60.968 206.48 57.64C203.984 54.312 200.528 52.648 196.111 52.648C193.167 52.648 190.607 53.352 188.431 54.76C186.319 56.168 184.655 58.28 183.439 61.096C182.287 63.912 181.711 67.4 181.711 71.56C181.711 75.72 182.287 79.208 183.439 82.024C184.591 84.84 186.255 86.952 188.431 88.36C190.607 89.768 193.167 90.472 196.111 90.472ZM222.57 97V46.12H229.962L230.25 57.448L229.29 57.256C229.866 53.48 231.082 50.504 232.938 48.328C234.858 46.088 237.29 44.968 240.234 44.968C243.242 44.968 245.546 46.056 247.146 48.232C248.81 50.408 249.834 53.608 250.218 57.832H249.258C249.834 53.864 251.114 50.728 253.098 48.424C255.146 46.12 257.706 44.968 260.778 44.968C264.874 44.968 267.85 46.376 269.706 49.192C271.562 52.008 272.49 56.68 272.49 63.208V97H264.426V64.36C264.426 59.816 263.946 56.648 262.986 54.856C262.026 53 260.522 52.072 258.474 52.072C257.13 52.072 255.946 52.52 254.922 53.416C253.898 54.248 253.066 55.592 252.426 57.448C251.85 59.304 251.562 61.672 251.562 64.552V97H243.498V64.36C243.498 60.008 243.018 56.872 242.058 54.952C241.162 53.032 239.658 52.072 237.546 52.072C236.202 52.072 235.018 52.52 233.994 53.416C232.97 54.248 232.138 55.592 231.498 57.448C230.922 59.304 230.634 61.672 230.634 64.552V97H222.57ZM276.676 97L295.396 70.888L277.636 46.12H287.044L300.388 65.32L313.444 46.12H323.044L305.38 71.08L323.908 97H314.5L300.388 76.456L286.276 97H276.676Z" fill="${t.fg}"/>
    </svg>
    <text
      fill="${t.fgSubtle}"
      x="${e.width/2}"
      y="${o}"
      font-size="12"
      text-anchor="middle"
    >
      ${n(`tagline`)}
    </text>
  `}function Ye(e,t){if(t<=0||e.length<3)return e;let n=e.length,r=Array.from({length:n});for(let i=0;i<n;i++){let n=Math.max(0,i-t),a=0;for(let t=n;t<=i;t++)a+=e[t].value;r[i]=a/(i-n+1)}let i=Array.from({length:n});for(let r=0;r<n;r++){let a=Math.min(n-1,r+t),o=0;for(let t=r;t<=a;t++)o+=e[t].value;i[r]=o/(a-r+1)}let a=e.map(e=>({...e}));for(let e=1;e<n-1;e++){let t=e/(n-1);a[e].value=(1-t)*r[e]+t*i[e]}return a}function Xe(e,t){if(t<=0||e.length<3)return e;let n=1/(1+t),r=e.length,i=Array.from({length:r});i[0]=e[0].value;for(let t=1;t<r;t++)i[t]=n*e[t].value+(1-n)*i[t-1];let a=Array.from({length:r});a[r-1]=e[r-1].value;for(let t=r-2;t>=0;t--)a[t]=n*e[t].value+(1-n)*a[t+1];let o=e.map(e=>({...e}));for(let e=1;e<r-1;e++){let t=e/(r-1);o[e].value=(1-t)*i[e]+t*a[e]}return o}function Ze(e,t){let n=e;return n=Ye(n,t.averageWindow),n=Xe(n,t.smoothingTau),n}const Qe=[{packageName:`vite`,start:{date:`2025-08-04`,weeklyDownloads:33913132},end:{date:`2025-09-08`,weeklyDownloads:38665727}}];function N(e,t){switch(t){case`daily`:return e.day;case`weekly`:return e.weekStart;case`monthly`:return`${e.month}-01`;case`yearly`:return`${e.year}-01-01`}}function $e(e,t,n){switch(n){case`daily`:case`weekly`:return e>t.start.date&&e<t.end.date;case`monthly`:{let n=t.start.date.slice(0,7)+`-01`,r=t.end.date.slice(0,7)+`-01`;return e>=n&&e<=r}case`yearly`:{let n=t.start.date.slice(0,4)+`-01-01`,r=t.end.date.slice(0,4)+`-01-01`;return e>=n&&e<=r}}}function P(e,t){switch(t){case`daily`:return Math.round(e/7);case`weekly`:return e;case`monthly`:return Math.round(e/7*30);case`yearly`:return Math.round(e/7*365)}}function et(e){return Qe.filter(t=>e.includes(t.packageName)).map(e=>({packageName:e.packageName,start:e.start.date,end:e.end.date}))}function tt(e){let{data:t,packageName:n,granularity:r}=e,i=Qe.filter(e=>e.packageName===n);if(!i.length)return t;let a=t.map(e=>({...e}));for(let e of i){let t=[];for(let n=0;n<a.length;n++)$e(N(a[n],r),e,r)&&t.push(n);if(!t.length)continue;let n=t[0],i=t[t.length-1],o=P(e.start.weeklyDownloads,r),s=P(e.end.weeklyDownloads,r),c=n>0?a[n-1].value:o,l=i<a.length-1?a[i+1].value:s,u=t.length;for(let e=0;e<u;e++){let n=(e+1)/(u+1);a[t[e]].value=Math.round(c+n*(l-c))}}return a}const F=[`gitlab.com`,`gitlab.gnome.org`,`gitlab.freedesktop.org`,`invent.kde.org`,`salsa.debian.org`,`framagit.org`];var nt=[{id:`github`,matchHost:e=>e===`github.com`||e===`www.github.com`,parsePath:e=>{if(e.length<2)return null;let t=decodeURIComponent(e[0]??``).trim(),n=decodeURIComponent(e[1]??``).trim().replace(/\.git$/i,``);return!t||!n?null:{owner:t,repo:n}},getRawBaseUrl:(e,t=`HEAD`)=>`https://raw.githubusercontent.com/${e.owner}/${e.repo}/${t}`,getBlobBaseUrl:(e,t=`HEAD`)=>`https://github.com/${e.owner}/${e.repo}/blob/${t}`,fileToRaw:e=>e.replace(`/tree/`,`/raw/`),blobToRaw:e=>e.replace(`/blob/`,`/raw/`)},{id:`gitlab`,matchHost:e=>F.some(t=>e===t||e===`www.${t}`),parsePath:e=>{if(e.length<2)return null;let t=decodeURIComponent(e[e.length-1]??``).trim().replace(/\.git$/i,``),n=e.slice(0,-1).map(e=>decodeURIComponent(e).trim()).join(`/`);return!n||!t?null:{owner:n,repo:t}},getRawBaseUrl:(e,t=`HEAD`)=>`https://${e.host??`gitlab.com`}/${e.owner}/${e.repo}/-/raw/${t}`,getBlobBaseUrl:(e,t=`HEAD`)=>`https://${e.host??`gitlab.com`}/${e.owner}/${e.repo}/-/blob/${t}`,blobToRaw:e=>e.replace(`/-/blob/`,`/-/raw/`)},{id:`bitbucket`,matchHost:e=>e===`bitbucket.org`||e===`www.bitbucket.org`,parsePath:e=>{if(e.length<2)return null;let t=decodeURIComponent(e[0]??``).trim(),n=decodeURIComponent(e[1]??``).trim().replace(/\.git$/i,``);return!t||!n?null:{owner:t,repo:n}},getRawBaseUrl:(e,t=`HEAD`)=>`https://bitbucket.org/${e.owner}/${e.repo}/raw/${t}`,getBlobBaseUrl:(e,t=`HEAD`)=>`https://bitbucket.org/${e.owner}/${e.repo}/src/${t}`,blobToRaw:e=>e.replace(`/src/`,`/raw/`)},{id:`codeberg`,matchHost:e=>e===`codeberg.org`||e===`www.codeberg.org`,parsePath:e=>{if(e.length<2)return null;let t=decodeURIComponent(e[0]??``).trim(),n=decodeURIComponent(e[1]??``).trim().replace(/\.git$/i,``);return!t||!n?null:{owner:t,repo:n}},getRawBaseUrl:(e,t=`HEAD`)=>`https://codeberg.org/${e.owner}/${e.repo}/raw/branch/${t===`HEAD`?`main`:t}`,getBlobBaseUrl:(e,t=`HEAD`)=>`https://codeberg.org/${e.owner}/${e.repo}/src/branch/${t===`HEAD`?`main`:t}`,blobToRaw:e=>e.replace(`/src/`,`/raw/`)},{id:`gitee`,matchHost:e=>e===`gitee.com`||e===`www.gitee.com`,parsePath:e=>{if(e.length<2)return null;let t=decodeURIComponent(e[0]??``).trim(),n=decodeURIComponent(e[1]??``).trim().replace(/\.git$/i,``);return!t||!n?null:{owner:t,repo:n}},getRawBaseUrl:(e,t=`master`)=>`https://gitee.com/${e.owner}/${e.repo}/raw/${t}`,getBlobBaseUrl:(e,t=`master`)=>`https://gitee.com/${e.owner}/${e.repo}/blob/${t}`,blobToRaw:e=>e.replace(`/blob/`,`/raw/`)},{id:`sourcehut`,matchHost:e=>e===`sr.ht`||e===`git.sr.ht`,parsePath:e=>{if(e.length<2)return null;let t=decodeURIComponent(e[0]??``).trim(),n=decodeURIComponent(e[1]??``).trim().replace(/\.git$/i,``);return!t||!n?null:{owner:t,repo:n}},getRawBaseUrl:(e,t=`HEAD`)=>`https://git.sr.ht/${e.owner}/${e.repo}/blob/${t}`,getBlobBaseUrl:(e,t=`HEAD`)=>`https://git.sr.ht/${e.owner}/${e.repo}/tree/${t}/item`},{id:`tangled`,matchHost:e=>e===`tangled.sh`||e===`www.tangled.sh`||e===`tangled.org`||e===`www.tangled.org`,parsePath:e=>{if(e.length<2)return null;let t=decodeURIComponent(e[0]??``).trim(),n=decodeURIComponent(e[1]??``).trim().replace(/\.git$/i,``);return!t||!n?null:{owner:t,repo:n}},getRawBaseUrl:(e,t=`main`)=>`https://tangled.sh/${e.owner}/${e.repo}/raw/branch/${t}`,getBlobBaseUrl:(e,t=`main`)=>`https://tangled.sh/${e.owner}/${e.repo}/src/branch/${t}`,blobToRaw:e=>e.replace(`/blob/`,`/raw/branch/`)},{id:`radicle`,matchHost:e=>e===`radicle.at`||e===`app.radicle.at`||e===`seed.radicle.at`,parsePath:e=>{let t=e.join(`/`).match(/rad:[a-zA-Z0-9]+/);return t?.[0]?{owner:``,repo:t[0]}:null},getRawBaseUrl:(e,t=`HEAD`)=>`https://seed.radicle.at/api/v1/projects/${e.repo}/blob/${t}`,getBlobBaseUrl:(e,t=`HEAD`)=>`https://app.radicle.at/nodes/seed.radicle.at/${e.repo}/tree/${t}`},{id:`forgejo`,matchHost:e=>[`next.forgejo.org`,`try.next.forgejo.org`].some(t=>e===t)?!0:[/^forgejo\./i,/\.forgejo\./i].some(t=>t.test(e)),parsePath:e=>{if(e.length<2)return null;let t=decodeURIComponent(e[0]??``).trim(),n=decodeURIComponent(e[1]??``).trim().replace(/\.git$/i,``);return!t||!n?null:{owner:t,repo:n}},getRawBaseUrl:(e,t=`HEAD`)=>`https://${e.host??`codeberg.org`}/${e.owner}/${e.repo}/raw/branch/${t===`HEAD`?`main`:t}`,getBlobBaseUrl:(e,t=`HEAD`)=>`https://${e.host??`codeberg.org`}/${e.owner}/${e.repo}/src/branch/${t===`HEAD`?`main`:t}`,blobToRaw:e=>e.replace(`/src/`,`/raw/`)},{id:`gitea`,matchHost:e=>{let t=[/^git\./i,/^gitea\./i,/^code\./i,/^src\./i,/gitea\.io$/i];return[`github.com`,`gitlab.com`,`codeberg.org`,`bitbucket.org`,`gitee.com`,`sr.ht`,`git.sr.ht`,`tangled.sh`,`tangled.org`,`next.forgejo.org`,`try.next.forgejo.org`,...F].some(t=>e===t||e.endsWith(`.${t}`))||/^forgejo\./i.test(e)||/\.forgejo\./i.test(e)?!1:t.some(t=>t.test(e))},parsePath:e=>{if(e.length<2)return null;let t=decodeURIComponent(e[0]??``).trim(),n=decodeURIComponent(e[1]??``).trim().replace(/\.git$/i,``);return!t||!n?null:{owner:t,repo:n}},getRawBaseUrl:(e,t=`HEAD`)=>`https://${e.host??`gitea.io`}/${e.owner}/${e.repo}/raw/branch/${t===`HEAD`?`main`:t}`,getBlobBaseUrl:(e,t=`HEAD`)=>`https://${e.host??`gitea.io`}/${e.owner}/${e.repo}/src/branch/${t===`HEAD`?`main`:t}`,blobToRaw:e=>e.replace(`/src/`,`/raw/`)}];function rt(e){let t=e.trim();if(!t)return null;let n=t.replace(/^git\+/,``);if(/^(?:ssh|git):\/\//i.test(n))try{let e=new URL(n),t=e.pathname.replace(/^\/*/,``);return`https://${e.hostname}/${t}`}catch{}if(!/^https?:\/\//i.test(n)){let e=n.match(/^(?:git@)?([^:/]+):(.+)$/i);if(e?.[1]&&e?.[2])return`https://${e[1]}/${e[2].replace(/^\/*/,``)}`}return n}function I(e){let t=rt(e);if(!t)return null;try{let e=new URL(t),n=e.hostname.toLowerCase(),r=e.pathname.split(`/`).filter(Boolean);for(let e of nt){if(!e.matchHost(n))continue;let t=e.parsePath(r);if(t){let r=[`gitlab`,`gitea`,`forgejo`,`radicle`].includes(e.id);return{provider:e.id,owner:t.owner,repo:t.repo,host:r?n:void 0}}}return null}catch{return null}}function L(e){return e.toISOString().slice(0,10)}function R(e,t){let n=new Date(e);return n.setUTCDate(n.getUTCDate()+t),n}function z(e){return new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),1))}function B(e){return new Date(Date.UTC(e.getUTCFullYear(),0,1))}function V(e){return new Date(`${e}T00:00:00.000Z`)}function it(e){return e.toISOString().slice(0,10)}function at(e,t){let n=V(e),r=V(t);return Math.floor((r.getTime()-n.getTime())/864e5)+1}function ot(e,t,n){if(at(e,t)<=n)return[{startIso:e,endIso:t}];let r=[],i=V(e),a=V(t);for(;i.getTime()<=a.getTime();){let e=R(i,n-1),t=e.getTime()<a.getTime()?e:a;r.push({startIso:it(i),endIso:it(t)}),i=R(t,1)}return r}function st(e){let t=new Map;for(let n of e)t.set(n.day,(t.get(n.day)??0)+n.value);return Array.from(t.entries()).sort(([e],[t])=>e.localeCompare(t)).map(([e,t])=>({day:e,value:t}))}function H(e){return e.slice().sort((e,t)=>e.day.localeCompare(t.day)).map(e=>{let t=V(e.day).getTime();return{day:e.day,value:e.value,timestamp:t}})}function U(e,t,n){let r=e.slice().sort((e,t)=>e.day.localeCompare(t.day)),i=V(t),a=V(n),o=new Map;for(let e of r){let t=V(e.day),n=Math.floor((t.getTime()-i.getTime())/864e5);if(n<0)continue;let r=Math.floor(n/7);o.set(r,(o.get(r)??0)+e.value)}return Array.from(o.entries()).sort(([e],[t])=>e-t).map(([e,t])=>{let n=R(i,e*7),r=R(n,6),o=r.getTime()>a.getTime()?a:r,s=L(n),c=L(o),l=n.getTime(),u=o.getTime();return{value:t,weekKey:`${s}_${c}`,weekStart:s,weekEnd:c,timestampStart:l,timestampEnd:u}})}function ct(e){let t=e.slice().sort((e,t)=>e.day.localeCompare(t.day)),n=new Map;for(let e of t){let t=e.day.slice(0,7);n.set(t,(n.get(t)??0)+e.value)}return Array.from(n.entries()).sort(([e],[t])=>e.localeCompare(t)).map(([e,t])=>({month:e,value:t,timestamp:V(`${e}-01`).getTime()}))}function lt(e){let t=e.slice().sort((e,t)=>e.day.localeCompare(t.day)),n=new Map;for(let e of t){let t=e.day.slice(0,4);n.set(t,(n.get(t)??0)+e.value)}return Array.from(n.entries()).sort(([e],[t])=>e.localeCompare(t)).map(([e,t])=>({year:e,value:t,timestamp:V(`${e}-01-01`).getTime()}))}var ut=new Map,W=new Map,G=new Map,dt=new Map;function K(e){return e.toString().padStart(2,`0`)}function q(e){return`${e.getUTCFullYear()}-${K(e.getUTCMonth()+1)}`}function J(e,t,n,r){return t.getTime()>=n.getTime()&&e.getTime()<=r.getTime()}function ft(e,t,n){return Array.from(e.entries()).sort(([e],[t])=>e-t).map(([e,r])=>{let i=new Date(e*1e3),a=R(i,6);if(!J(i,a,t,n))return null;let o=a.getTime()>n.getTime()?n:a,s=L(i),c=L(o);return{value:r,weekKey:`${s}_${c}`,weekStart:s,weekEnd:c,timestampStart:i.getTime(),timestampEnd:o.getTime()}}).filter(e=>!!e)}function pt(e,t,n){return Array.from(e.entries()).sort(([e],[t])=>e.localeCompare(t)).map(([e,r])=>{let[i,a]=e.split(`-`).map(Number);if(!i||!a)return null;let o=new Date(Date.UTC(i,a-1,1));return J(o,new Date(Date.UTC(i,a,0)),t,n)?{month:e,value:r,timestamp:o.getTime()}:null}).filter(e=>!!e)}function mt(e,t,n){return Array.from(e.entries()).sort(([e],[t])=>e.localeCompare(t)).map(([e,r])=>{let i=Number(e);if(!i)return null;let a=new Date(Date.UTC(i,0,1));return J(a,new Date(Date.UTC(i,11,31)),t,n)?{year:e,value:r,timestamp:a.getTime()}:null}).filter(e=>!!e)}function Y(e){let t=new Map,n=new Map,r=new Map;for(let i of e??[]){let e=new Set,a=new Set;for(let n of i?.weeks??[]){if(!n||n.c<=0)continue;t.set(n.w,(t.get(n.w)??0)+1);let r=new Date(n.w*1e3);e.add(q(r)),a.add(String(r.getUTCFullYear()))}for(let t of e)n.set(t,(n.get(t)??0)+1);for(let e of a)r.set(e,(r.get(e)??0)+1)}return{weeklyCounts:t,monthlyCounts:n,yearlyCounts:r}}async function ht(e,t,n){let r=ut;if(!r)return[...(await Ne(e,t,n)).downloads].sort((e,t)=>e.day.localeCompare(t.day)).map(e=>({day:e.day,value:e.downloads}));let i=`${e}:${t}:${n}`,a=r.get(i);if(a)return a;let o=Ne(e,t,n).then(e=>[...e.downloads].sort((e,t)=>e.day.localeCompare(t.day)).map(e=>({day:e.day,value:e.downloads}))).catch(e=>{throw r.delete(i),e});return r.set(i,o),o}async function X(e,t,n){let r=ot(t,n,540);if(r.length===1)return ht(e,t,n);let i=[];for(let t of r){let n=await ht(e,t.startIso,t.endIso);i.push(...n)}return st(i)}function Z(e){if(!e)return null;let t=e.slice(0,10);return/^\d{4}-\d{2}-\d{2}$/.test(t)?t:null}function gt(e){let t=e.time;return t?t.created?t.created:Object.entries(t).filter(([e,t])=>e!==`modified`&&e!==`created`&&!!t).map(([,e])=>e).sort((e,t)=>e.localeCompare(t))[0]??null:null}function _t(){function e(e,t){let n=new Date,r=new Date(Date.UTC(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()-1)),i=Z(e.endDate),a=i?V(i):r,o=Z(e.startDate);if(o)return{start:V(o),end:a};let s;if(e.granularity===`year`)s=t?B(new Date(t)):R(a,-1824);else if(e.granularity===`month`){let t=e.months??12,n=z(a);s=new Date(Date.UTC(n.getUTCFullYear(),n.getUTCMonth()-(t-1),1))}else s=e.granularity===`week`?R(a,-((e.weeks??52)*7)+1):R(a,-29);return{start:s,end:a}}async function t(t,n,r){let i=a(t),o=a(n)??null,s=a(r),{start:c,end:l}=e(s,o),u=L(c),d=L(l),f=await X(i,u,d);return s.granularity===`day`?H(f):s.granularity===`week`?U(f,u,d):s.granularity===`month`?ct(f):lt(f)}async function n(t,n){let r=a(t),i=a(n),o=W,s=r,c;o?.has(s)?c=o.get(s):(c=$fetch(`/api/social/likes-evolution/${r}`).then(e=>(e??[]).map(e=>({day:e.day,value:e.likes}))).catch(e=>{throw o?.delete(s),e}),o?.set(s,c));let l=await c,{start:u,end:d}=e(i,null),f=L(u),p=L(d),m=l.filter(e=>e.day>=f&&e.day<=p);return i.granularity===`day`?H(m):i.granularity===`week`?U(m,f,p):i.granularity===`month`?ct(m):lt(m)}async function r(t,n){let r=a(t);if(!r||r.provider!==`github`)return[];let i=a(n),o=G,s=`${r.owner}/${r.repo}`,c;o?.has(s)?c=o.get(s):(c=$fetch(`/api/github/contributors-evolution/${r.owner}/${r.repo}`).then(e=>Array.isArray(e)?e:[]).catch(e=>{throw o?.delete(s),e}),o?.set(s,c));let l=await c,{start:u,end:d}=e(i,null),{weeklyCounts:f,monthlyCounts:p,yearlyCounts:m}=Y(l);return i.granularity===`week`?ft(f,u,d):i.granularity===`month`?pt(p,u,d):i.granularity===`year`?mt(m,u,d):[]}async function i(e){let t=(a(e)??[]).map(e=>String(e).trim()).filter(Boolean);if(!t.length)return{};let n=await Promise.allSettled(t.map(async e=>{let t=e,n=dt;if(n?.has(t))return{name:e,ref:await n.get(t)};let r=$fetch(`/api/registry/package-meta/${x(e)}`).then(e=>{let t=e?.links?.repository;return t?I(t):null}).catch(e=>{throw n?.delete(t),e});return n?.set(t,r),{name:e,ref:await r}})),r={};for(let[e,i]of n.entries()){let n=t[e];n&&(i.status===`fulfilled`?r[n]=i.value.ref??null:r[n]=null)}return r}return{fetchPackageDownloadEvolution:t,fetchPackageLikesEvolution:n,fetchRepoContributorsEvolution:r,fetchRepoRefsForPackages:i,getNpmPackageCreationDate:gt}}function vt(e,t=``,n={}){let{permanent:r=!0}=n,i=m(t),a=O(e,t);return h({get:()=>r?a.value:i.value,set:e=>{r?a.value=e:i.value=e}})}var yt=[`aria-busy`],bt={class:`w-full mb-4 flex flex-col gap-3`},xt={class:`flex flex-col sm:flex-row gap-3 sm:gap-2 sm:items-end`},St={class:`grid grid-cols-2 gap-2 flex-1`},Ct={class:`flex flex-col gap-1`},wt={for:`startDate`,class:`text-2xs font-mono text-fg-subtle tracking-wide uppercase`},Tt={class:`relative flex items-center`},Et={class:`flex flex-col gap-1`},Dt={for:`endDate`,class:`text-2xs font-mono text-fg-subtle tracking-wide uppercase`},Ot={class:`relative flex items-center`},kt={key:0,class:`flex flex-col gap-2`},At={key:0,class:`flex items-end gap-3`},jt={class:`flex flex-col gap-1 flex-1`},Mt={class:`text-2xs font-mono text-fg-subtle tracking-wide uppercase`},Nt={class:`text-fg-muted`},Pt={class:`flex flex-col gap-1 flex-1`},Ft={class:`text-2xs font-mono text-fg-subtle tracking-wide uppercase`},It={class:`text-fg-muted`},Lt={class:`flex flex-col gap-1 shrink-0`},Rt={class:`text-2xs font-mono text-fg-subtle tracking-wide uppercase flex items-center justify-between`},zt=[`aria-label`],Bt={class:`flex flex-col gap-3`},Vt={class:`text-xs text-fg-muted`},Ht={key:0},Ut={class:`text-xs text-fg-subtle font-medium`},Wt={class:`text-xs text-fg-subtle list-disc list-inside`},Gt={key:1,class:`text-xs text-fg-muted`},Kt={class:`flex justify-end`},qt=[`disabled`],Jt={key:1,class:`text-2xs font-mono text-fg-subtle`},Yt={id:`trends-chart-title`,class:`sr-only`},Xt=[`data-pending`,`data-minimap-visible`],Zt=[`innerHTML`],Qt=[`innerHTML`],$t=[`innerHTML`],en=[`innerHTML`],tn=[`x`,`y`,`width`,`height`,`fill`],nn=[`id`],rn=[`stop-color`],an=[`stop-color`],on={class:`flex gap-4 flex-wrap justify-center`},sn=[`aria-pressed`,`aria-label`,`onClick`],cn={class:`h-3 w-3`},ln={viewBox:`0 0 2 2`,class:`w-full`},un=[`fill`],dn={key:1,class:`flex gap-1 place-items-center`},fn={class:`h-3 w-3`},pn={viewBox:`0 0 2 2`,class:`w-full`},mn=[`fill`],hn={key:2,class:`flex gap-1 place-items-center`},gn={viewBox:`0 0 20 2`,width:`20`},_n=[`stroke`],vn={class:`text-fg-subtle`},yn=[`onClick`],bn={key:0,class:`i-lucide:x w-6 h-6`,"aria-hidden":`true`},xn={key:1,class:`i-lucide:ellipsis-vertical w-6 h-6`,"aria-hidden":`true`},Sn={key:0,class:`i-lucide:pen-off w-6 h-6 text-fg-subtle`,style:{"pointer-events":`none`},"aria-hidden":`true`},Cn={key:1,class:`i-lucide:pen w-6 h-6 text-fg-subtle`,style:{"pointer-events":`none`},"aria-hidden":`true`},wn={key:1,class:`min-h-[260px] flex items-center justify-center text-fg-subtle font-mono text-sm`},Tn={key:0,role:`status`,"aria-live":`polite`,class:`absolute top-1/2 inset-is-1/2 -translate-x-1/2 -translate-y-1/2 text-xs text-fg-subtle font-mono bg-bg/70 backdrop-blur px-3 py-2 rounded-md border border-border`},En=640,Q=`weekly`,Dn=`downloads`,On=e({__name:`TrendsChart`,props:{weeklyDownloads:{},inModal:{type:Boolean},packageName:{},packageNames:{},repoRef:{},createdIso:{},showFacetSelector:{type:Boolean},permalink:{type:Boolean,default:!1}},setup(e){let{t:a}=de(),d=e,{locale:f}=de(),{accentColors:ne,selectedAccentColor:ue}=me(),{settings:b}=fe(),{copy:ge,copied:_e}=xe(),ve=pe(),ye=m(`light`),Te=m(null),x=m(!1);function Ne({isZoom:e}){x.value=e}let{width:Pe}=be(Te),S=De();o(async()=>{Te.value=document.documentElement,ye.value=ve.value===`dark`?`dark`:`light`,V(),st(),it(),await ce(),Z.value=!0,gt(q.value)});let{colors:C}=He([`--bg`,`--fg`,`--bg-subtle`,`--bg-elevated`,`--fg-subtle`,`--fg-muted`,`--border`,`--border-subtle`],{element:Te,watchHtmlAttributes:!0,watchResize:!1});_(()=>ve.value,e=>{ye.value=e===`dark`?`dark`:`light`},{flush:`sync`});let Fe=h(()=>ye.value===`dark`),w=h(()=>{let e={};for(let t of ne.value)e[t.id]=t.value;return e}),T=h(()=>{let e=ue.value;return e?w.value[e]??C.value.fgSubtle??`oklch(0.633 0 0)`:C.value.fgSubtle??`oklch(0.633 0 0)`}),Ie=h(()=>({fg:C.value.fg??`oklch(0.633 0 0)`,bg:C.value.bg??`oklch(0.633 0 0)`,fgSubtle:C.value.fgSubtle??`oklch(0.633 0 0)`})),E=h(()=>Pe.value>0&&Pe.value<En);function D(e){return typeof e==`object`&&!!e}function O(e){return Array.isArray(e)&&e.length>0&&D(e[0])&&`weekStart`in e[0]&&`weekEnd`in e[0]&&`value`in e[0]}function Le(e){return Array.isArray(e)&&e.length>0&&D(e[0])&&`day`in e[0]&&`value`in e[0]}function Re(e){return Array.isArray(e)&&e.length>0&&D(e[0])&&`month`in e[0]&&`value`in e[0]}function ze(e){return Array.isArray(e)&&e.length>0&&D(e[0])&&`year`in e[0]&&`value`in e[0]}function Be(e,t,n){let r=Fe.value?Ge(T.value,.618):void 0,i=r?[r,T.value]:void 0,a={name:n,type:`line`,series:t.map(e=>e.value),color:T.value,temperatureColors:i,useArea:!0};return e===`weekly`&&O(t)?{dataset:[a],dates:t.map(e=>e.timestampEnd)}:e===`daily`&&Le(t)||e===`monthly`&&Re(t)||e===`yearly`&&ze(t)?{dataset:[a],dates:t.map(e=>e.timestamp)}:{dataset:null,dates:[]}}function Ve(e,t){return e===`weekly`&&O(t)?t.map(e=>({timestamp:e.timestampEnd,value:e.value})):e===`daily`&&Le(t)||e===`monthly`&&Re(t)||e===`yearly`&&ze(t)?t.map(e=>({timestamp:e.timestamp,value:e.value})):[]}function k(e){return e.slice(0,10)}function A(e){return/^\d{4}-\d{2}-\d{2}$/.test(e)}function Ue(e,t){return e.localeCompare(t)<=0?e:t}function We(e,t){return e.localeCompare(t)>=0?e:t}let j=h(()=>{let e=(d.packageNames??[]).map(e=>String(e).trim()).filter(Boolean),t=String(d.packageName??``).trim();return e.length>0&&!t}),M=h(()=>{if(j.value)return(d.packageNames??[]).map(e=>String(e).trim()).filter(Boolean);let e=String(d.packageName??``).trim();return e?[e]:[]}),{fetchPackageDownloadEvolution:qe,fetchPackageLikesEvolution:Ye,fetchRepoContributorsEvolution:Xe,fetchRepoRefsForPackages:Qe}=_t(),N=m({}),$e=m(0);_(()=>M.value,async e=>{if(!j.value){N.value={};return}let t=++$e.value,n=await Qe(e);t===$e.value&&(N.value=n)},{immediate:!0});let P=vt(`granularity`,Q,{permanent:d.permalink}),F=m(Q),nt=h(()=>{let e=P.value;if(e!==`monthly`&&e!==`yearly`)return!1;let t=String(z.value??``).slice(0,10);if(!/^\d{4}-\d{2}-\d{2}$/.test(t))return!1;let[n,r,i]=t.split(`-`).map(Number);return!n||!r||!i?!1:e===`monthly`?i===new Date(Date.UTC(n,r,0)).getUTCDate():r===12&&i===31}),rt=h(()=>F.value===`monthly`||F.value===`yearly`),I=h(()=>rt.value&&q.value!==`contributors`),L=h(()=>!X.value&&I.value),R=vt(`start`,``,{permanent:d.permalink}),z=vt(`end`,``,{permanent:d.permalink}),B=m(!1);function V(){if(B.value||!d.weeklyDownloads?.length)return;let e=d.weeklyDownloads[0],t=d.weeklyDownloads[d.weeklyDownloads.length-1],n=e?.weekStart?k(e.weekStart):``,r=t?.weekEnd?k(t.weekEnd):``;A(n)&&(R.value=n),A(r)&&(z.value=r)}function it(){if(B.value||R.value&&z.value)return;let e=new Date,t=new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()-1)),n=t.toISOString().slice(0,10),r=new Date(t);r.setUTCDate(r.getUTCDate()-29);let i=r.toISOString().slice(0,10);R.value||=i,z.value||=n}function at(e){return e.toISOString().slice(0,10)}function ot(e,t){let n=new Date(e);return n.setUTCDate(n.getUTCDate()+t),n}function st(){if(B.value||!j.value||R.value&&z.value)return;let e=new Date,t=new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()-1));z.value=at(t),R.value=at(ot(t,-363))}_(()=>(d.packageNames??[]).length,()=>{st()},{immediate:!0});let H=m(``),U=m(``);function ct(){H.value||U.value||(R.value&&(H.value=R.value),z.value&&(U.value=z.value))}_([R,z],()=>{(R.value||z.value)&&(B.value=!0),ct()},{immediate:!0,flush:`post`});let lt=h(()=>!H.value&&!U.value?!1:R.value!==H.value||z.value!==U.value);function ut(){B.value=!1,R.value=``,z.value=``,V(),st(),it()}let W=m({granularity:`week`,weeks:52});function G(e){let t={...e},n=R.value?k(R.value):``,r=z.value?k(z.value):``,i=n&&A(n)?n:``,a=r&&A(r)?r:``;return i&&a?(t.startDate=Ue(i,a),t.endDate=We(i,a)):(i?t.startDate=i:delete t.startDate,a?t.endDate=a:delete t.endDate),t}let dt=h(()=>{if(j.value)return Object.values(N.value).some(e=>e?.provider===`github`);let e=d.repoRef;return e?.provider===`github`&&e.owner&&e.repo}),K=h(()=>{let e=[{id:`downloads`,label:a(`package.trends.items.downloads`),fetch:({packageName:e},t)=>qe(e,d.createdIso??null,t),supportsMulti:!0},{id:`likes`,label:a(`package.trends.items.likes`),fetch:({packageName:e},t)=>Ye(e,t),supportsMulti:!0}];return dt.value&&e.push({id:`contributors`,label:a(`package.trends.items.contributors`),fetch:({repoRef:e},t)=>Xe(e,t),supportsMulti:!0}),e}),q=vt(`facet`,Dn,{permanent:d.permalink}),J=h(()=>!j.value||q.value!==`contributors`?M.value:M.value.filter(e=>N.value[e]?.provider===`github`)),ft=h(()=>!j.value||q.value!==`contributors`||!M.value.length?[]:M.value.filter(e=>N.value[e]?.provider!==`github`)),pt=h(()=>q.value===`contributors`?[`weekly`,`monthly`,`yearly`]:[`daily`,`weekly`,`monthly`,`yearly`]);_(()=>[q.value,pt.value],()=>{pt.value.includes(P.value)||(P.value=`weekly`)},{immediate:!0}),_(()=>K.value,e=>{e.some(e=>e.id===q.value)||(q.value=Dn)},{immediate:!0});let mt=te({downloads:{pending:!1,evolution:d.weeklyDownloads??[],evolutionsByPackage:{},requestToken:0},likes:{pending:!1,evolution:[],evolutionsByPackage:{},requestToken:0},contributors:{pending:!1,evolution:[],evolutionsByPackage:{},requestToken:0}}),Y=h(()=>mt[q.value]),ht=h(()=>K.value.find(e=>e.id===q.value)??K.value[0]),X=h(()=>Y.value.pending),Z=m(!1);_([P,R,z],([e])=>{if(e===`daily`?W.value=G({granularity:`day`}):e===`weekly`?W.value=G({granularity:`week`,weeks:52}):e===`monthly`?W.value=G({granularity:`month`,months:24}):W.value=G({granularity:`year`}),!Z.value)return;if(!M.value.length){Y.value.pending=!1;return}let t=W.value,n=`startDate`in t&&t.startDate||`endDate`in t&&t.endDate;if(q.value===Dn&&!j.value&&e===Q&&d.weeklyDownloads?.length&&!n){Y.value.pending=!1;return}Y.value.pending=!0},{immediate:!0});async function gt(e){let t=mt[e],n=K.value.find(t=>t.id===e),r=++t.requestToken;t.pending=!0;let i=e=>n.fetch(e,W.value);try{let a=J.value;if(!a.length){j.value?t.evolutionsByPackage={}:t.evolution=[],F.value=P.value;return}if(j.value){if(n.supportsMulti===!1){t.evolutionsByPackage={},F.value=P.value;return}let o=await Promise.allSettled(a.map(async t=>({pkg:t,result:await i({packageName:t,repoRef:e===`contributors`?N.value[t]:null})??[]})));if(r!==t.requestToken)return;let s={};for(let e of o)e.status===`fulfilled`&&(s[e.value.pkg]=e.value.result);t.evolutionsByPackage=s,F.value=P.value;return}let o=a[0]??``;if(!o){t.evolution=[],F.value=P.value;return}if(e===Dn){let e=W.value,n=`startDate`in e&&e.startDate||`endDate`in e&&e.endDate;if(P.value===Q&&d.weeklyDownloads?.length&&!n){t.evolution=d.weeklyDownloads,F.value=Q;return}}let s=await i({packageName:o,repoRef:d.repoRef});if(r!==t.requestToken)return;t.evolution=s??[],F.value=P.value}catch{if(r!==t.requestToken)return;j.value?t.evolutionsByPackage={}:t.evolution=[]}finally{r===t.requestToken&&(t.pending=!1)}}let On=he(()=>{gt(q.value)},1e3),kn=h(()=>{let e=M.value.join(`,`),t=W.value,n=d.repoRef?`${d.repoRef.provider}:${d.repoRef.owner}/${d.repoRef.repo}`:``;return[j.value?`M`:`S`,e,n,String(d.createdIso??``),String(t.granularity??``),String(`weeks`in t?t.weeks??``:``),String(`months`in t?t.months??``:``),String(`startDate`in t?t.startDate??``:``),String(`endDate`in t?t.endDate??``:``)].join(`|`)});_(()=>kn.value,()=>{Z.value&&On()},{flush:`post`}),_(()=>N.value,()=>{Z.value&&j.value&&q.value===`contributors`&&On()},{deep:!0});let An=h(()=>{let e=Y.value,t;if(t=q.value===Dn&&F.value===Q&&d.weeklyDownloads?.length?O(e.evolution)&&e.evolution.length?e.evolution:d.weeklyDownloads:e.evolution,Xn.value&&t.length){let e=M.value[0]??d.packageName??``;return b.value.chartFilter.anomaliesFixed&&(t=tt({data:t,packageName:e,granularity:F.value})),Ze(t,b.value.chartFilter)}return t}),$=h(()=>{if(!j.value){let e=M.value[0]??d.packageName??``;return Be(F.value,An.value,e)}let e=Y.value,t=J.value,n=F.value,r=new Set,i=new Map;for(let a of t){let t=e.evolutionsByPackage[a]??[];Xn.value&&t.length&&(b.value.chartFilter.anomaliesFixed&&(t=tt({data:t,packageName:a,granularity:n})),t=Ze(t,b.value.chartFilter));let o=Ve(n,t);i.set(a,o);for(let e of o)r.add(e.timestamp)}let a=Array.from(r).sort((e,t)=>e-t);return a.length?{dataset:t.map(e=>{let t=i.get(e)??[],n=new Map;for(let e of t)n.set(e.timestamp,e.value);let r={name:e,type:`line`,series:a.map(e=>n.get(e)??0)};return je(e)&&(r.color=Ae(e)),r}),dates:a}:{dataset:null,dates:[]}}),jn=h(()=>$.value.dataset?.map(e=>{let t=e.series.at(-1)??0,n=q.value===`contributors`?t:Gn(t);return{...e,series:[...e.series.slice(0,-1),n]}})),Mn=h(()=>Math.max(0,...($.value.dataset??[]).map(e=>e.series.length))),Nn=(e,t)=>{let n=document.createElement(`a`);n.href=e,n.download=t,n.click(),n.remove()},Pn=h(()=>({daily:{year:`yyyy-MM-dd`,month:`yyyy-MM-dd`,day:`yyyy-MM-dd`},weekly:{year:`yyyy-MM-dd`,month:`yyyy-MM-dd`,day:`yyyy-MM-dd`},monthly:{year:`MMM yyyy`,month:`MMM yyyy`,day:`MMM yyyy`},yearly:{year:`yyyy`,month:`yyyy`,day:`yyyy`}})[P.value]),Fn=e=>e.replace(/^@/,``).replace(/[\\/:"*?<>|]/g,`-`).replace(/\//g,`-`);function In(e){let t=P.value,n=`${R.value}_${z.value}`;if(!j.value)return`${Fn(M.value[0]??d.packageName??`package`)}-${t}_${n}.${e}`;let r=M.value;return`${Fn((r.length===1?r[0]:r.join(`_`))??``)}-${t}_${n}.${e}`}let Ln=h(()=>({daily:a(`package.trends.granularity_daily`),weekly:a(`package.trends.granularity_weekly`),monthly:a(`package.trends.granularity_monthly`),yearly:a(`package.trends.granularity_yearly`)}));function Rn(e){return Ln.value[e]}let zn=h(()=>pt.value.map(e=>({label:Ln.value[e],value:e})));function Bn(e){return e<0?0:e>1?1:e}function Vn(e){if(!/^\d{4}-\d{2}-\d{2}$/.test(e))return null;let[t,n,r]=e.split(`-`).map(Number);return!t||!n||!r?null:Date.UTC(t,n-1,r,23,59,59,999)}function Hn(e,t){let n=new Date(e);return t===`yearly`?Date.UTC(n.getUTCFullYear(),0,1,0,0,0,0):Date.UTC(n.getUTCFullYear(),n.getUTCMonth(),1,0,0,0,0)}function Un(e,t){let n=new Date(e);return t===`yearly`?Date.UTC(n.getUTCFullYear()+1,0,1,0,0,0,0):Date.UTC(n.getUTCFullYear(),n.getUTCMonth()+1,1,0,0,0,0)}function Wn(e){let t=Hn(e.bucketTimestampMs,e.granularity),n=Un(e.bucketTimestampMs,e.granularity)-t;return n<=0?1:Bn((e.referenceMs-t)/n)}function Gn(e){if(q.value===`contributors`||F.value!==`monthly`&&F.value!==`yearly`)return e;let t=(z.value?Vn(z.value):null)??Date.now(),n=Wn({bucketTimestampMs:$.value.dates.at(-1)??0,granularity:F.value,referenceMs:t});if(!(n>0&&n<1))return e;let r=e/n;return Number.isFinite(r)?r:e}function Kn(e){if(!L.value)return``;let t=Array.isArray(e?.data)?e.data:[];if(!t.length)return``;let n=[];for(let e of t){let t=e?.plots;if(!Array.isArray(t)||t.length<2)continue;let r=t.at(-2),i=t.at(-1);if(!r||!i)continue;let a=String(e?.color??C.value.fg);n.push(`
      <line
        x1="${r.x}"
        y1="${r.y}"
        x2="${i.x}"
        y2="${i.y}"
        stroke="${C.value.bg}"
        stroke-width="3"
        opacity="1"
      />
      <line
        x1="${r.x}"
        y1="${r.y}"
        x2="${i.x}"
        y2="${i.y}"
        stroke="${a}"
        stroke-width="3"
        stroke-dasharray="4 8"
        stroke-linecap="round"
      />
      <circle
        cx="${i.x}"
        cy="${i.y}"
        r="4"
        fill="${a}"
        stroke="${C.value.bg}"
        stroke-width="2"
      />
    `)}return n.length?n.join(`
`):``}function qn(e){let t=Array.isArray(e?.data)?e.data:[];if(!t.length)return``;let n=[];for(let e of t){let t=e.plots.at(-1);n.push(`
      <text
        text-anchor="start"
        dominant-baseline="middle"
        x="${t.x+12}"
        y="${t.y}"
        font-size="24"
        fill="${C.value.fg}"
        stroke="${C.value.bg}"
        stroke-width="1"
        paint-order="stroke fill"
      >
        ${S.value.format(Number.isFinite(t.value)?t.value:0)}
      </text>
    `)}return n.join(`
`)}function Jn(e){let t=Array.isArray(e?.data)?e.data:[];if(!t.length)return``;let n=[];return t.forEach((t,r)=>{n.push(`
      <rect
        x="${e.drawingArea.left+12}"
        y="${e.drawingArea.top+24*r-7}"
        width="12"
        height="12"
        fill="${t.color}"
        rx="3"
      />
      <text
        text-anchor="start"
        dominant-baseline="middle"
        x="${e.drawingArea.left+32}"
        y="${e.drawingArea.top+24*r}"
        font-size="16"
        fill="${C.value.fg}"
        stroke="${C.value.bg}"
        stroke-width="1"
        paint-order="stroke fill"
      >
        ${t.name}
      </text>
  `)}),I.value&&!nt.value&&!x.value&&n.push(`
        <line
          x1="${e.drawingArea.left+12}"
          y1="${e.drawingArea.top+24*t.length}"
          x2="${e.drawingArea.left+24}"
          y2="${e.drawingArea.top+24*t.length}"
          stroke="${C.value.fg}"
          stroke-dasharray="4"
          stroke-linecap="round"
        />
        <text
          text-anchor="start"
          dominant-baseline="middle"
          x="${e.drawingArea.left+32}"
          y="${e.drawingArea.top+24*t.length}"
          font-size="16"
          fill="${C.value.fg}"
          stroke="${C.value.bg}"
          stroke-width="1"
          paint-order="stroke fill"
        >
          ${a(`package.trends.legend_estimation`)}
        </text>
      `),n.join(`
`)}let Yn=h(()=>({theme:Fe.value?`dark`:``,chart:{height:E.value?950:600,backgroundColor:C.value.bg,padding:{bottom:F.value===`yearly`?84:64,right:128},userOptions:{buttons:{pdf:!1,labels:!1,fullscreen:!1,table:!1,tooltip:!1,altCopy:!0},buttonTitles:{csv:a(`package.trends.download_file`,{fileType:`CSV`}),img:a(`package.trends.download_file`,{fileType:`PNG`}),svg:a(`package.trends.download_file`,{fileType:`SVG`}),annotator:a(`package.trends.toggle_annotator`),stack:a(`package.trends.toggle_stack_mode`),altCopy:a(`package.trends.copy_alt.button_label`)},callbacks:{img:e=>{let t=e?.imageUri;t&&Nn(t,In(`png`))},csv:e=>{if(!e)return;let t=a(`package.trends.date_range_multiline`,{start:`\0`,end:`\0`}).replaceAll(`\0`,``).trim(),n=new Blob([e.replace(`data:text/csv;charset=utf-8,`,``).replaceAll(`\n${t}`,` ${t}`)]),r=URL.createObjectURL(n);Nn(r,In(`csv`)),URL.revokeObjectURL(r)},svg:e=>{let t=e?.blob;if(!t)return;let n=URL.createObjectURL(t);Nn(n,In(`svg`)),URL.revokeObjectURL(n)},altCopy:({dataset:e,config:t})=>Me({dataset:e,config:{...t,formattedDatasetValues:(e?.lines||[]).map(e=>e.series.map(e=>S.value.format(e??0))),hasEstimation:I.value&&!nt.value&&!x.value,granularity:F.value,copy:ge,$t:a,numberFormatter:S.value.format}})}},grid:{stroke:C.value.border,showHorizontalLines:!0,labels:{fontSize:E.value?24:16,color:X.value?C.value.border:C.value.fgSubtle,axis:{yLabel:a(`package.trends.y_axis_label`,{granularity:Rn(P.value),facet:ht.value?.label}),yLabelOffsetX:12,fontSize:E.value?32:24},xAxisLabels:{show:!0,showOnlyAtModulo:!0,modulo:12,values:$.value?.dates,datetimeFormatter:{enable:!0,locale:f.value,useUTC:!0,options:Pn.value}},yAxis:{formatter:({value:e})=>S.value.format(Number.isFinite(e)?e:0),useNiceScale:!0,gap:24}}},timeTag:{show:!0,backgroundColor:C.value.bgElevated,color:C.value.fg,fontSize:16,circleMarker:{radius:3,color:C.value.border},useDefaultFormat:!0,timeFormat:`yyyy-MM-dd HH:mm:ss`},highlighter:{useLine:!0},legend:{show:!1,position:`top`},tooltip:{teleportTo:d.inModal?`#chart-modal`:void 0,borderColor:`transparent`,backdropFilter:!1,backgroundColor:`transparent`,customFormat:({datapoint:e})=>{if(!e||X.value)return``;let t=e.length>1,n=e.map(e=>{let n=String(e?.name??``).trim(),r=Number(e?.value??0),i=S.value.format(Number.isFinite(r)?r:0);return t?`<div class="grid grid-cols-[12px_minmax(0,1fr)_max-content] items-center gap-x-3">
                <div class="w-3 h-3">
                  <svg viewBox="0 0 2 2" class="w-full h-full">
                    <rect x="0" y="0" width="2" height="2" rx="0.3" fill="${e.color}" />
                  </svg>
                </div>

                <span class="text-3xs uppercase tracking-wide text-[var(--fg)]/70 truncate">
                  ${n}
                </span>

                <span class="text-base text-[var(--fg)] font-mono tabular-nums text-end">
                  ${i}
                </span>
              </div>`:`<div>
                  <span class="text-base text-[var(--fg)] font-mono tabular-nums">${i}</span>
                </div>`}).join(``);return`<div class="font-mono text-xs p-3 border border-border rounded-md bg-[var(--bg)]/10 backdrop-blur-md">
            <div class="${t?`flex flex-col gap-2`:``}">
              ${n}
            </div>
          </div>`}},zoom:{maxWidth:E.value?350:500,highlightColor:C.value.bgElevated,useResetSlot:!0,minimap:{show:!0,lineColor:`#FAFAFA`,selectedColor:T.value,selectedColorOpacity:.06,frameColor:C.value.border,handleWidth:E.value?40:20,handleBorderColor:C.value.fgSubtle,handleType:`grab`},preview:{fill:Ke(T.value,Fe.value?.95:.92),stroke:Ke(T.value,.5),strokeWidth:1,strokeDasharray:3}}}})),Xn=h(()=>q.value===`downloads`),Zn=m(!1),Qn=h(()=>et(M.value)),$n=h(()=>Qn.value.length>0);function er(e){let[t,n,r]=e.split(`-`).map(Number);return!t||!n||!r?e:new Intl.DateTimeFormat(f.value,{year:`numeric`,month:`short`,day:`numeric`,timeZone:`UTC`}).format(new Date(Date.UTC(t,n-1,r)))}return _(q,e=>{Z.value&&gt(e)}),(o,d)=>{let f=Oe,m=Ee,te=Se,h=we,ne=le;return s(),v(`div`,{class:`w-full relative`,id:`trends-chart`,"aria-busy":i(Y).pending?`true`:`false`},[y(`div`,bt,[y(`div`,xt,[e.showFacetSelector?(s(),p(f,{key:0,id:`trends-metric-select`,modelValue:i(q),"onUpdate:modelValue":d[0]||=e=>re(q)?q.value=e:null,disabled:i(Y).pending,items:i(K).map(e=>({label:e.label,value:e.id})),label:i(a)(`package.trends.facet`)},null,8,[`modelValue`,`disabled`,`items`,`label`])):n(``,!0),u(f,{label:i(a)(`package.trends.granularity`),id:`granularity`,modelValue:i(P),"onUpdate:modelValue":d[1]||=e=>re(P)?P.value=e:null,disabled:i(Y).pending,items:i(zn)},null,8,[`label`,`modelValue`,`disabled`,`items`]),y(`div`,St,[y(`div`,Ct,[y(`label`,wt,l(i(a)(`package.trends.start_date`)),1),y(`div`,Tt,[d[9]||=y(`span`,{class:`absolute inset-is-2 i-lucide:calendar w-4 h-4 text-fg-subtle shrink-0 pointer-events-none`,"aria-hidden":`true`},null,-1),u(m,{id:`startDate`,modelValue:i(R),"onUpdate:modelValue":d[2]||=e=>re(R)?R.value=e:null,type:`date`,max:i(Ce),class:`w-full min-w-0 bg-transparent ps-7`,size:`medium`},null,8,[`modelValue`,`max`])])]),y(`div`,Et,[y(`label`,Dt,l(i(a)(`package.trends.end_date`)),1),y(`div`,Ot,[d[10]||=y(`span`,{class:`absolute inset-is-2 i-lucide:calendar w-4 h-4 text-fg-subtle shrink-0 pointer-events-none`,"aria-hidden":`true`},null,-1),u(m,{id:`endDate`,modelValue:i(z),"onUpdate:modelValue":d[3]||=e=>re(z)?z.value=e:null,type:`date`,max:i(Ce),class:`w-full min-w-0 bg-transparent ps-7`,size:`medium`},null,8,[`modelValue`,`max`])])])]),i(lt)?(s(),v(`button`,{key:1,type:`button`,"aria-label":`Reset date range`,class:`self-end flex items-center justify-center px-2.5 py-2.25 border border-transparent rounded-md text-fg-subtle hover:text-fg transition-colors hover:border-border focus-visible:outline-accent/70 sm:mb-0`,onClick:ut},[...d[11]||=[y(`span`,{class:`block i-lucide:undo-2 w-5 h-5`,"aria-hidden":`true`},null,-1)]])):n(``,!0)]),i(Xn)?(s(),v(`div`,kt,[y(`button`,{type:`button`,class:`self-start flex items-center gap-1 text-2xs font-mono text-fg-subtle hover:text-fg transition-colors`,onClick:d[4]||=e=>Zn.value=!i(Zn)},[y(`span`,{class:t([`w-3.5 h-3.5 transition-transform`,i(Zn)?`i-lucide:chevron-down`:`i-lucide:chevron-right`]),"aria-hidden":`true`},null,2),r(` `+l(i(a)(`package.trends.data_correction`)),1)]),i(Zn)?(s(),v(`div`,At,[y(`label`,jt,[y(`span`,Mt,[r(l(i(a)(`package.trends.average_window`))+` `,1),y(`span`,Nt,`(`+l(i(b).chartFilter.averageWindow)+`)`,1)]),se(y(`input`,{"onUpdate:modelValue":d[5]||=e=>i(b).chartFilter.averageWindow=e,type:`range`,min:`0`,max:`20`,step:`1`,class:`accent-[var(--accent-color,var(--fg-subtle))]`},null,512),[[oe,i(b).chartFilter.averageWindow,void 0,{number:!0}]])]),y(`label`,Pt,[y(`span`,Ft,[r(l(i(a)(`package.trends.smoothing`))+` `,1),y(`span`,It,`(`+l(i(b).chartFilter.smoothingTau)+`)`,1)]),se(y(`input`,{"onUpdate:modelValue":d[6]||=e=>i(b).chartFilter.smoothingTau=e,type:`range`,min:`0`,max:`20`,step:`1`,class:`accent-[var(--accent-color,var(--fg-subtle))]`},null,512),[[oe,i(b).chartFilter.smoothingTau,void 0,{number:!0}]])]),y(`div`,Lt,[y(`span`,Rt,[r(l(i(a)(`package.trends.known_anomalies`))+` `,1),u(h,{interactive:``,to:e.inModal?`#chart-modal`:void 0},{content:g(()=>[y(`div`,Bt,[y(`p`,Vt,l(i(a)(`package.trends.known_anomalies_description`)),1),i($n)?(s(),v(`div`,Ht,[y(`p`,Ut,l(i(a)(`package.trends.known_anomalies_ranges`)),1),y(`ul`,Wt,[(s(!0),v(ie,null,ee(i(Qn),e=>(s(),v(`li`,{key:`${e.packageName}-${e.start}`},l(i(j)?i(a)(`package.trends.known_anomalies_range_named`,{packageName:e.packageName,start:er(e.start),end:er(e.end)}):i(a)(`package.trends.known_anomalies_range`,{start:er(e.start),end:er(e.end)})),1))),128))])])):(s(),v(`p`,Gt,l(i(a)(`package.trends.known_anomalies_none`,i(M).length)),1)),y(`div`,Kt,[u(te,{to:`https://github.com/npmx-dev/npmx.dev/edit/main/app/utils/download-anomalies.data.ts`,class:`text-xs text-accent`},{default:g(()=>[r(l(i(a)(`package.trends.known_anomalies_contribute`)),1)]),_:1})])])]),default:g(()=>[y(`button`,{type:`button`,class:`i-lucide:info w-3.5 h-3.5 text-fg-muted cursor-help`,"aria-label":i(a)(`package.trends.known_anomalies`)},null,8,zt)]),_:1},8,[`to`])]),y(`label`,{class:t([`flex items-center gap-1.5 text-2xs font-mono text-fg-subtle cursor-pointer`,{"opacity-50 pointer-events-none":!i($n)}])},[se(y(`input`,{"onUpdate:modelValue":d[7]||=e=>i(b).chartFilter.anomaliesFixed=e,type:`checkbox`,disabled:!i($n),class:`accent-[var(--accent-color,var(--fg-subtle))]`},null,8,qt),[[ae,i(b).chartFilter.anomaliesFixed]]),r(` `+l(i(a)(`package.trends.apply_correction`)),1)],2)])])):n(``,!0)])):n(``,!0),i(ft).length>0?(s(),v(`p`,Jt,l(i(a)(`package.trends.contributors_skip`,{count:i(ft).length}))+` `+l(i(ft).join(`, `)),1)):n(``,!0)]),y(`h2`,Yt,l(i(a)(`package.trends.title`))+`  `+l(i(ht)?.label),1),y(`div`,{role:`region`,"aria-labelledby":`trends-chart-title`,class:t(i(E)===!1&&i(Pe)>0?`min-h-[567px]`:`min-h-[260px]`)},[i($).dataset?(s(),p(ne,{key:0},{fallback:g(()=>[...d[20]||=[y(`div`,{class:`min-h-[260px]`},null,-1)]]),default:g(()=>[y(`div`,{"data-pending":i(X),"data-minimap-visible":i(Mn)>6},[u(i(ke),{dataset:i(jn),config:i(Yn),class:`[direction:ltr]`,onZoomStart:Ne,onZoomEnd:Ne,onZoomReset:d[8]||=e=>x.value=!1},{svg:g(({svg:e})=>[i(L)&&!i(nt)&&!i(x)?(s(),v(`g`,{key:0,innerHTML:Kn(e)},null,8,Zt)):n(``,!0),i(X)?n(``,!0):(s(),v(`g`,{key:1,innerHTML:qn(e)},null,8,Qt)),e.isPrintingSvg?(s(),v(`g`,{key:2,innerHTML:Jn(e)},null,8,$t)):n(``,!0),e.isPrintingSvg||e.isPrintingImg?(s(),v(`g`,{key:3,innerHTML:i(Je)(e,i(Ie),i(a),`bottom`)},null,8,en)):n(``,!0),i(X)?(s(),v(`rect`,{key:4,x:e.drawingArea.left,y:e.drawingArea.top-12,width:e.drawingArea.width+12,height:e.drawingArea.height+48,fill:i(C).bg},null,8,tn)):n(``,!0)]),"area-gradient":g(({series:e,id:t})=>[y(`linearGradient`,{id:t,x1:`0`,x2:`0`,y1:`0`,y2:`1`},[y(`stop`,{offset:`0%`,"stop-color":e.color,"stop-opacity":`0.2`},null,8,rn),y(`stop`,{offset:`100%`,"stop-color":i(C).bg,"stop-opacity":`0`},null,8,an)],8,nn)]),legend:g(({legend:e})=>[y(`div`,on,[i(j)?(s(!0),v(ie,{key:0},ee(e,e=>(s(),v(`button`,{key:e.name,"aria-pressed":e.isSegregated,"aria-label":e.name,type:`button`,class:`flex gap-1 place-items-center`,onClick:t=>e.segregate()},[y(`div`,cn,[(s(),v(`svg`,ln,[y(`rect`,{x:`0`,y:`0`,width:`2`,height:`2`,rx:`0.3`,fill:e.color},null,8,un)]))]),y(`span`,{style:c({textDecoration:e.isSegregated?`line-through`:void 0})},l(e.name),5)],8,sn))),128)):e.length>0?(s(),v(`div`,dn,[y(`div`,fn,[(s(),v(`svg`,pn,[y(`rect`,{x:`0`,y:`0`,width:`2`,height:`2`,rx:`0.3`,fill:e[0]?.color},null,8,mn)]))]),y(`span`,null,l(e[0]?.name),1)])):n(``,!0),i(I)?(s(),v(`div`,hn,[(s(),v(`svg`,gn,[y(`line`,{x1:`0`,y1:`1`,x2:`20`,y2:`1`,stroke:i(C).fg,"stroke-dasharray":`4`,"stroke-linecap":`round`},null,8,_n)])),y(`span`,vn,l(i(a)(`package.trends.legend_estimation`)),1)])):n(``,!0)])]),"reset-action":g(({reset:e})=>[y(`button`,{type:`button`,"aria-label":`reset minimap`,class:`absolute inset-is-1/2 -translate-x-1/2 -bottom-18 sm:inset-is-unset sm:translate-x-0 sm:bottom-auto sm:-inset-ie-20 sm:-top-3 flex items-center justify-center px-2.5 py-1.75 border border-transparent rounded-md text-fg-subtle hover:text-fg transition-colors hover:border-border focus-visible:outline-accent/70 sm:mb-0`,style:{"pointer-events":`all !important`},onClick:e},[...d[12]||=[y(`span`,{class:`i-lucide:undo-2 w-5 h-5`,"aria-hidden":`true`},null,-1)]],8,yn)]),menuIcon:g(({isOpen:e})=>[e?(s(),v(`span`,bn)):(s(),v(`span`,xn))]),optionCsv:g(()=>[...d[13]||=[y(`span`,{class:`text-fg-subtle font-mono pointer-events-none`},`CSV`,-1)]]),optionImg:g(()=>[...d[14]||=[y(`span`,{class:`text-fg-subtle font-mono pointer-events-none`},`PNG`,-1)]]),optionSvg:g(()=>[...d[15]||=[y(`span`,{class:`text-fg-subtle font-mono pointer-events-none`},`SVG`,-1)]]),"annotator-action-close":g(()=>[...d[16]||=[y(`span`,{class:`i-lucide:x w-6 h-6 text-fg-subtle`,style:{"pointer-events":`none`},"aria-hidden":`true`},null,-1)]]),"annotator-action-color":g(({color:e})=>[y(`span`,{class:`i-lucide:palette w-6 h-6`,style:c({color:e}),"aria-hidden":`true`},null,4)]),"annotator-action-undo":g(()=>[...d[17]||=[y(`span`,{class:`i-lucide:undo-2 w-6 h-6 text-fg-subtle`,style:{"pointer-events":`none`},"aria-hidden":`true`},null,-1)]]),"annotator-action-redo":g(()=>[...d[18]||=[y(`span`,{class:`i-lucide:redo-2 w-6 h-6 text-fg-subtle`,style:{"pointer-events":`none`},"aria-hidden":`true`},null,-1)]]),"annotator-action-delete":g(()=>[...d[19]||=[y(`span`,{class:`i-lucide:trash w-6 h-6 text-fg-subtle`,style:{"pointer-events":`none`},"aria-hidden":`true`},null,-1)]]),optionAnnotator:g(({isAnnotator:e})=>[e?(s(),v(`span`,Sn)):(s(),v(`span`,Cn))]),optionAltCopy:g(()=>[y(`span`,{class:t([`w-6 h-6`,i(_e)?`i-lucide:check text-accent`:`i-lucide:person-standing text-fg-subtle`]),style:{"pointer-events":`none`},"aria-hidden":`true`},null,2)]),_:1},8,[`dataset`,`config`])],8,Xt)]),_:1})):n(``,!0),!i($).dataset&&!i(Y).pending?(s(),v(`div`,wn,l(i(a)(`package.trends.no_data`)),1)):n(``,!0)],2),i(Y).pending?(s(),v(`div`,Tn,l(i(a)(`package.trends.loading`)),1)):n(``,!0)],8,yt)}}}),kn=Object.assign(On,{__name:`PackageTrendsChart`});export{S as C,Pe as S,Fe as _,tt as a,w as b,qe as c,Ge as d,Ke as f,T as g,O as h,I as i,A as l,ze as m,_t as n,Ze as o,He as p,F as r,Je as s,kn as t,M as u,E as v,C as x,Ie as y};