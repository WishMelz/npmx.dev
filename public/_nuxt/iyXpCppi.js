const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./CBD7ngdF.js","./BLt7TXlb.js"])))=>i.map(i=>d[i]);
import{C as e,Dt as t,G as n,J as r,Mt as i,Nt as a,O as ee,Q as o,R as s,S as c,Tt as l,Z as te,b as u,it as d,jt as ne,k as re,m as f,ot as p,w as m,x as h,yt as g,z as ie}from"./BLt7TXlb.js";import{t as ae}from"./YZkb6lnT.js";import{Mt as _,Nt as oe,P as v,V as se,_t as ce,bt as le,dt as ue,h as y,it as b,m as x,rt as S,vt as C,wt as w,y as de}from"./Cf-0F-2c.js";import{n as T,t as E}from"./8DvoFuCx.js";import{n as D,t as fe}from"./D4ushAer.js";import{t as pe}from"./BwaPX4qL.js";var O={},k={style:{backgroundColor:`#1A1A1A`,gutter:{backgroundColor:`#3A3A3A`},bar:{gradient:{underlayerColor:`#1A1A1A`}},labels:{name:{color:`#CCCCCC`}},title:{color:`#CCCCCC`}}},A={style:{backgroundColor:`#1A1A1A`,gutter:{backgroundColor:`#3A3A3A`},bar:{gradient:{underlayerColor:`#1A1A1A`}},labels:{name:{color:`#CCCCCC`}},title:{color:`#CCCCCC`}}},j={style:{backgroundColor:`#FFF8E1`,gutter:{backgroundColor:`#ded6ca`},bar:{gradient:{underlayerColor:`#FFF8E1`}},labels:{name:{color:`#424242`}},title:{color:`#424242`}}},M={style:{backgroundColor:`#1E1E1E`,gutter:{backgroundColor:`#2E2E2E`},bar:{gradient:{underlayerColor:`#FFF8E1`}},labels:{name:{color:`#BDBDBD`}},title:{color:`#BDBDBD`}}},N={style:{backgroundColor:`#1A1A1A`,gutter:{backgroundColor:`#333333`},bar:{gradient:{underlayerColor:`#1A1A1A`}},labels:{name:{color:`#99CC99`}},title:{color:`#66CC66`}}},P={style:{backgroundColor:`#fbfafa`,gutter:{backgroundColor:`#f5f0eb`},bar:{gradient:{underlayerColor:`#fbfafa`}},labels:{name:{color:`#8A9892`}}}},F={style:{backgroundColor:`#f6f6fb`,bar:{gradient:{underlayerColor:`#f6f6fb`}},labels:{name:{color:`#50606C`}}}},I={default:{},minimal:O,minimalDark:k,dark:A,celebration:j,celebrationNight:M,hack:N,zen:P,concrete:F},L=Object.freeze(Object.defineProperty({__proto__:null,celebration:j,celebrationNight:M,concrete:F,dark:A,default:I,hack:N,minimal:O,minimalDark:k,zen:P},Symbol.toStringTag,{value:`Module`})),R=[`onClick`,`onMouseenter`,`onMouseleave`],z={key:1,class:`vue-ui-sparkbar-datapoint-value`},B=[`xmlns`,`viewBox`],V=[`id`],me=[`stop-color`],he=[`stop-color`],ge=[`height`,`width`,`fill`,`rx`],_e=[`height`,`width`,`fill`,`rx`],ve=[`height`,`width`,`fill`,`rx`],ye={key:2,ref:`source`,dir:`auto`},H={__name:`vue-ui-sparkbar`,props:{config:{type:Object,default(){return{}}},dataset:{type:Array,default(){return[]}},backgroundOpacity:{type:Number,default:null}},emits:[`selectDatapoint`],setup(O,{emit:k}){let A=re(()=>ae(()=>import(`./CBD7ngdF.js`),__vite__mapDeps([0,1]),import.meta.url)),{vue_ui_sparkbar:j}=E(),{isThemeValid:M,warnInvalidTheme:N}=pe(),P=O,F=d();n(()=>{F[`chart-background`]&&console.warn(`VueUiSparkbar does not support the #chart-background slot.`)});let L=g(oe()),H=g(q()),U=u(()=>v({defaultConfig:{style:{backgroundColor:`#99999930`,animation:{show:!1},layout:{independant:!0},gutter:{backgroundColor:`#6A6A6A`,opacity:50},bar:{gradient:{underlayerColor:`#6A6A6A`}}}},userConfig:H.value.skeletonConfig??{}})),{loading:W,FINAL_DATASET:G}=fe({...l(P),FINAL_CONFIG:H,prepareConfig:q,skeletonDataset:P.config?.skeletonDataset??[{name:`_`,value:21,target:25,color:`#808080`},{name:`_`,value:13,target:25,color:`#ADADAD`},{name:`_`,value:8,target:25,color:`#DBDBDB`}],skeletonConfig:v({defaultConfig:H.value,userConfig:U.value})}),K=u(()=>!!H.value.debug);function q(){let e=T({userConfig:P.config,defaultConfig:j}),t=e.theme;if(!t)return e;if(!M.value(e))return N(e),e;let n=T({userConfig:I[t]||P.config,defaultConfig:e}),r=T({userConfig:P.config,defaultConfig:n});return{...r,customPalette:r.customPalette.length?r.customPalette:ue[t]||b}}p(()=>P.config,e=>{H.value=q()},{deep:!0});let be=u(()=>de(H.value.customPalette)),J=g(G.value.map(e=>({...e,value:H.value.style.animation.show?0:e.value||0,formatter:e.formatter||null}))),Y=g(null);n(async()=>{se(P.dataset)&&y({componentName:`VueUiSparkbar`,type:`dataset`,debug:K.value}),X()});function X(){if(H.value.style.animation.show){let e=function(){i+=r/t,i<r?(J.value=J.value.map((e,t)=>({...e,value:e.value+=n[t]})),Y.value=requestAnimationFrame(e)):J.value=G.value.map(e=>({...e,value:e.value||0,formatter:e.formatter||null}))},t=H.value.style.animation.animationFrames,n=G.value.map((e,n)=>e.value/t),r=G.value.map(e=>e.value||0).reduce((e,t)=>e+t,0),i=0;e()}}p(()=>G.value,async e=>{cancelAnimationFrame(Y.value),J.value=G.value.map(e=>({...e,value:H.value.style.animation.show?0:e.value||0,formatter:e.formatter||null})),ie(X)},{deep:!0});let Z=g({width:500,height:16}),xe=u(()=>Math.max(...G.value.map(e=>e.value))),Se=u(()=>(G.value.forEach((e,t)=>{x({datasetObject:e,requiredAttributes:[`name`,`value`]}).forEach(e=>{y({componentName:`VueUiSparkbar`,type:`datasetSerieAttribute`,property:e,index:t,debug:K.value})})}),J.value.map((e,t)=>({...e,value:e.value||0,color:ce(e.color)||be.value[t]||b[t]||b[t%b.length]}))));function Ce(e){return e/xe.value}function Q(e){return H.value.style.layout.independant?e.target?e.value/e.target:H.value.style.layout.percentage?e.value>100?1:e.value/100:H.value.style.layout.target===0?1:e.value/H.value.style.layout.target:Ce(e.value)}function $(e){return H.value.style.layout.independant&&e.target||H.value.style.layout.target}let we=k;function Te(e,t){we(`selectDatapoint`,{datapoint:e,index:t}),H.value.events.datapointClick&&H.value.events.datapointClick({datapoint:e,seriesIndex:t})}function Ee(e,t){H.value.events.datapointEnter&&H.value.events.datapointEnter({datapoint:e,seriesIndex:t})}function De(e,t){H.value.events.datapointLeave&&H.value.events.datapointLeave({datapoint:e,seriesIndex:t})}return(n,l)=>(r(),m(`div`,{class:`vue-data-ui-component vue-ui-sparkbar`,style:i({width:`100%`,position:`relative`,fontFamily:H.value.style.fontFamily,background:P.backgroundOpacity===null?H.value.style.backgroundColor:t(C)(H.value.style.backgroundColor,P.backgroundOpacity)})},[n.$slots.title?o(n.$slots,`title`,ne(s({key:0},{title:{...n.title,title:H.value.style.title.text,subtitle:H.value.style.title.subtitle.text}}))):e(``,!0),!n.$slots.title&&H.value.style.title.text?(r(),m(`div`,{key:1,class:`vue-ui-sparkbar-title-container`,style:i({background:H.value.style.title.backgroundColor,margin:H.value.style.title.margin,textAlign:H.value.style.title.textAlign})},[h(`div`,{class:`vue-ui-sparkbar-title`,style:i({fontSize:H.value.style.title.fontSize+`px`,color:H.value.style.title.color,fontWeight:H.value.style.title.bold?`bold`:`normal`})},a(H.value.style.title.text),5),H.value.style.title.subtitle.text?(r(),m(`div`,{key:0,class:`vue-ui-sparkbar-subtitle`,style:i({fontSize:H.value.style.title.subtitle.fontSize+`px`,color:H.value.style.title.subtitle.color,fontWeight:H.value.style.title.subtitle.bold?`bold`:`normal`})},a(H.value.style.title.subtitle.text),5)):e(``,!0)],4)):e(``,!0),(r(!0),m(f,null,te(Se.value,(c,l)=>(r(),m(`div`,{style:i(`display:flex !important;${[`left`,`right`].includes(H.value.style.labels.name.position)?`flex-direction: ${H.value.style.labels.name.position===`right`?`row-reverse`:`row`} !important`:`flex-direction:column !important`};gap:${H.value.style.gap}px !important;align-items:center;${t(G).length>0&&l!==t(G).length-1?`margin-bottom:6px`:``}`),onClick:e=>Te(c,l),onMouseenter:e=>Ee(c,l),onMouseleave:e=>De(c,l)},[t(W)?e(``,!0):o(n.$slots,`data-label`,s({key:0,ref_for:!0},{bar:{...c,target:$(c),valueLabel:t(w)(c.formatter,c.value,t(_)({p:c.prefix||``,v:c.value,s:c.suffix||``,r:c.rounding||0}),{datapoint:c,seriesIndex:l}),targetLabel:t(w)(c.formatter,$(c),t(_)({p:c.prefix||``,v:$(c),s:c.suffix||``,r:c.rounding||0}),{datapoint:c,seriesIndex:l})}})),!n.$slots[`data-label`]||t(W)?(r(),m(`div`,{key:1,style:i({display:`flex`,justifyContent:[`right`,`top-right`].includes(H.value.style.labels.name.position)?`flex-end`:[`top-center`].includes(H.value.style.labels.name.position)?`center`:`flex-start`,alignItems:`center`,width:H.value.style.labels.name.width,color:H.value.style.labels.name.color,fontSize:H.value.style.labels.fontSize+`px`,fontWeight:H.value.style.labels.name.bold?`bold`:`normal`,flexWrap:`wrap`})},[t(W)?(r(),m(`div`,{key:0,class:`vue-ui-sparkbar-skeleton-name`,style:i({width:`60px`,height:H.value.style.labels.fontSize+`px`,borderRadius:H.value.style.labels.fontSize/4+`px`,display:`flex`,alignItems:`center`,justifyContent:`space-between`,marginTop:`5px`})},[h(`div`,{style:i({height:`100%`,width:`40px`,borderRadius:H.value.style.labels.fontSize/4+`px`,backgroundColor:`#6A6A6A80`})},null,4),h(`div`,{style:i({height:`100%`,width:`15px`,borderRadius:H.value.style.labels.fontSize/4+`px`,backgroundColor:`#6A6A6A80`})},null,4)],4)):(r(),m(f,{key:1},[h(`span`,null,a(c.name),1),H.value.style.labels.value.show?(r(),m(`span`,{key:0,style:i(`font-weight:${H.value.style.labels.value.bold?`bold`:`normal`}`),class:`vue-ui-sparkbar-datapoint-name`},`: `+a(t(w)(c.formatter,c.value,t(_)({p:c.prefix||``,v:c.value,s:c.suffix||``,r:c.rounding||0}),{datapoint:c,seriesIndex:l})),5)):e(``,!0),H.value.style.layout.showTargetValue?(r(),m(`span`,z,a(` `+H.value.style.layout.targetValueText)+` `+a(t(w)(c.formatter,$(c),t(_)({p:c.prefix||``,v:$(c),s:c.suffix||``,r:c.rounding||0}),{datapoint:c,seriesIndex:l})),1)):e(``,!0)],64))],4)):e(``,!0),(r(),m(`svg`,{xmlns:t(le),viewBox:`0 0 ${Z.value.width} ${Z.value.height}`,width:`100%`},[ee(t(A)),h(`defs`,null,[h(`linearGradient`,{x1:`0%`,y1:`0%`,x2:`100%`,y2:`0%`,id:`sparkbar_gradient_${l}_${L.value}`},[h(`stop`,{offset:`0%`,"stop-color":t(C)(t(S)(c.color,.03),100-H.value.style.bar.gradient.intensity)},null,8,me),h(`stop`,{offset:`100%`,"stop-color":c.color},null,8,he)],8,V)]),h(`rect`,{height:Z.value.height,width:Z.value.width,x:0,y:0,fill:t(C)(H.value.style.gutter.backgroundColor,H.value.style.gutter.opacity),rx:Z.value.height/2},null,8,ge),h(`rect`,{height:Z.value.height,width:Z.value.width*Q(c),x:0,y:0,fill:H.value.style.bar.gradient.underlayerColor,rx:Z.value.height/2},null,8,_e),h(`rect`,{height:Z.value.height,width:Z.value.width*Q(c),x:0,y:0,fill:H.value.style.bar.gradient.show?`url(#sparkbar_gradient_${l}_${L.value})`:c.color,rx:Z.value.height/2},null,8,ve)],8,B))],44,R))),256)),n.$slots.source?(r(),m(`div`,ye,[o(n.$slots,`source`)],512)):e(``,!0),t(W)?(r(),c(D,{key:3})):e(``,!0)],4))}},U=Object.freeze(Object.defineProperty({__proto__:null,default:H},Symbol.toStringTag,{value:`Module`}));export{U as a,L as v};