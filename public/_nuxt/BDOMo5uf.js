import{A as e,At as t,C as n,Dt as r,Et as i,J as a,Nt as o,b as s,w as c,x as l}from"./BLt7TXlb.js";import{n as u}from"./DZubR30v.js";import{t as d}from"./BM5JPX0m.js";var f=[`href`,`title`],p={key:0,class:`sr-only sm:not-sr-only`},m=[`title`],h={key:0,class:`sr-only sm:not-sr-only`},g=e({__name:`ProvenanceBadge`,props:{provider:{},packageName:{},version:{},compact:{type:Boolean},linked:{type:Boolean}},setup(e){let{t:i}=u(),d=e,g={github:`GitHub Actions`,gitlab:`GitLab CI`},_=s(()=>d.provider?i(`badges.provenance.verified_via`,{provider:g[d.provider]??d.provider}):i(`badges.provenance.verified_title`));return(s,u)=>e.packageName&&e.version&&e.linked!==!1?(a(),c(`a`,{key:0,href:`https://www.npmjs.com/package/${e.packageName}/v/${e.version}#provenance`,target:`_blank`,rel:`noopener noreferrer`,class:`inline-flex items-center justify-center gap-1 text-xs font-mono text-fg-muted hover:text-fg transition-colors duration-200 min-w-6 min-h-6`,title:r(_)},[l(`span`,{class:t([`i-lucide:shield-check shrink-0`,e.compact?`w-3.5 h-3.5`:`w-4 h-4`])},null,2),e.compact?n(``,!0):(a(),c(`span`,p,o(r(i)(`badges.provenance.verified`)),1))],8,f)):(a(),c(`span`,{key:1,class:`inline-flex items-center gap-1 text-xs font-mono text-fg-muted`,title:r(_)},[l(`span`,{class:t([`i-lucide:shield-check shrink-0`,e.compact?`w-3.5 h-3.5`:`w-4 h-4`])},null,2),e.compact?n(``,!0):(a(),c(`span`,h,o(r(i)(`badges.provenance.verified`)),1))],8,m))}}),_=Object.assign(g,{__name:`ProvenanceBadge`});function v(e){return s(()=>x(i(e)))}function y(e){return e=e.replace(/\[!\[[^\]]{0,500}\]\([^)]{0,2000}\)\]\([^)]{0,2000}\)?/g,``),e=e.replace(/!\[[^\]]{0,500}\]\([^)]{0,2000}\)/g,``),e=e.replace(/\[\]\([^)]{0,2000}\)?/g,``),e.trim()}function b(e,t){let n=d(e);if(n=y(n),n=n.replace(/(`[^`]*`)|<\/?[a-z][^>]*>/gi,(e,t)=>t??``),n=n.replace(/(`[^`]*`)|<!--[\s\S]*?(-->|$)/g,(e,t)=>t??``),t){n=n.trim(),n=n.replace(/\s+/g,` `);let e=t.replace(/[.*+?^${}()|[\]\\]/g,`\\$&`),r=RegExp(`^${e}\\s*[-:â€”]?\\s*`,`i`);n=n.replace(r,``).trim()}return n.replace(/&/g,`&amp;`).replace(/</g,`&lt;`).replace(/>/g,`&gt;`).replace(/"/g,`&quot;`).replace(/'/g,`&#039;`)}function x({text:e,packageName:t,plain:n}){if(!e)return``;let r=b(e,t);return r=r.replace(/\*\*(.+?)\*\*/g,`<strong>$1</strong>`),r=r.replace(/__(.+?)__/g,`<strong>$1</strong>`),r=r.replace(/(?<!\*)\*(?!\*)(.+?)(?<!\*)\*(?!\*)/g,`<em>$1</em>`),r=r.replace(/\b_(.+?)_\b/g,`<em>$1</em>`),r=r.replace(/`([^`]+)`/g,`<code>$1</code>`),r=r.replace(/~~(.+?)~~/g,`<del>$1</del>`),r=r.replace(/\[([^\]]+)\]\(([^)]+)\)/g,(e,t,r)=>{if(n)return t;let i=r.replace(/&amp;/g,`&`);try{let{protocol:e,href:n}=new URL(i);if([`https:`,`mailto:`].includes(e))return`<a href="${n.replace(/"/g,`&quot;`)}" rel="nofollow noreferrer noopener" target="_blank">${t}</a>`}catch{}return`${t} (${r})`}),r}export{_ as n,v as t};