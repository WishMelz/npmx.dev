const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./D9ARCaOz.js","./BLt7TXlb.js","./CBD7ngdF.js","./CWNsAIol.js","./Cf-0F-2c.js","./8DvoFuCx.js","./DHC76net.js","./xh7dz5-d.js","./BDmUravP.js","./D7-tWLRc.js","./DuIAB7Tu.js"])))=>i.map(i=>d[i]);
import{At as e,C as t,D as n,Dt as r,G as i,H as a,J as o,M as s,Mt as c,Nt as l,Q as u,R as d,S as ee,St as te,T as ne,Z as f,b as p,it as re,jt as m,k as ie,lt as h,m as g,ot as _,w as v,x as y,yt as b,z as ae}from"./BLt7TXlb.js";import{t as oe}from"./YZkb6lnT.js";import{N as se,Nt as ce,V as x,a as le,h as S,vt as ue}from"./Cf-0F-2c.js";import{n as de,t as fe}from"./8DvoFuCx.js";import{t as pe}from"./Cme7ewGR.js";import{t as C}from"./CWNsAIol.js";import{t as me}from"./DMqKe8aR.js";var he=[`id`],ge=[`height`],_e=[`data-cell`,`height`],ve={key:2,ref:`source`,dir:`auto`},ye=C({__name:`vue-ui-carousel-table`,props:{config:{type:Object,default(){return{}}},dataset:{type:Object,default(){return{}}}},emits:[`copyAlt`],setup(C,{expose:ye,emit:be}){let xe=ie(()=>oe(()=>import(`./D9ARCaOz.js`),__vite__mapDeps([0,1,2,3,4,5]),import.meta.url)),Se=ie(()=>oe(()=>import(`./DHC76net.js`),__vite__mapDeps([6,1,7,3,4,8,9,10]),import.meta.url)),{vue_ui_carousel_table:Ce}=fe(),w=C,we=be,T=b(ce()),E=b(!1),D=b(!!w.dataset),Te=re();i(()=>{O()}),i(()=>{Te[`chart-background`]&&console.warn(`VueUiCarouselTable does not support the #chart-background slot.`)});function O(){x(w.dataset)?S({componentName:`VueUiCarouselTable`,type:`dataset`}):((!w.dataset.head||x(w.dataset.head))&&(S({componentName:`VueUiCarouselTable`,type:`datasetAttribute`,property:`head`}),D.value=!1),(!w.dataset.body||x(w.dataset.body))&&(S({componentName:`VueUiCarouselTable`,type:`datasetAttribute`,property:`body`}),D.value=!1))}let k=p({get:()=>N(),set:e=>e}),Ee=p(()=>k.value.userOptions.useCursorPointer),{userOptionsVisible:A,setUserOptionsVisibility:j,keepUserOptionState:M}=me({config:k.value});function N(){return de({userConfig:w.config,defaultConfig:Ce})}_(()=>w.config,e=>{k.value=N(),A.value=!k.value.userOptions.showOnChartHover,O()},{deep:!0}),_(()=>w.dataset,e=>{W()},{deep:!0});let{isPrinting:De,isImaging:Oe,generatePdf:ke,generateImage:Ae}=pe({elementId:`carousel-table_${T.value}`,fileName:k.value.caption.text||`vue-ui-carousel-table`,options:k.value.userOptions.print}),P=b({showAnimation:k.value.animation.use}),F=b(null),je=b(null),I=b(null),L=b(null),R=b(0),z=b(0),B=b(!1),V=b(null),H=b(null),U=b(0);function W(){V.value&&(H.value={elements:V.value.getElementsByTagName(`tr`),heights:Array.from(V.value.getElementsByTagName(`tr`)).map(e=>e.getBoundingClientRect().height)})}i(W);let Me=p(()=>!H.value||!H.value.heights.length?0:Math.max(...H.value.heights)+R.value+z.value),Ne=p(()=>w.dataset.body?k.value.tbody.tr.visible<=w.dataset.body.length?k.value.tbody.tr.visible:w.dataset.body.length:0),Pe=p(()=>(k.value.tbody.tr.height+k.value.tbody.tr.td.padding.top+k.value.tbody.tr.td.padding.bottom+k.value.tbody.tr.border.size*2)*Ne.value+R.value+z.value),G=b(0),K=b(null),q=b(0),J=b(!1),Fe=b(0);i(()=>{I.value&&(R.value=I.value.getBoundingClientRect().height),L.value&&(z.value=L.value.getBoundingClientRect().height),P.value.showAnimation&&H.value&&Le()}),i(()=>{if(F.value){let e=function(){let e=t.getBoundingClientRect().bottom;n.forEach(t=>{t.getBoundingClientRect().top<e?t.style.visibility=`hidden`:t.style.visibility=`visible`})},t=F.value.querySelector(`thead`),n=Array.from(V.value.querySelectorAll(`tr`));F.value.addEventListener(`scroll`,e),e(),a(()=>{F.value.removeEventListener(`scroll`,e)})}});function Ie(e){E.value=e,Fe.value+=1}function Le(){!K.value&&!J.value&&(k.value.animation.type===`scroll`?K.value=requestAnimationFrame(ze):K.value=requestAnimationFrame(Be))}function Re(){if(!F.value)return!1;let{scrollTop:e,scrollHeight:t,clientHeight:n}=F.value;return e+n>=t}function ze(e){J.value||(q.value||=e,e-q.value>=k.value.animation.speedMs&&(G.value+=H.value.heights[U.value],(Re()||U.value>=H.value.heights.length)&&(G.value=0,U.value=-1),U.value+=1,F.value&&F.value.scrollTo({top:G.value,behavior:`smooth`}),q.value=e),K.value=requestAnimationFrame(ze))}function Be(e){if(J.value)return;q.value||=e;let t=e-q.value,n=k.value.animation.speedMs/4/1e3;t>=n&&(G.value+=n,G.value>=F.value.scrollHeight-F.value.clientHeight&&(G.value=0),F.value&&F.value.scrollTo({top:G.value,behavior:`auto`}),q.value=e),K.value=requestAnimationFrame(Be)}function Y(){J.value=!0,cancelAnimationFrame(K.value),K.value=null}a(Y);function X(){!J.value||!P.value.showAnimation||(J.value=!1,q.value=0,Le())}function Ve(){k.value.animation.pauseOnHover&&Y()}let Z=b(null);function He(){Y(),clearTimeout(Z.value)}function Ue(){clearTimeout(Z.value),Z.value=setTimeout(X,1e3)}_(()=>k.value.animation.use,e=>{e?(P.value.showAnimation=!0,X()):(P.value.showAnimation=!1,Y())}),_(()=>k.value.animation.type,e=>{Y(),G.value=0,U.value=0,F.value.scrollTo({top:0,behavior:`auto`}),X()});let We=p(()=>k.value.responsiveBreakpoint),Q=te(null);i(()=>{Q.value=new ResizeObserver(e=>{e.forEach(e=>{B.value=e.contentRect.width<We.value}),R.value=I.value?I.value.getBoundingClientRect().height:0,z.value=L.value?L.value.getBoundingClientRect().height:0,U.value=0,ae(()=>{Y(),q.value=0,G.value=0,W(),X()})}),F.value&&Q.value.observe(F.value)}),a(()=>{Q.value&&Q.value.disconnect()});function Ge(){ke()}function Ke(){P.value.showAnimation=!P.value.showAnimation,P.value.showAnimation?X():Y()}function qe(e=null){ae(()=>{let t=w.dataset.head.map((e,t)=>[[w.dataset.body[t]]]),n=le([[k.value.caption.text],[w.dataset.head.map(e=>[e])]].concat(t));e?e(n):se({csvContent:n,title:k.value.caption.text||`vue-ui-carousel-table`})})}async function $(){if(we(`copyAlt`,{config:k.value,dataset:w.dataset}),!k.value.userOptions.callbacks.altCopy){console.warn("Vue Data UI - A callback must be set for `altCopy` in userOptions.");return}await Promise.resolve(k.value.userOptions.callbacks.altCopy({config:k.value,dataset:w.dataset}))}return ye({pauseAnimation:Y,resumeAnimation:X,toggleAnimation:Ke,generateCsv:qe,generatePdf:Ge,generateImage:Ae,copyAlt:$}),(i,a)=>(o(),v(`div`,{class:`vue-data-ui-component vue-ui-carousel-table`,style:{position:`relative`,overflow:`visible`},ref_key:`chartContainer`,ref:je,onMouseenter:a[5]||=()=>r(j)(!0),onMouseleave:a[6]||=()=>r(j)(!1)},[y(`div`,{ref_key:`tableContainer`,ref:F,id:`carousel-table_${T.value}`,style:c({height:r(De)||r(Oe)?`auto`:`${Math.max(Pe.value,Me.value)}px`,containerType:`inline-size`,position:`relative`,overflow:`auto`,fontFamily:k.value.fontFamily}),class:e({"vue-ui-responsive":B.value,"is-playing":k.value.scrollbar.hide||!J.value&&k.value.scrollbar.showOnlyOnHover}),onMouseover:a[0]||=e=>Ve(),onMouseleave:a[1]||=e=>X(),onTouchstart:a[2]||=e=>He(),onTouchend:a[3]||=e=>Ue(),onTouchcancel:a[4]||=e=>Ue()},[D.value?(o(),v(`table`,{key:0,class:`vue-data-ui-carousel-table`,style:c({...k.value.style,border:`${k.value.border.size}px solid ${k.value.border.color}`,width:`100%`,borderCollapse:`collapse`,backgroundColor:k.value.tbody.backgroundColor})},[y(`caption`,{ref_key:`caption`,ref:I,class:`vue-data-ui-carousel-table-caption`,style:c({...k.value.caption.style,fontFamily:`inherit`,position:`sticky`,top:0,zIndex:2,paddingTop:k.value.caption.padding.top+`px`,paddingRight:k.value.caption.padding.right+`px`,paddingBottom:k.value.caption.padding.bottom+`px`,paddingLeft:k.value.caption.padding.left+`px`,boxShadow:B.value?k.value.thead.tr.style.boxShadow:`none`,minHeight:`36px`,display:i.$slots.caption||k.value.caption.text||k.value.userOptions.show?``:`none`})},[n(l(k.value.caption.text&&!i.$slots.caption?k.value.caption.text:``)+` `,1),u(i.$slots,`caption`,{},void 0,!0)],4),y(`thead`,{style:c({...k.value.thead.style,position:`sticky`,top:`${i.$slots.caption||k.value.caption.text||k.value.userOptions.show?R.value:0}px`,zIndex:1})},[y(`tr`,{ref_key:`tableRow`,ref:L,role:`row`,style:c({...k.value.thead.tr.style,border:k.value.thead.tr.border.size?`${k.value.thead.tr.border.size}px solid ${k.value.thead.tr.border.color}`:`none`,boxShadow:B.value?`none`:k.value.thead.tr.style.boxShadow}),height:`${k.value.thead.tr.height}px`},[(o(!0),v(g,null,f(C.dataset.head,(e,t)=>(o(),v(`th`,{role:`cell`,key:`th_${t}`,style:c({...k.value.thead.tr.th.style,border:k.value.thead.tr.th.border.size?`${k.value.thead.tr.th.border.size}px solid ${k.value.thead.tr.th.border.color}`:`none`,paddingTop:k.value.thead.tr.th.padding.top+`px`,paddingRight:k.value.thead.tr.th.padding.right+`px`,paddingBottom:k.value.thead.tr.th.padding.bottom+`px`,paddingLeft:k.value.thead.tr.th.padding.left+`px`})},[n(l(i.$slots.th?``:e)+` `,1),u(i.$slots,`th`,d({ref_for:!0},{th:e,colIndex:t}),void 0,!0)],4))),128))],12,ge)],4),C.dataset.body&&C.dataset.head?(o(),v(`tbody`,{key:0,ref_key:`tbody`,ref:V,style:{clipPath:`inset(0,0,0,0)`}},[(o(!0),v(g,null,f(C.dataset.body,(e,t)=>(o(),v(`tr`,{style:c({...k.value.tbody.tr.style,border:`${k.value.tbody.tr.border.size}px solid ${k.value.tbody.tr.border.color}`,verticalAlign:`middle`})},[(o(!0),v(g,null,f(e,(e,a)=>(o(),v(`td`,{role:`cell`,"data-cell":C.dataset.head[a]||``,style:c({...k.value.tbody.tr.td.style,border:`${k.value.tbody.tr.td.border.size}px solid ${k.value.tbody.tr.td.border.color}`,backgroundColor:r(ue)(k.value.tbody.tr.td.style.backgroundColor,t%2==0&&k.value.tbody.tr.td.alternateColor?k.value.tbody.tr.td.alternateOpacity*100:100),paddingTop:k.value.tbody.tr.td.padding.top+`px`,paddingRight:k.value.tbody.tr.td.padding.right+`px`,paddingBottom:k.value.tbody.tr.td.padding.bottom+`px`,paddingLeft:k.value.tbody.tr.td.padding.left+`px`,verticalAlign:`middle`}),height:`${k.value.tbody.tr.height}px`},[n(l(i.$slots.td?``:e)+` `,1),u(i.$slots,`td`,d({ref_for:!0},{td:e,rowIndex:t,colIndex:a}),void 0,!0)],12,_e))),256))],4))),256))],512)):t(``,!0)],4)):t(``,!0)],46,he),D.value?t(``,!0):(o(),ee(r(xe),{key:0,config:{type:`table`}})),k.value.userOptions.show&&D.value&&(r(M)||r(A))?(o(),ee(r(Se),{ref:`details`,key:`user_option_${Fe.value}`,backgroundColor:k.value.style.backgroundColor,color:k.value.style.color,isPrinting:r(De),isImaging:r(Oe),uid:T.value,hasTooltip:!1,hasPdf:k.value.userOptions.buttons.pdf,hasImg:k.value.userOptions.buttons.img,hasXls:k.value.userOptions.buttons.csv,hasTable:!1,hasLabel:!1,hasAnimation:k.value.userOptions.buttons.animation,isAnimation:!P.value.showAnimation,hasFullscreen:k.value.userOptions.buttons.fullscreen,hasAltCopy:k.value.userOptions.buttons.altCopy,isFullscreen:E.value,chartElement:je.value,position:k.value.userOptions.position,titles:{...k.value.userOptions.buttonTitles},zIndex:3,offsetX:12,callbacks:k.value.userOptions.callbacks,printScale:k.value.userOptions.print.scale,isCursorPointer:Ee.value,onGeneratePdf:Ge,onGenerateCsv:qe,onGenerateImage:r(Ae),onToggleAnimation:Ke,onToggleFullscreen:Ie,onCopyAlt:$,style:c({visibility:r(M)?r(A)?`visible`:`hidden`:`visible`})},ne({_:2},[i.$slots.menuIcon?{name:`menuIcon`,fn:h(({isOpen:e,color:t})=>[u(i.$slots,`menuIcon`,m(s({isOpen:e,color:t})),void 0,!0)]),key:`0`}:void 0,i.$slots.optionPdf?{name:`optionPdf`,fn:h(()=>[u(i.$slots,`optionPdf`,{},void 0,!0)]),key:`1`}:void 0,i.$slots.optionCsv?{name:`optionCsv`,fn:h(()=>[u(i.$slots,`optionCsv`,{},void 0,!0)]),key:`2`}:void 0,i.$slots.optionImg?{name:`optionImg`,fn:h(()=>[u(i.$slots,`optionImg`,{},void 0,!0)]),key:`3`}:void 0,i.$slots.optionSvg?{name:`optionSvg`,fn:h(()=>[u(i.$slots,`optionSvg`,{},void 0,!0)]),key:`4`}:void 0,i.$slots.optionAnimation?{name:`optionAnimation`,fn:h(()=>[u(i.$slots,`optionAnimation`,{},void 0,!0)]),key:`5`}:void 0,i.$slots.optionFullscreen?{name:`optionFullscreen`,fn:h(({toggleFullscreen:e,isFullscreen:t})=>[u(i.$slots,`optionFullscreen`,m(s({toggleFullscreen:e,isFullscreen:t})),void 0,!0)]),key:`6`}:void 0,i.$slots.optionAltCopy?{name:`optionAltCopy`,fn:h(({altCopy:e})=>[u(i.$slots,`optionAltCopy`,m(s({altCopy:e})),void 0,!0)]),key:`7`}:void 0]),1032,[`backgroundColor`,`color`,`isPrinting`,`isImaging`,`uid`,`hasPdf`,`hasImg`,`hasXls`,`hasAnimation`,`isAnimation`,`hasFullscreen`,`hasAltCopy`,`isFullscreen`,`chartElement`,`position`,`titles`,`callbacks`,`printScale`,`isCursorPointer`,`onGenerateImage`,`style`])):t(``,!0),i.$slots.source?(o(),v(`div`,ve,[u(i.$slots,`source`,{},void 0,!0)],512)):t(``,!0)],544))}},[[`__scopeId`,`data-v-82bf3039`]]);export{ye as default};