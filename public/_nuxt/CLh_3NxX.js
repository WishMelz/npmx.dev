const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./CbFHGlY2.js","./BLt7TXlb.js","./Cf-0F-2c.js","./B9jcbJ_P.js","./xh7dz5-d.js","./CWNsAIol.js","./ByvxprxI.js","./CRSLCJ2m.js","./8DvoFuCx.js","./CH8pva4p.js","./C0O4I1kb.js","./DdyLBgN8.js","./C66xQW7K.js","./DuIAB7Tu.js","./DHC76net.js","./BDmUravP.js","./D7-tWLRc.js","./CBD7ngdF.js","./BIodG7vT.js"])))=>i.map(i=>d[i]);
import{At as e,C as t,D as n,Dt as r,G as i,H as a,J as o,M as s,Mt as c,Nt as l,O as u,Q as d,R as ee,S as f,St as p,T as m,Tt as te,Z as h,_ as g,b as _,d as ne,et as re,it as ie,jt as v,k as y,lt as b,m as x,ot as S,ut as ae,w as C,x as w,yt as T,z as oe}from"./BLt7TXlb.js";import{t as E}from"./YZkb6lnT.js";import{At as se,B as ce,F as le,H as ue,Mt as D,N as de,Nt as fe,P as pe,Pt as me,Q as he,V as ge,W as O,X as k,_t as _e,a as ve,bt as ye,dt as be,f as xe,ft as Se,h as Ce,it as we,m as Te,rt as Ee,s as De,tt as Oe,u as ke,vt as Ae,wt as A,y as je}from"./Cf-0F-2c.js";import{n as Me,t as Ne}from"./8DvoFuCx.js";import{t as Pe}from"./Cme7ewGR.js";import{t as Fe}from"./CWNsAIol.js";import{n as Ie,t as Le}from"./D4ushAer.js";import{t as Re}from"./CLl0-3D6.js";import{t as ze}from"./BwaPX4qL.js";import{t as Be}from"./BDmUravP.js";import{t as Ve}from"./BIZzPpPz.js";import{t as He}from"./C0O4I1kb.js";import{a as Ue,n as We}from"./D4v1zV2y.js";import{t as Ge}from"./CB2Wh4RA.js";import{t as Ke}from"./BEpjx3T_.js";import{t as qe}from"./DMqKe8aR.js";import{n as Je,t as Ye}from"./CHaYztGl.js";import{t as Xe}from"./CMjlbb0z.js";function Ze(e){let{FINAL_CONFIG:t,noGhostDonut:n,svg:r,padding:i,labels_inline_fontSize:a,minSize:o,findArcMidpoint:s,calcMarkerOffsetX:c,calcMarkerOffsetY:l,animatingIndex:u,segregated:d,isSmallArc:ee}=e;return{smallArcLayoutsClassic:_(()=>{if(t.value.type!==`classic`)return{};let e={},f=n.value||[];if(!f.length)return e;let p=r.value.width/2,m=r.value.height/2,te=i.value.top+16,h=r.value.height-i.value.bottom-16,g=a.value,_=g/3,ne=g*1.5,re=p-(o.value+6),ie=p+(o.value+6),v=!!t.value.style.chart.layout.curvedMarkers;function y({midX:e,midY:t,bandX:n,bandY:r}){if(!v)return`M ${e} ${t} L ${e} ${r} L ${n} ${r}`;let i=n<p?-1:1,a=n-e,o=r-t,s=Math.sqrt(a*a+o*o)||1,c=e-p,l=t-m,u=Math.sqrt(c*c+l*l)||1,d=c/u,ee=l/u,f=u+9;function te({x:e,y:t}){let n=e-p,r=t-m,i=Math.sqrt(n*n+r*r)||1;if(i>=f)return{x:e,y:t};let a=f/i;return{x:p+n*a,y:m+r*a}}if(s<56){let i=a/s,c=-(o/s),l=i,u=(e+n)*.5,f=(t+r)*.5,h=u+c,g=f+l,_=(h-p)*(h-p)+(g-m)*(g-m),ne=u-c,re=f-l;(ne-p)*(ne-p)+(re-m)*(re-m)>_&&(c=-c,l=-l);let ie=.78,v=e+a*ie,y=t+o*ie,b=Math.max(0,Math.min(1,(s-18)/44)),x=b*b*(3-2*b),S=2.5+x*4,ae=1+x*2.5;S*=.9;let C=te({x:v+c*S+d*ae,y:y+l*S+ee*ae});return`M ${e} ${t} Q ${C.x} ${C.y} ${n} ${r}`}let h=s*.34;h<20&&(h=20),h>46&&(h=46);let g=s*.46;g<22&&(g=22),g>70&&(g=70);let _={x:e+d*h,y:t+ee*h},ne=p+i*Math.max(Math.abs(n-p),f),re={x:n-i*Math.min(g,Math.abs(ne-n)*.75),y:r},ie=te(_),y=te(re);return`M ${e} ${t} C ${ie.x} ${ie.y} ${y.x} ${y.y} ${n} ${r}`}function b(e){let t=String(e??``).split(/\n/g);return ne+Math.max(0,t.length-1)*(g*1.2)}function x({arc:e,index:t}){let{x:n,y:r}=s(e.path);return{arc:e,index:t,midX:n,midY:r,inlineMarkerX:c(e).x,inlineMarkerY:l(e)-3.5,labelHeight:b(e.name)}}function S(e){let{arc:t}=e,n=t.seriesIndex??0;return u.value===n||d.value.includes(n)?!1:ee(t,n)}function ae(e){let t=e.inlineMarkerY<m,n=e.inlineMarkerX<p;return t&&n?`TL`:t&&!n?`TR`:!t&&n?`BL`:`BR`}function C(e,t){if(t.startsWith(`T`)){e.sort((e,t)=>e.inlineMarkerY-t.inlineMarkerY||e.index-t.index);return}e.sort((e,t)=>t.inlineMarkerY-e.inlineMarkerY||e.index-t.index)}function w({side:e,markerX:t,markerY:n,labelY:r,connectorPath:i}){return{side:e,labelX:e===`left`?t-8:t+8,labelY:r+_,textAnchor:e===`left`?`end`:`start`,markerX:t,markerY:n,connectorPath:i}}function T({candidateList:t,side:n,bandMarkerX:r,startY:i,direction:a}){let o=i;t.forEach(t=>{let{index:i,midX:s,midY:c,labelHeight:l}=t,u;a===`down`?(u=o,o+=l):(o-=l,u=o);let d=u,ee=y({midX:s,midY:c,bandX:r,bandY:d});e[i]=w({side:n,markerX:r,markerY:d,labelY:u,connectorPath:ee})})}let oe=f.map((e,t)=>x({arc:e,index:t})).filter(S),E={TL:[],TR:[],BL:[],BR:[]};return oe.forEach(e=>{E[ae(e)].push(e)}),Object.keys(E).forEach(e=>{C(E[e],e)}),T({candidateList:E.TL,side:`left`,bandMarkerX:re,startY:te,direction:`down`}),T({candidateList:E.TR,side:`right`,bandMarkerX:ie,startY:te,direction:`down`}),E.BL.length>1&&T({candidateList:E.BL,side:`left`,bandMarkerX:re,startY:h,direction:`up`}),E.BR.length>1&&T({candidateList:E.BR,side:`right`,bandMarkerX:ie,startY:h,direction:`up`}),e})}}var Qe={userOptions:{show:!1},style:{chart:{useGradient:!1,legend:{show:!1}}}},$e={userOptions:{show:!1},style:{chart:{backgroundColor:`#1A1A1A`,color:`#CCCCCC`,useGradient:!1,layout:{labels:{percentage:{color:`#CCCCCC`},name:{color:`#CCCCCC`},hollow:{total:{color:`#CCCCCC`,value:{color:`#CCCCCC`}},average:{color:`#CCCCCC`,value:{color:`#CCCCCC`}}}}},title:{color:`#CCCCCC`,subtitle:{color:`#757575`}},tooltip:{backgroundColor:`#1A1A1A`,backgroundOpacity:70,color:`#CCCCCC`,borderColor:`#3A3A3A`},legend:{show:!1,backgroundColor:`#1A1A1A`,color:`#CCCCCC`,selectAllToggle:{backgroundColor:`#3A3A3A`,color:`#CCCCCC`}}}},table:{th:{backgroundColor:`#1A1A1A`,color:`#CCCCCC`},td:{backgroundColor:`#1A1A1A`,color:`#CCCCCC`}}},et={style:{chart:{backgroundColor:`#1A1A1A`,color:`#CCCCCC`,layout:{labels:{percentage:{color:`#CCCCCC`},name:{color:`#CCCCCC`},hollow:{total:{color:`#CCCCCC`,value:{color:`#CCCCCC`}},average:{color:`#CCCCCC`,value:{color:`#CCCCCC`}}}}},legend:{backgroundColor:`#1A1A1A`,color:`#CCCCCC`,selectAllToggle:{backgroundColor:`#3A3A3A`,color:`#CCCCCC`}},title:{color:`#CCCCCC`,subtitle:{color:`#757575`}},tooltip:{backgroundColor:`#1A1A1A`,backgroundOpacity:70,color:`#CCCCCC`,borderColor:`#5A5A5A`}}},table:{th:{backgroundColor:`#1A1A1A`,color:`#CCCCCC`},td:{backgroundColor:`#1A1A1A`,color:`#CCCCCC`}}},tt={style:{chart:{backgroundColor:`#FFF8E1`,color:`#424242`,layout:{labels:{percentage:{color:`#424242`},name:{color:`#424242`},hollow:{total:{color:`#424242`,value:{color:`#424242`}},average:{color:`#424242`,value:{color:`#424242`}}}}},legend:{backgroundColor:`#FFF8E1`,color:`#424242`,selectAllToggle:{backgroundColor:`#5D4037`,color:`#FFF8E1`}},title:{color:`#424242`,subtitle:{color:`#757575`}},tooltip:{backgroundColor:`#FFECB3`,backgroundOpacity:30,color:`#424242`,borderColor:`#FF8A65`}}},table:{th:{backgroundColor:`#FFF8E1`,color:`#424242`},td:{backgroundColor:`#FFF8E1`,color:`#424242`}}},nt={style:{chart:{backgroundColor:`#1E1E1E`,color:`#BDBDBD`,layout:{labels:{percentage:{color:`#BDBDBD`},name:{color:`#BDBDBD`},hollow:{total:{color:`#BDBDBD`,value:{color:`#BDBDBD`}},average:{color:`#BDBDBD`,value:{color:`#BDBDBD`}}}}},legend:{backgroundColor:`#1E1E1E`,color:`#BDBDBD`,selectAllToggle:{backgroundColor:`#3A3A3A`,color:`#BDBDBD`}},title:{color:`#FFF8E1`,subtitle:{color:`#BDBDBD`}},tooltip:{backgroundColor:`#1E1E1E`,backgroundOpacity:30,color:`#FFF8E1`,borderColor:`#FF8A65`}}},table:{th:{backgroundColor:`#1E1E1E`,color:`#BDBDBD`},td:{backgroundColor:`#1E1E1E`,color:`#BDBDBD`}}},rt={style:{chart:{backgroundColor:`#f6f6fb`,color:`#50606C`,layout:{labels:{percentage:{color:`#61747E`},name:{color:`#8A9892`},hollow:{total:{color:`#8A9892`,value:{color:`#61747E`}},average:{color:`#8A9892`,value:{color:`#61747E`}}}}},legend:{backgroundColor:`#f6f6fb`,color:`#61747E`,selectAllToggle:{backgroundColor:`#50606C`,color:`#f6f6fb`}},title:{color:`#50606C`,subtitle:{color:`#718890`}},tooltip:{backgroundColor:`#f6f6fb`,color:`#50606C`}}},table:{th:{backgroundColor:`#f6f6fb`,color:`#50606C`},td:{backgroundColor:`#f6f6fb`,color:`#50606C`}}},it={style:{chart:{backgroundColor:`#1A1A1A`,color:`#99AA99`,layout:{labels:{percentage:{color:`#AACCAA`},name:{color:`#99CC99`},hollow:{total:{color:`#99CC99`,value:{color:`#AACCAA`}},average:{color:`#99CC99`,value:{color:`#AACCAA`}}}}},legend:{backgroundColor:`#1A1A1A`,color:`#99AA99`,selectAllToggle:{backgroundColor:`#3A3A3A`,color:`#99AA99`}},title:{color:`#66CC66`,subtitle:{color:`#99AA99`}},tooltip:{backgroundColor:`#2A2F2A`,color:`#AACCAA`,borderColor:`#66CC66`}}},table:{th:{backgroundColor:`#1A1A1A`,color:`#99AA99`},td:{backgroundColor:`#1A1A1A`,color:`#AACCAA`}}},at={style:{chart:{backgroundColor:`#fbfafa`,color:`#8A9892`,layout:{labels:{percentage:{color:`#A0AC94`},name:{color:`#8A9892`},hollow:{total:{color:`#8A9892`,value:{color:`#A0AC94`}},average:{color:`#8A9892`,value:{color:`#A0AC94`}}}}},legend:{backgroundColor:`#fbfafa`,color:`#99AA99`,selectAllToggle:{backgroundColor:`#E0CFC3`,color:`#8F837A`}},title:{color:`#8A9892`,subtitle:{color:`#99AA99`}},tooltip:{backgroundColor:`#fbfafa`,color:`#8A9892`}}},table:{th:{backgroundColor:`#fbfafa`,color:`#8F837A`},td:{backgroundColor:`#fbfafa`,color:`#8F837A`}}},ot={default:{},minimal:Qe,minimalDark:$e,dark:et,celebration:tt,celebrationNight:nt,concrete:rt,hack:it,zen:at},st=Object.freeze(Object.defineProperty({__proto__:null,celebration:tt,celebrationNight:nt,concrete:rt,dark:et,default:ot,hack:it,minimal:Qe,minimalDark:$e,zen:at},Symbol.toStringTag,{value:`Module`})),ct=[`id`],lt=[`id`],ut=[`xmlns`,`viewBox`],dt=[`width`,`height`],ft={key:1},pt=[`id`],mt=[`stop-color`],ht=[`offset`,`stop-color`],gt=[`offset`,`stop-color`],_t=[`stop-color`],vt={key:2},yt=[`id`,`cx`,`cy`],bt=[`stop-color`,`stop-opacity`],xt=[`stop-color`],St=[`id`],Ct=[`id`],wt=[`id`],Tt=[`flood-color`],Et=[`id`],Dt=[`flood-color`],Ot=[`d`,`stroke`,`filter`],kt=[`d`,`stroke`,`filter`],At=[`cx`,`cy`,`r`,`fill`,`filter`],jt={key:6},Mt=[`stroke`,`d`],Nt=[`d`,`fill`,`stroke`,`stroke-width`,`filter`],Pt={key:0},Ft=[`d`,`fill`,`stroke`,`stroke-width`,`filter`],It={key:0},Lt=[`stroke`,`d`],Rt={key:0},zt=[`d`,`stroke`,`stroke-width`,`filter`],Bt={key:1},Vt=[`d`,`fill`,`stroke`,`stroke-width`,`filter`],Ht=[`d`,`fill`,`stroke`,`stroke-width`,`filter`],Ut={key:1},Wt=[`cx`,`cy`,`r`,`fill`,`stroke`,`stroke-width`],Gt=[`cx`,`cy`,`r`,`fill`,`stroke`,`stroke-width`],Kt={key:0},qt=[`d`,`fill`,`stroke`,`stroke-width`],Jt=[`cx`,`cy`,`r`,`stroke`],Yt=[`cx`,`cy`,`r`,`fill`],Xt=[`cx`,`cy`,`r`],Zt={key:0},Qt=[`d`,`stroke`,`fill`,`onMouseenter`,`onMouseleave`,`onClick`],$t={key:1},en=[`cx`,`cy`,`r`],tn=[`x`,`y`,`fill`,`font-size`],nn=[`x`,`y`,`fill`,`font-size`],rn=[`x`,`y`,`fill`,`font-size`],an=[`x`,`y`,`fill`,`font-size`],on=[`filter`,`opacity`],sn={key:0},cn=[`x`,`y`],ln={key:1},un=[`cx`,`cy`,`fill`,`stroke`,`filter`,`onClick`,`onMouseenter`,`onMouseleave`],dn=[`text-anchor`,`x`,`y`,`onClick`,`onMouseenter`,`onMouseleave`,`innerHTML`],fn=[`text-anchor`,`x`,`y`,`fill`,`font-size`,`onClick`,`onMouseenter`,`onMouseleave`],pn=[`text-anchor`,`x`,`y`,`fill`,`font-size`,`onClick`,`onMouseenter`,`onMouseleave`,`innerHTML`],mn=[`cx`,`cy`,`fill`,`stroke`,`filter`,`onClick`,`onMouseenter`,`onMouseleave`],hn=[`text-anchor`,`x`,`y`,`onClick`,`onMouseenter`,`onMouseleave`,`innerHTML`],gn=[`text-anchor`,`x`,`y`,`fill`,`font-size`,`onClick`,`onMouseenter`,`onMouseleave`],_n=[`text-anchor`,`x`,`y`,`fill`,`font-size`,`onClick`,`onMouseenter`,`onMouseleave`,`innerHTML`],vn={key:2},yn=[`x`,`y`,`width`],bn=[`x`,`y`,`width`],xn={key:4,class:`vue-data-ui-watermark`},Sn=[`id`],Cn=[`onClick`],wn={key:7,class:`vue-ui-donut-hollow`},Tn=[`innerHTML`],En=Fe({__name:`vue-ui-donut`,props:{config:{type:Object,default(){return{}}},dataset:{type:Array,default(){return[]}}},emits:[`selectLegend`,`selectDatapoint`,`copyAlt`],setup(Fe,{expose:Qe,emit:$e}){let et=y(()=>E(()=>import(`./CbFHGlY2.js`),__vite__mapDeps([0,1,2]),import.meta.url)),tt=y(()=>E(()=>import(`./B9jcbJ_P.js`),__vite__mapDeps([3,4,1,5,2]),import.meta.url)),nt=y(()=>E(()=>import(`./ByvxprxI.js`),__vite__mapDeps([6,7,1,4,5,2,8]),import.meta.url)),rt=y(()=>E(()=>import(`./CH8pva4p.js`),__vite__mapDeps([9,1,4,5,2,10]),import.meta.url)),it=y(()=>E(()=>import(`./DdyLBgN8.js`),__vite__mapDeps([11,1,4,5,2,12,13]),import.meta.url)),at=y(()=>E(()=>import(`./DHC76net.js`),__vite__mapDeps([14,1,4,5,2,15,16,13]),import.meta.url)),st=y(()=>E(()=>import(`./CBD7ngdF.js`),__vite__mapDeps([17,1]),import.meta.url)),En=y(()=>E(()=>import(`./BIodG7vT.js`),__vite__mapDeps([18,1,4,5,2]),import.meta.url)),{vue_ui_donut:Dn}=Ne(),{isThemeValid:On,warnInvalidTheme:kn}=ze(),An=ie(),j=Fe,jn=_({get(){return!!j.dataset&&j.dataset.length},set(e){return e}}),M=p(null),Mn=T(null),Nn=T(null),Pn=T(null),Fn=p(null),In=p(null),Ln=p(null),Rn=p(null),zn=p(null),Bn=p(null),Vn=T(0),Hn=T(0),Un=T(0),Wn=T(!1),Gn=T(null),Kn=T(null),qn=T(!1),Jn=T(!1),Yn=_({get:()=>I.value.style.chart.layout.labels.percentage.fontSize,set:e=>e}),N=_({get:()=>I.value.style.chart.layout.labels.name.fontSize,set:e=>e}),Xn=_({get:()=>I.value.style.chart.layout.labels.dataLabels.smallArcClusterFontSize,set:e=>e}),Zn=!1,Qn=()=>{!I.value.autoSize||Zn||(Zn=!0,requestAnimationFrame(()=>{Zn=!1;let e=I.value,t=Mn.value,n=yr.value;if(!e.autoSize||!t||!n)return;let[r,i,a,o]=n.getAttribute(`viewBox`).split(` `).map(Number),s={x:r,y:i,width:a,height:o},c=[{selector:`.vue-data-ui-datalabel-value`,baseSize:e.style.chart.layout.labels.percentage.fontSize,minSize:e.style.chart.layout.labels.percentage.minFontSize,sizeRef:Yn},{selector:`.vue-data-ui-datalabel-name`,baseSize:e.style.chart.layout.labels.name.fontSize,minSize:e.style.chart.layout.labels.name.minFontSize,sizeRef:N},{selector:`.vue-data-ui-datalabel-inline`,baseSize:e.style.chart.layout.labels.dataLabels.smallArcClusterFontSize,minSize:e.style.chart.layout.labels.name.minFontSize,sizeRef:Xn}];c.map(e=>t.querySelectorAll(e.selector).length).reduce((e,t)=>e+t,0)!==0&&c.forEach(({selector:e,baseSize:n,minSize:r,sizeRef:i})=>{t.querySelectorAll(e).forEach(e=>{i.value=me({el:e,bounds:s,currentFontSize:n,minFontSize:r,attempts:200,padding:1})})})}))};i(async()=>{Wn.value=!0,tr(),requestAnimationFrame(Qn)});let $n;i(()=>{M.value&&($n=new ResizeObserver(e=>{for(let t of e){let{width:e,height:n}=t.contentRect;if(e>0&&n>0){Qn();break}}}),$n.observe(M.value.parentElement))}),a(()=>{$n?.disconnect()}),a(()=>{Ln.value&&(Rn.value&&Ln.value.unobserve(Rn.value),Ln.value.disconnect())});let er=_(()=>!!I.value.debug);function tr(){if(ge(j.dataset)?(Ce({componentName:`VueUiDonut`,type:`dataset`,debug:er.value}),jn.value=!1,ur.value=!0):(j.dataset.forEach((e,t)=>{Te({datasetObject:e,requiredAttributes:[`name`,`values`]}).forEach(e=>{Ce({componentName:`VueUiDonut`,type:`datasetSerieAttribute`,property:e,index:t,debug:er.value}),jn.value=!1,ur.value=!0})}),j.dataset.forEach((e,t)=>{(!e.name||e.name===``)&&Ce({componentName:`VueUiDonut`,type:`datasetAttributeEmpty`,property:`name`,index:t,debug:er.value})})),ge(j.dataset)||(ur.value=I.value.loading),I.value.responsive){let e=We(()=>{let{width:e,height:t}=Ue({chart:M.value,title:I.value.style.chart.title.text?Fn.value:null,legend:I.value.style.chart.legend.show?In.value:null,source:zn.value,noTitle:Bn.value,padding:I.value.autoSize?void 0:Sr.value});requestAnimationFrame(()=>{z.value.width=e,z.value.height=t,Qn()})});Ln.value&&(Rn.value&&Ln.value.unobserve(Rn.value),Ln.value.disconnect()),Ln.value=new ResizeObserver(e),Rn.value=M.value.parentNode,Ln.value.observe(Rn.value)}}let P=T(fe()),nr=T(!1),rr=T(``),F=T(null),ir=T(0);function ar(){let e=Me({userConfig:j.config,defaultConfig:Dn}),t={},n=e.theme;if(!n)t=e;else if(!On.value(e))kn(e),t=e;else{let r=Me({userConfig:ot[n]||j.config,defaultConfig:e});t={...Me({userConfig:j.config,defaultConfig:r}),customPalette:e.customPalette.length?e.customPalette:be[n]||we}}return t}let I=T(ar()),or=_(()=>I.value.userOptions.useCursorPointer),sr=_(()=>pe({defaultConfig:{useCssAnimation:!1,table:{show:!1},startAnimation:{show:!1},userOptions:{show:!1},style:{chart:{backgroundColor:`#99999930`,layout:{labels:{dataLabels:{show:!1},hollow:{average:{show:!1},total:{show:!1}},value:{show:!1}}},legend:{backgroundColor:`transparent`,showValue:!1,showPercentage:!1},title:{color:`#1A1A1A`,subtitle:{color:`#5A5A5A`}}}}},userConfig:I.value.skeletonConfig??{}})),{loading:cr,FINAL_DATASET:lr,manualLoading:ur,skeletonDataset:dr}=Le({...te(j),FINAL_CONFIG:I,prepareConfig:ar,skeletonDataset:j.config?.skeletonDataset??[{name:``,values:[3],color:`#BABABA`},{name:``,values:[2],color:`#AAAAAA`},{name:``,values:[1],color:`#CACACA`}],skeletonConfig:pe({defaultConfig:I.value,userConfig:sr.value})}),L=T(!0),fr=T(0),pr=T(!1),mr=null;function hr(e=1e3){return new Promise(t=>{let n=performance.now();function r(i){let a=i-n,o=Math.min(a/e,1);fr.value=xe(o),o<1?mr=requestAnimationFrame(r):(fr.value=1,mr=null,t())}mr!==null&&cancelAnimationFrame(mr),fr.value=0,mr=requestAnimationFrame(r)})}S(()=>cr.value,async e=>{if(e||pr.value)return;let t=lr.value===dr,n=I.value.startAnimation?.show;!t&&n?(pr.value=!0,await hr(I.value.startAnimation.durationMs||1e3)):fr.value=1,L.value=!1},{immediate:!0});let{userOptionsVisible:gr,setUserOptionsVisibility:_r,keepUserOptionState:vr}=qe({config:I.value}),{svgRef:yr}=Ke({config:I.value.style.chart.title});function br(){_r(!0)}function xr(){_r(!1)}S(()=>j.config,e=>{cr.value||(I.value=ar()),gr.value=!I.value.userOptions.showOnChartHover,tr(),Vn.value+=1,Hn.value+=1,Un.value+=1,R.value.dataLabels.show=I.value.style.chart.layout.labels.dataLabels.show,R.value.showTable=I.value.table.show,R.value.showTooltip=I.value.style.chart.tooltip.show,z.value.height=I.value.style.chart.height,z.value.width=I.value.style.chart.width},{deep:!0});let Sr=_(()=>{let{top:e,right:t,bottom:n,left:r}=I.value.style.chart.padding;return{css:`padding:${e}px ${t}px ${n}px ${r}px`,top:e,right:t,bottom:n,left:r}}),{isPrinting:Cr,isImaging:wr,generatePdf:Tr,generateImage:Er}=Pe({elementId:`donut__${P.value}`,fileName:I.value.style.chart.title.text||`vue-ui-donut`,options:I.value.userOptions.print}),Dr=_(()=>I.value.userOptions.show&&!I.value.style.chart.title.text),Or=_(()=>je(I.value.customPalette)),R=T({dataLabels:{show:I.value.style.chart.layout.labels.dataLabels.show},showTable:I.value.table.show,showTooltip:I.value.style.chart.tooltip.show});S(I,()=>{R.value={dataLabels:{show:I.value.style.chart.layout.labels.dataLabels.show},showTable:I.value.table.show,showTooltip:I.value.style.chart.tooltip.show}},{immediate:!0});let z=T({height:I.value.style.chart.height,width:I.value.style.chart.width}),kr=_(()=>{if(I.value.pie)return W.value;let e=I.value.style.chart.layout.donut.strokeWidth/512,t=Math.min(z.value.width,z.value.height)*e,n=t>W.value?W.value:t;return Math.max(n,12*(1+e))}),Ar=$e,B=_(()=>lr.value.sort((e,t)=>{let n=Array.isArray(e.values)?e.values.reduce((e,t)=>e+t,0):e.value??0,r=Array.isArray(t.values)?t.values.reduce((e,t)=>e+t,0):t.value??0;return e.ghost&&!t.ghost?1:t.ghost&&!e.ghost?-1:r-n}).map((e,t)=>({name:e.name,color:_e(e.color)||Or.value[t]||we[t]||we[t%we.length],value:ke(e.values.reduce((e,t)=>e+t,0)),absoluteValues:e.values,comment:e.comment||``,patternIndex:t,seriesIndex:t,ghost:!1,pattern:`pattern_${P.value}_${t}`})));S(()=>j.dataset,e=>{Array.isArray(e)&&e.length>0&&(ur.value=!1)},{immediate:!0});let V=p(B.value);S(()=>B.value,e=>{V.value=e,requestAnimationFrame(Qn)});function jr(){return B.value.map(e=>({name:e.name,color:e.color,value:e.value}))}let H=T([]),Mr=T(!1),Nr=T(null);function Pr({from:e,to:t,duration:n,onUpdate:r,onDone:i,easing:a=xe}){let o=performance.now();function s(c){let l=Math.min((c-o)/n,1),u=a(l);r(e+(t-e)*u,l),l<1?requestAnimationFrame(s):(r(t,1),i&&i())}requestAnimationFrame(s)}function Fr(){H.value.length?H.value=[]:Vr.value.forEach((e,t)=>{H.value.push(t)})}function Ir(e){let t=B.value.find((t,n)=>n===e),n=V.value.find((t,n)=>n===e).value;if(H.value.includes(e)){let r=function(){V.value=V.value.map((t,n)=>e===n?{...t,value:a}:t)},i=function(){Mr.value=!0,Nr.value=e,Pr({from:n,to:a,duration:I.value.serieToggleAnimation.durationMs,onUpdate:(t,n)=>{V.value=V.value.map((n,r)=>e===r?{...n,value:t}:n),requestAnimationFrame(Qn)},onDone:()=>{r(),Mr.value=!1,Nr.value=null}})};H.value=H.value.filter(t=>t!==e);let a=t.value;I.value.serieToggleAnimation.show&&I.value.type===`classic`?i():(r(),requestAnimationFrame(Qn))}else if(H.value.length<B.value.length-1){let t=function(){H.value.push(e),V.value=V.value.map((t,n)=>e===n?{...t,value:0}:t)};I.value.serieToggleAnimation.show&&I.value.type===`classic`?function(){Mr.value=!0,Nr.value=e,Pr({from:n,to:0,duration:I.value.serieToggleAnimation.durationMs,onUpdate:(t,n)=>{V.value=V.value.map((n,r)=>e===r?{...n,value:t}:n),requestAnimationFrame(Qn)},onDone:()=>{t(),requestAnimationFrame(Qn),Mr.value=!1,Nr.value=null}})}():t()}Ar(`selectLegend`,U.value.map(e=>({name:e.name,color:e.color,value:e.value})))}function Lr(e){return B.value.length?B.value.find(t=>t.name===e)||(I.value.debug&&console.warn(`VueUiDonut - Series name not found "${e}"`),null):(I.value.debug&&console.warn(`VueUiDonut - There are no series to show.`),null)}function Rr(e){let t=Lr(e);t!==null&&H.value.includes(t.seriesIndex)&&Ir(t.seriesIndex)}function zr(e){let t=Lr(e);t!==null&&(H.value.includes(t.seriesIndex)||Ir(t.seriesIndex))}let Br=_(()=>lr.value.reduce((e,t)=>e+t.values.reduce((e,t)=>e+t,0),0)),U=_(()=>{if(L.value&&!cr.value){let e=fr.value,t=B.value.map(t=>({...t,value:t.value*e,color:t.color,ghost:!1})),n=Br.value*(1-e);return n>0&&t.push({name:`__ghost__`,value:n,color:`transparent`,ghost:!0}),t}else return V.value.forEach(e=>{if([null,void 0].includes(e.values))return{...e,values:[]}}),V.value.map((e,t)=>({...e,seriesIndex:t})).filter((e,t)=>!H.value.includes(t))}),Vr=_(()=>lr.value.map((e,t)=>{let n=(e.values||[]).reduce((e,t)=>e+t,0),r=n/lr.value.map(e=>(e.values||[]).reduce((e,t)=>e+t,0)).reduce((e,t)=>e+t,0);return{name:e.name,color:_e(e.color)||Or.value[t]||we[t]||we[t%we.length],value:n,shape:`circle`,patternIndex:t,proportion:r}}).map((e,t)=>{let n=A(I.value.style.chart.layout.labels.value.formatter,e.value,D({p:I.value.style.chart.layout.labels.dataLabels.prefix,v:e.value,s:I.value.style.chart.layout.labels.dataLabels.suffix,r:I.value.style.chart.legend.roundingValue}),{datapoint:e,index:t}),r=A(I.value.style.chart.layout.labels.percentage.formatter,Qr(e),D({v:Qr(e),s:`%`,r:I.value.style.chart.legend.roundingPercentage})),i=pi({val:n,percentage:H.value.includes(t)?`${fi(e.proportion*100)}%`:r,showVal:I.value.style.chart.legend.showValue,showPercentage:I.value.style.chart.legend.showPercentage,config:I.value.style.chart.legend});return{...e,opacity:H.value.includes(t)?.5:1,segregate:()=>!Mr.value&&Ir(t),isSegregated:H.value.includes(t),display:`${e.name}${I.value.style.chart.legend.showPercentage||I.value.style.chart.legend.showValue?`: `:``}${i}`}})),Hr=_(()=>({cy:`donut-div-legend`,backgroundColor:I.value.style.chart.legend.backgroundColor,color:I.value.style.chart.legend.color,fontSize:I.value.style.chart.legend.fontSize,paddingBottom:12,fontWeight:I.value.style.chart.legend.bold?`bold`:``})),W=_(()=>{let e=I.value.style.chart.layout.donut.radiusRatio,t=Math.max(.1,Math.min(.50001,e)),n=Math.min(z.value.width*t,z.value.height*t);return Math.max(12,n)}),G=_(()=>he({series:U.value},z.value.width/2,z.value.height/2,W.value,W.value,1.99999,2,1,360,105.25,kr.value)),Ur=_(()=>Math.abs(U.value.map(e=>e.value).reduce((e,t)=>e+t,0))>0),Wr=_(()=>he({series:[{value:1,color:I.value.style.chart.layout.donut.emptyFill,name:`_`,seriesIndex:0,patternIndex:-1,ghost:!1,absoluteValues:[1]}]},z.value.width/2,z.value.height/2,W.value,W.value,1.99999,2,1,360,105.25,kr.value)),K=_(()=>G.value.filter(e=>!e.ghost)),q=_(()=>{let e=Math.max(...U.value.map(e=>e.value));return Oe({series:U.value.map(t=>t.value/e),center:{x:z.value.width/2,y:z.value.height/2},maxRadius:Math.min(z.value.width,z.value.height)/3,hasGhost:L.value})});function Gr(e){return e.x>z.value.width/2+6?`start`:e.x<z.value.width/2-6?`end`:`middle`}function Kr(e){return e.middlePoint.y>z.value.height/2?k({initX:e.middlePoint.x,initY:e.middlePoint.y,offset:100,centerX:z.value.width/2,centerY:z.value.height/2}).y:k({initX:e.middlePoint.x,initY:e.middlePoint.y,offset:0,centerX:z.value.width/2,centerY:z.value.height/2}).y-100}function J(e){return e.proportion*100>I.value.style.chart.layout.labels.dataLabels.hideUnderValue}function qr(e,t){let n=I.value.style.chart.layout.labels.dataLabels.hideUnderValue,r=I.value.style.chart.layout.labels.dataLabels.smallArcClusterThreshold,i=(Xr.value[t]??e.proportion??0)*100;return i>n&&i<=r}let{smallArcLayoutsClassic:Y}=Ze({FINAL_CONFIG:I,noGhostDonut:K,svg:z,padding:Sr,labels_inline_fontSize:Xn,minSize:W,findArcMidpoint:ce,calcMarkerOffsetX:O,calcMarkerOffsetY:ue,animatingIndex:Nr,segregated:H,isSmallArc:qr});function Jr(e,t){let n=e.value/Yr(t);return isNaN(n)?0:A(I.value.style.chart.layout.labels.percentage.formatter,n*100,D({v:n*100,s:`%`,r:I.value.style.chart.layout.labels.percentage.rounding}),{datapoint:e})}function Yr(e){return[...e].map(e=>e.value).reduce((e,t)=>e+t,0)}let X=_(()=>U.value.map(e=>e.value).reduce((e,t)=>e+t,0)),Xr=_(()=>{let e=B.value.reduce((e,t)=>e+t.value,0);return e<=0?[]:B.value.map(t=>t.value/e)}),Zr=_(()=>X.value/U.value.length);function Qr(e){return Mr.value?e.proportion*100:e.value/X.value*100}let $r=T(null),ei=T(!1);function Z({datapoint:e,seriesIndex:t}){I.value.events.datapointLeave&&I.value.events.datapointLeave({datapoint:e,seriesIndex:t}),nr.value=!1,F.value=null}function Q({datapoint:e,relativeIndex:t,seriesIndex:n,show:r=!1}){I.value.events.datapointEnter&&I.value.events.datapointEnter({datapoint:e,seriesIndex:n}),$r.value={datapoint:e,seriesIndex:n,config:I.value,series:B.value},nr.value=r,F.value=t;let i=``,a=I.value.style.chart.tooltip.customFormat;if(ei.value=!1,le(a))try{let t=a({seriesIndex:n,datapoint:e,series:B.value,config:I.value});typeof t==`string`&&(rr.value=t,ei.value=!0)}catch{console.warn(`Custom format cannot be applied.`),ei.value=!1}ei.value||(i+=`<div style="width:100%;text-align:center;border-bottom:1px solid ${I.value.style.chart.tooltip.borderColor};padding-bottom:6px;margin-bottom:3px;">${e.name}</div>`,i+=`<div style="display:flex;flex-direction:row;gap:6px;align-items:center;"><svg viewBox="0 0 60 60" height="14" width="14"><circle cx="30" cy="30" r="30" stroke="none" fill="${e.color}"/>${An.pattern?`<circle cx="30" cy="30" r="30" stroke="none" fill="url(#pattern_${P.value}_${n})"/>`:``}</svg>`,i+=`<b>${pi({showVal:I.value.style.chart.tooltip.showValue,showPercentage:I.value.style.chart.tooltip.showPercentage,val:`<span>${A(I.value.style.chart.layout.labels.value.formatter,e.value,D({p:I.value.style.chart.layout.labels.dataLabels.prefix,v:e.value,s:I.value.style.chart.layout.labels.dataLabels.suffix,r:I.value.style.chart.tooltip.roundingValue}),{datapoint:e,relativeIndex:t,seriesIndex:n})}</span>`,percentage:A(I.value.style.chart.layout.labels.percentage.formatter,e.proportion*100,D({v:e.proportion*100,s:`%`,r:I.value.style.chart.tooltip.roundingPercentage}),{datapoint:e,relativeIndex:t,seriesIndex:n}),config:I.value.style.chart.tooltip})}</b></div>`,I.value.style.chart.comments.showInTooltip&&e.comment&&(i+=`<div class="vue-data-ui-tooltip-comment" style="background:${e.color}20; padding: 6px; margin-bottom: 6px; margin-top:6px; border-left: 1px solid ${e.color}">${e.comment}</div>`),rr.value=`<div>${i}</div>`)}function ti(e,t){let n=Y.value[t];if(n)return{textAnchor:n.textAnchor,x:n.labelX,y:n.labelY};let r=O(e,!0,12);return{textAnchor:r.anchor,x:r.x,y:ue(e)}}function ni(e,t,n){let{textAnchor:r,x:i}=ti(e,t),a=mi(e),o=`
        <tspan
            class="vue-data-ui-datalabel-inline"
            fill="${I.value.style.chart.layout.labels.percentage.color}"
            font-size="${n?Xn.value:Yn.value}px"
            style="font-weight:${I.value.style.chart.layout.labels.percentage.bold?`bold`:``}"
        >${a}</tspan>
    `,s=String(e.name??``).split(/\n/g),c=``;return s.forEach((e,t)=>{t===0?c+=`
                <tspan
                    class="${n?`vue-data-ui-datalabel-inline`:`vue-data-ui-datalabel-name`}"
                    fill="${I.value.style.chart.layout.labels.name.color}"
                    font-size="${n?Xn.value:N.value}px"
                    style="font-weight:${I.value.style.chart.layout.labels.name.bold?`bold`:``}"
                >${e}</tspan>
            `:c+=`
                <tspan
                    class="${n?`vue-data-ui-datalabel-inline`:`vue-data-ui-datalabel-name`}"
                    x="${i}"
                    dy="${(n?Xn.value:N.value)*1.2}"
                    fill="${I.value.style.chart.layout.labels.name.color}"
                    font-size="${n?Xn.value:N.value}px"
                    style="font-weight:${I.value.style.chart.layout.labels.name.bold?`bold`:``}"
                >${e}</tspan>
            `}),r===`end`?`${c}${o}`:`${o}${c}`}function ri(e,t){let n=q.value[t].middlePoint,r=Gr(n),i=k({initX:n.x,initY:n.y,offset:42,centerX:z.value.width/2,centerY:z.value.height/2}),a=i.x;i.y;let o=mi(e),s=`
        <tspan
            class="vue-data-ui-datalabel-value"
            fill="${I.value.style.chart.layout.labels.percentage.color}"
            font-size="${Yn.value}px"
            style="font-weight:${I.value.style.chart.layout.labels.percentage.bold?`bold`:`normal`}"
        >${o}</tspan>
    `,c=String(e.name??``).split(/\n/g),l=``;return c.forEach((e,t)=>{t===0?l+=`
                <tspan
                    class="vue-data-ui-datalabel-name"
                    fill="${I.value.style.chart.layout.labels.name.color}"
                    font-size="${N.value}px"
                    style="font-weight:${I.value.style.chart.layout.labels.name.bold?`bold`:`normal`}"
                >${e}</tspan>
            `:l+=`
                <tspan
                    class="vue-data-ui-datalabel-name"
                    x="${a}"
                    dy="${N.value*1.2}"
                    fill="${I.value.style.chart.layout.labels.name.color}"
                    font-size="${N.value}px"
                    style="font-weight:${I.value.style.chart.layout.labels.name.bold?`bold`:`normal`}"
                >${e}</tspan>
            `}),r===`end`?`${l}${s}`:`${s}${l}`}function ii(e){return I.value.useBlurOnHover&&![null,void 0].includes(F.value)&&F.value!==e?`url(#blur_${P.value})`:``}function ai(e){if(!Mr.value||Nr.value===null||e.seriesIndex!==Nr.value)return 1;let t=(e.proportion??0)*100,n=I.value.style.chart.layout.labels.dataLabels.hideUnderValue,r=I.value.style.chart.layout.labels.dataLabels.smallArcClusterThreshold+2,i=n;return t>=r?1:t<=i?0:(t-i)/(r-i)}let oi=_(()=>({head:U.value.map(e=>({name:e.name,color:e.color})),body:U.value.map(e=>e.value)}));function si(e=null){oe(()=>{let t=oi.value.head.map((e,t)=>[[e.name],[oi.value.body[t]],[isNaN(oi.value.body[t]/X.value)?`-`:oi.value.body[t]/X.value*100]]),n=ve([[I.value.style.chart.title.text],[I.value.style.chart.title.subtitle.text],[[``],[`val`],[`%`]]].concat(t));e?e(n):de({csvContent:n,title:I.value.style.chart.title.text||`vue-ui-donut`})})}let ci=_(()=>{let e=[` <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M18 16v2a1 1 0 0 1 -1 1h-11l6 -7l-6 -7h11a1 1 0 0 1 1 1v2" /></svg>`,D({p:I.value.style.chart.layout.labels.dataLabels.prefix,v:X.value,s:I.value.style.chart.layout.labels.dataLabels.suffix,r:I.value.table.td.roundingValue}),`100%`],t=oi.value.head.map((e,t)=>[{color:e.color,name:e.name||`-`},oi.value.body[t],isNaN(oi.value.body[t]/X.value)?`-`:(oi.value.body[t]/X.value*100).toFixed(I.value.table.td.roundingPercentage)+`%`]),n={th:{backgroundColor:I.value.table.th.backgroundColor,color:I.value.table.th.color,outline:I.value.table.th.outline},td:{backgroundColor:I.value.table.td.backgroundColor,color:I.value.table.td.color,outline:I.value.table.td.outline},breakpoint:I.value.table.responsiveBreakpoint};return{colNames:[I.value.table.columnNames.series,I.value.table.columnNames.value,I.value.table.columnNames.percentage],head:e,body:t,config:n}}),li=T(!1);function ui(e){li.value=e,ir.value+=1}let di=_(()=>/^((?!chrome|android).)*safari/i.test(navigator.userAgent));function fi(e){return Je({num:e,rounding:I.value.style.chart.legend.roundingPercentage})}function pi({val:e,percentage:t,showVal:n,showPercentage:r,config:i}){return Ye({config:i,val:e,percentage:t,showVal:n,showPercentage:r})}function mi(e){return pi({val:A(I.value.style.chart.layout.labels.value.formatter,e.value,D({p:I.value.style.chart.layout.labels.dataLabels.prefix,v:e.value,s:I.value.style.chart.layout.labels.dataLabels.suffix,r:I.value.style.chart.layout.labels.value.rounding}),{datapoint:e}),percentage:Jr(e,K.value),showVal:I.value.style.chart.layout.labels.value.show,showPercentage:!0,config:I.value.style.chart.layout.labels.dataLabels})}function $(e,t){I.value.events.datapointClick&&I.value.events.datapointClick({datapoint:e,seriesIndex:e.seriesIndex}),Ar(`selectDatapoint`,{datapoint:e,index:t})}function hi(){R.value.showTable=!R.value.showTable}function gi(){R.value.dataLabels.show=!R.value.dataLabels.show}function _i(){R.value.showTooltip=!R.value.showTooltip}let vi=T(!1);function yi(){vi.value=!vi.value}async function bi({scale:e=2}={}){if(!M.value)return;let{width:t,height:n}=M.value.getBoundingClientRect(),r=t/n,{imageUri:i,base64:a}=await Be({domElement:M.value,base64:!0,img:!0,scale:e});return{imageUri:i,base64:a,title:I.value.style.chart.title.text,width:t,height:n,aspectRatio:r}}function xi(){if(!Mn.value)return;let{x:e,y:t,width:n,height:r}=Mn.value.getBBox();yr.value&&yr.value.setAttribute(`viewBox`,`${e} ${t} ${n+Math.min(0,e)} ${r+Math.min(0,t)}`)}let Si=_(()=>{let e=I.value.table.useDialog&&!I.value.table.show,t=R.value.showTable;return{component:e?En:nt,title:`${I.value.style.chart.title.text}${I.value.style.chart.title.subtitle.text?`: ${I.value.style.chart.title.subtitle.text}`:``}`,props:e?{backgroundColor:I.value.table.th.backgroundColor,color:I.value.table.th.color,headerColor:I.value.table.th.color,headerBg:I.value.table.th.backgroundColor,isFullscreen:li.value,fullscreenParent:M.value,forcedWidth:Math.min(500,window.innerWidth*.8),isCursorPointer:or.value}:{hideDetails:!0,config:{open:t,maxHeight:1e4,body:{backgroundColor:I.value.style.chart.backgroundColor,color:I.value.style.chart.color},head:{backgroundColor:I.value.style.chart.backgroundColor,color:I.value.style.chart.color}}}}});S(()=>R.value.showTable,e=>{I.value.table.show||(e&&I.value.table.useDialog&&Gn.value?Gn.value.open():`close`in Gn.value&&Gn.value.close())});function Ci(){R.value.showTable=!1,Kn.value&&Kn.value.setTableIconState(!1)}let wi=_(()=>Vr.value.map(e=>({...e,name:e.display}))),Ti=_(()=>I.value.style.chart.backgroundColor),Ei=_(()=>I.value.style.chart.legend),{exportSvg:Di,getSvg:Oi}=Re({svg:yr,title:_(()=>I.value.style.chart.title),legend:Ei,legendItems:wi,backgroundColor:Ti});async function ki({isCb:e}){Jn.value=!0,await oe();try{if(e){let{blob:e,url:t,text:n,dataUrl:r}=await Oi();await Promise.resolve(I.value.userOptions.callbacks.svg({blob:e,url:t,text:n,dataUrl:r}))}else await Promise.resolve(Di())}finally{Jn.value=!1}}function Ai(e){if(e?.stage===`start`){qn.value=!0;return}if(e?.stage===`end`){qn.value=!1;return}Er()}async function ji(){if(Ar(`copyAlt`,{config:I.value,dataset:V.value}),!I.value.userOptions.callbacks.altCopy){console.warn("Vue Data UI - A callback must be set for `altCopy` in userOptions.");return}await Promise.resolve(I.value.userOptions.callbacks.altCopy({config:I.value,dataset:V.value}))}return Qe({autoSize:xi,getData:jr,getImage:bi,generatePdf:Tr,generateCsv:si,generateImage:Er,generateSvg:ki,hideSeries:zr,showSeries:Rr,toggleTable:hi,toggleLabels:gi,toggleTooltip:_i,toggleAnnotator:yi,toggleFullscreen:ui,copyAlt:ji}),(i,a)=>(o(),C(`div`,{ref_key:`donutChart`,ref:M,class:e(`vue-data-ui-component vue-ui-donut ${li.value?`vue-data-ui-wrapper-fullscreen`:``} ${I.value.useCssAnimation?``:`vue-ui-dna`}`),style:c(`font-family:${I.value.style.fontFamily};width:100%; ${I.value.responsive?`height:100%;`:``} text-align:center;background:${I.value.style.chart.backgroundColor}`),id:`donut__${P.value}`,onMouseenter:br,onMouseleave:xr},[I.value.userOptions.buttons.annotator&&r(yr)?(o(),f(r(it),{key:0,color:I.value.style.chart.color,backgroundColor:I.value.style.chart.backgroundColor,active:vi.value,svgRef:r(yr),isCursorPointer:or.value,onClose:yi},{"annotator-action-close":b(()=>[d(i.$slots,`annotator-action-close`,{},void 0,!0)]),"annotator-action-color":b(({color:e})=>[d(i.$slots,`annotator-action-color`,v(s({color:e})),void 0,!0)]),"annotator-action-draw":b(({mode:e})=>[d(i.$slots,`annotator-action-draw`,v(s({mode:e})),void 0,!0)]),"annotator-action-undo":b(({disabled:e})=>[d(i.$slots,`annotator-action-undo`,v(s({disabled:e})),void 0,!0)]),"annotator-action-redo":b(({disabled:e})=>[d(i.$slots,`annotator-action-redo`,v(s({disabled:e})),void 0,!0)]),"annotator-action-delete":b(({disabled:e})=>[d(i.$slots,`annotator-action-delete`,v(s({disabled:e})),void 0,!0)]),_:3},8,[`color`,`backgroundColor`,`active`,`svgRef`,`isCursorPointer`])):t(``,!0),d(i.$slots,`userConfig`,{},void 0,!0),Dr.value?(o(),C(`div`,{key:1,ref_key:`noTitle`,ref:Bn,class:`vue-data-ui-no-title-space`,style:`height:36px; width: 100%;background:transparent`},null,512)):t(``,!0),I.value.style.chart.title.text?(o(),C(`div`,{key:2,ref_key:`chartTitle`,ref:Fn,style:`width:100%;background:transparent;padding-bottom:24px`},[(o(),f(Ve,{key:`title_${Vn.value}`,config:{title:{cy:`donut-div-title`,...I.value.style.chart.title},subtitle:{cy:`donut-div-subtitle`,...I.value.style.chart.title.subtitle}}},null,8,[`config`]))],512)):t(``,!0),w(`div`,{id:`legend-top-${P.value}`},null,8,lt),I.value.userOptions.show&&jn.value&&(r(vr)||r(gr))?(o(),f(r(at),{ref_key:`userOptionsRef`,ref:Kn,key:`user_option_${ir.value}`,backgroundColor:I.value.style.chart.backgroundColor,color:I.value.style.chart.color,isPrinting:r(Cr),isImaging:r(wr),uid:P.value,hasTooltip:I.value.style.chart.tooltip.show&&I.value.userOptions.buttons.tooltip,hasPdf:I.value.userOptions.buttons.pdf,hasImg:I.value.userOptions.buttons.img,hasSvg:I.value.userOptions.buttons.svg,hasXls:I.value.userOptions.buttons.csv,hasTable:I.value.userOptions.buttons.table,hasLabel:I.value.userOptions.buttons.labels,hasFullscreen:I.value.userOptions.buttons.fullscreen,hasAltCopy:I.value.userOptions.buttons.altCopy,isFullscreen:li.value,chartElement:M.value,position:I.value.userOptions.position,callbacks:I.value.userOptions.callbacks,isTooltip:R.value.showTooltip,titles:{...I.value.userOptions.buttonTitles},hasAnnotator:I.value.userOptions.buttons.annotator,isAnnotation:vi.value,printScale:I.value.userOptions.print.scale,tableDialog:I.value.table.useDialog,isCursorPointer:or.value,onToggleFullscreen:ui,onGeneratePdf:r(Tr),onGenerateCsv:si,onGenerateImage:Ai,onGenerateSvg:ki,onToggleTable:hi,onToggleLabels:gi,onToggleTooltip:_i,onToggleAnnotator:yi,onCopyAlt:ji,style:c({visibility:r(vr)?r(gr)?`visible`:`hidden`:`visible`})},m({_:2},[i.$slots.menuIcon?{name:`menuIcon`,fn:b(({isOpen:e,color:t})=>[d(i.$slots,`menuIcon`,v(s({isOpen:e,color:t})),void 0,!0)]),key:`0`}:void 0,i.$slots.optionTooltip?{name:`optionTooltip`,fn:b(()=>[d(i.$slots,`optionTooltip`,{},void 0,!0)]),key:`1`}:void 0,i.$slots.optionPdf?{name:`optionPdf`,fn:b(()=>[d(i.$slots,`optionPdf`,{},void 0,!0)]),key:`2`}:void 0,i.$slots.optionCsv?{name:`optionCsv`,fn:b(()=>[d(i.$slots,`optionCsv`,{},void 0,!0)]),key:`3`}:void 0,i.$slots.optionImg?{name:`optionImg`,fn:b(()=>[d(i.$slots,`optionImg`,{},void 0,!0)]),key:`4`}:void 0,i.$slots.optionSvg?{name:`optionSvg`,fn:b(()=>[d(i.$slots,`optionSvg`,{},void 0,!0)]),key:`5`}:void 0,i.$slots.optionTable?{name:`optionTable`,fn:b(()=>[d(i.$slots,`optionTable`,{},void 0,!0)]),key:`6`}:void 0,i.$slots.optionLabels?{name:`optionLabels`,fn:b(()=>[d(i.$slots,`optionLabels`,{},void 0,!0)]),key:`7`}:void 0,i.$slots.optionFullscreen?{name:`optionFullscreen`,fn:b(({toggleFullscreen:e,isFullscreen:t})=>[d(i.$slots,`optionFullscreen`,v(s({toggleFullscreen:e,isFullscreen:t})),void 0,!0)]),key:`8`}:void 0,i.$slots.optionAnnotator?{name:`optionAnnotator`,fn:b(({toggleAnnotator:e,isAnnotator:t})=>[d(i.$slots,`optionAnnotator`,v(s({toggleAnnotator:e,isAnnotator:t})),void 0,!0)]),key:`9`}:void 0,i.$slots.optionAltCopy?{name:`optionAltCopy`,fn:b(({altCopy:e})=>[d(i.$slots,`optionAltCopy`,v(s({altCopy:e})),void 0,!0)]),key:`10`}:void 0]),1032,`backgroundColor.color.isPrinting.isImaging.uid.hasTooltip.hasPdf.hasImg.hasSvg.hasXls.hasTable.hasLabel.hasFullscreen.hasAltCopy.isFullscreen.chartElement.position.callbacks.isTooltip.titles.hasAnnotator.isAnnotation.printScale.tableDialog.isCursorPointer.onGeneratePdf.style`.split(`.`))):t(``,!0),(o(),C(`svg`,{ref_key:`svgRef`,ref:yr,xmlns:r(ye),class:e({"vue-data-ui-fullscreen--on":li.value,"vue-data-ui-fulscreen--off":!li.value,"vue-data-ui-svg":!0}),viewBox:`0 0 ${z.value.width<=0?10:z.value.width} ${z.value.height<=0?10:z.value.height}`,style:c(`max-width:100%; overflow: visible; background:transparent;color:${I.value.style.chart.color};${Sr.value.css}`)},[w(`g`,{ref_key:`G`,ref:Mn,class:`vue-data-ui-g`},[u(r(st)),i.$slots[`chart-background`]?(o(),C(`foreignObject`,{key:0,x:0,y:0,width:z.value.width<=0?10:z.value.width,height:z.value.height<=0?10:z.value.height,style:{pointerEvents:`none`}},[d(i.$slots,`chart-background`,{},void 0,!0)],8,dt)):t(``,!0),I.value.type===`classic`&&!isNaN(kr.value/W.value)?(o(),C(`defs`,ft,[I.value.style.chart.useGradient?(o(),C(`radialGradient`,{key:0,id:`gradient_${P.value}`},[w(`stop`,{offset:`0%`,"stop-color":r(Ae)(I.value.style.chart.backgroundColor,0),"stop-opacity":`0`},null,8,mt),w(`stop`,{offset:`${(1-kr.value/W.value)*100}%`,"stop-color":r(Ae)(`#FFFFFF`,0),"stop-opacity":`0`},null,8,ht),w(`stop`,{offset:`${(1-kr.value/W.value/2)*100}%`,"stop-color":r(Ae)(`#FFFFFF`,I.value.style.chart.gradientIntensity)},null,8,gt),w(`stop`,{offset:`100%`,"stop-color":r(Ae)(I.value.style.chart.backgroundColor,0),"stop-opacity":`0`},null,8,_t)],8,pt)):t(``,!0)])):t(``,!0),I.value.type===`polar`?(o(),C(`defs`,vt,[(o(!0),C(x,null,h(q.value,(e,t)=>(o(),C(`radialGradient`,{id:`polar_gradient_${t}_${P.value}`,cx:(isNaN(e.middlePoint.x/z.value.width*100)?0:e.middlePoint.x/z.value.width*100)+`%`,cy:(isNaN(e.middlePoint.y/z.value.height*100)?0:e.middlePoint.y/z.value.height*100)+`%`,r:`62%`},[w(`stop`,{offset:`0%`,"stop-color":r(Ee)(G.value[t].color,.05),"stop-opacity":I.value.style.chart.gradientIntensity/100},null,8,bt),w(`stop`,{offset:`100%`,"stop-color":G.value[t].color},null,8,xt)],8,yt))),256))])):t(``,!0),w(`defs`,null,[w(`filter`,{id:`blur_${P.value}`,x:`-50%`,y:`-50%`,width:`200%`,height:`200%`},[w(`feGaussianBlur`,{in:`SourceGraphic`,stdDeviation:2,id:`blur_std_${P.value}`},null,8,Ct),a[5]||=w(`feColorMatrix`,{type:`saturate`,values:`0`},null,-1)],8,St),w(`filter`,{id:`shadow_${P.value}`,"color-interpolation-filters":`sRGB`},[w(`feDropShadow`,{dx:`0`,dy:`0`,stdDeviation:`10`,"flood-opacity":`0.5`,"flood-color":I.value.style.chart.layout.donut.shadowColor},null,8,Tt)],8,wt),w(`filter`,{id:`drop_shadow_${P.value}`,"color-interpolation-filters":`sRGB`,x:`-50%`,y:`-50%`,width:`200%`,height:`200%`},[w(`feDropShadow`,{dx:`0`,dy:`0`,stdDeviation:`3`,"flood-opacity":`1`,"flood-color":I.value.style.chart.layout.donut.shadowColor},null,8,Dt)],8,Et)]),I.value.type===`classic`?(o(!0),C(x,{key:3},h(G.value.filter(e=>!e.ghost),(e,n)=>(o(),C(`g`,null,[J(e)&&R.value.dataLabels.show?(o(),C(`path`,{key:0,d:r(Y)[n]?.connectorPath||r(De)(e,{x:z.value.width/2,y:z.value.height/2},16,16,!1,!1,kr.value,12,I.value.style.chart.layout.curvedMarkers),stroke:e.color,"stroke-width":`1`,"stroke-linecap":`round`,"stroke-linejoin":`round`,fill:`none`,filter:ii(n)},null,8,Ot)):t(``,!0)]))),256)):t(``,!0),I.value.type===`polar`?(o(!0),C(x,{key:4},h(G.value.filter(e=>!e.ghost),(e,n)=>(o(),C(`g`,null,[J(e)&&R.value.dataLabels.show?(o(),C(`path`,{key:0,d:`M ${r(k)({initX:q.value[n].middlePoint.x,initY:q.value[n].middlePoint.y,offset:24,centerX:z.value.width/2,centerY:z.value.height/2}).x},${r(k)({initX:q.value[n].middlePoint.x,initY:q.value[n].middlePoint.y,offset:24,centerX:z.value.width/2,centerY:z.value.height/2}).y} ${q.value[n].middlePoint.x},${q.value[n].middlePoint.y}`,stroke:e.color,"stroke-width":`1`,"stroke-linecap":`round`,"stroke-linejoin":`round`,fill:`none`,filter:ii(n),style:c({transition:L.value||!I.value.serieToggleAnimation.show?`none`:`all ${I.value.serieToggleAnimation.durationMs}ms ease-in-out`})},null,12,kt)):t(``,!0)]))),256)):t(``,!0),I.value.type===`classic`&&I.value.style.chart.layout.donut.useShadow?(o(),C(`circle`,{key:5,cx:z.value.width/2,cy:z.value.height/2,r:W.value<=0?10:W.value,fill:I.value.style.chart.backgroundColor,filter:`url(#shadow_${P.value})`},null,8,At)):t(``,!0),i.$slots.pattern?(o(),C(`g`,jt,[(o(!0),C(x,null,h(Fe.dataset,(e,t)=>(o(),C(`defs`,{key:`pattern-${e.patternIndex}`},[d(i.$slots,`pattern`,ee({ref_for:!0},{seriesIndex:t,patternId:`pattern_${P.value}_${t}`}),void 0,!0)]))),128))])):t(``,!0),X.value&&I.value.type===`classic`?(o(),C(x,{key:7},[(o(!0),C(x,null,h(K.value,(e,t)=>(o(),C(`path`,{stroke:I.value.style.chart.backgroundColor,d:e.arcSlice,fill:`#FFFFFF`},null,8,Mt))),256)),(o(!0),C(x,null,h(K.value,(e,t)=>(o(),C(`path`,{class:`vue-ui-donut-arc-path`,d:e.arcSlice,fill:e.color,stroke:I.value.style.chart.layout.donut.borderColorAuto?I.value.style.chart.backgroundColor:I.value.style.chart.layout.donut.borderColor,"stroke-width":I.value.style.chart.layout.donut.borderWidth,filter:ii(t)},null,8,Nt))),256)),i.$slots.pattern?(o(),C(`g`,Pt,[(o(!0),C(x,null,h(K.value,(e,t)=>(o(),C(`path`,{class:`vue-ui-donut-arc-path`,d:e.arcSlice,fill:`url(#${e.pattern})`,stroke:I.value.style.chart.layout.donut.borderColorAuto?I.value.style.chart.backgroundColor:I.value.style.chart.layout.donut.borderColor,"stroke-width":I.value.style.chart.layout.donut.borderWidth,filter:ii(t)},null,8,Ft))),256))])):t(``,!0)],64)):t(``,!0),X.value&&I.value.type===`polar`?(o(),C(x,{key:8},[G.value.length>1?(o(),C(`g`,It,[(o(!0),C(x,null,h(K.value,(e,t)=>(o(),C(`path`,{stroke:I.value.style.chart.layout.donut.borderColorAuto?I.value.style.chart.backgroundColor:I.value.style.chart.layout.donut.borderColor,d:q.value[t].path,fill:`#FFFFFF`,style:c({transition:L.value||!I.value.serieToggleAnimation.show?`none`:`all ${I.value.serieToggleAnimation.durationMs}ms ease-in-out`})},null,12,Lt))),256)),I.value.style.chart.layout.donut.useShadow?(o(),C(`g`,Rt,[(o(!0),C(x,null,h(K.value,(e,t)=>(o(),C(`path`,{class:`vue-ui-donut-arc-path`,d:q.value[t].path,fill:`transparent`,stroke:I.value.style.chart.layout.donut.borderColorAuto?I.value.style.chart.backgroundColor:I.value.style.chart.layout.donut.borderColor,"stroke-width":I.value.style.chart.layout.donut.borderWidth,filter:`url(#drop_shadow_${P.value})`,style:c({transition:L.value||!I.value.serieToggleAnimation.show?`none`:`all ${I.value.serieToggleAnimation.durationMs}ms ease-in-out`})},null,12,zt))),256))])):t(``,!0),i.$slots.pattern?(o(),C(`g`,Bt,[(o(!0),C(x,null,h(K.value,(e,t)=>(o(),C(`path`,{class:`vue-ui-donut-arc-path`,d:q.value[t].path,fill:`url(#${e.pattern})`,stroke:I.value.style.chart.layout.donut.borderColorAuto?I.value.style.chart.backgroundColor:I.value.style.chart.layout.donut.borderColor,"stroke-width":I.value.style.chart.layout.donut.borderWidth,filter:ii(t),style:c({transition:L.value||!I.value.serieToggleAnimation.show?`none`:`all ${I.value.serieToggleAnimation.durationMs}ms ease-in-out`,transformOrigin:`center`})},null,12,Vt))),256))])):t(``,!0),(o(!0),C(x,null,h(K.value,(e,t)=>(o(),C(`path`,{class:`vue-ui-donut-arc-path`,d:q.value[t].path,fill:I.value.style.chart.useGradient?`url(#polar_gradient_${t}_${P.value})`:e.color,stroke:I.value.style.chart.layout.donut.borderColorAuto?I.value.style.chart.backgroundColor:I.value.style.chart.layout.donut.borderColor,"stroke-width":I.value.style.chart.layout.donut.borderWidth,filter:ii(t),style:c({transition:L.value||!I.value.serieToggleAnimation.show?`none`:`all ${I.value.serieToggleAnimation.durationMs}ms ease-in-out`})},null,12,Ht))),256))])):(o(),C(`g`,Ut,[i.$slots.pattern?(o(),C(`circle`,{key:0,cx:z.value.width/2,cy:z.value.height/2,r:W.value,fill:`url(#pattern_${P.value}_${G.value[0].patternIndex})`,stroke:I.value.style.chart.backgroundColor,"stroke-width":I.value.style.chart.layout.donut.borderWidth},null,8,Wt)):t(``,!0),w(`circle`,{cx:z.value.width/2,cy:z.value.height/2,r:W.value,fill:I.value.style.chart.useGradient?`url(#polar_gradient_0_${P.value})`:G.value[0].color,stroke:I.value.style.chart.backgroundColor,"stroke-width":I.value.style.chart.layout.donut.borderWidth},null,8,Gt)]))],64)):(o(),C(x,{key:9},[I.value.type===`classic`&&!Ur.value?(o(),C(`g`,Kt,[(o(!0),C(x,null,h(Wr.value,(e,t)=>(o(),C(`path`,{class:`vue-ui-donut-arc-path`,d:e.arcSlice,fill:e.color,stroke:I.value.style.chart.backgroundColor,"stroke-width":I.value.style.chart.layout.donut.borderWidth},null,8,qt))),256))])):t(``,!0),w(`circle`,{cx:z.value.width/2,cy:z.value.height/2,r:W.value<=0?10:W.value,fill:`transparent`,stroke:I.value.style.chart.backgroundColor},null,8,Jt)],64)),I.value.style.chart.useGradient&&I.value.type===`classic`?(o(),C(`circle`,{key:10,cx:z.value.width/2,cy:z.value.height/2,r:W.value<=0?10:W.value,fill:`url(#gradient_${P.value})`},null,8,Yt)):t(``,!0),w(`circle`,{ref_key:`circle_hollow`,ref:Pn,style:{pointerEvents:`none`},fill:`none`,cx:z.value.width/2,cy:z.value.height/2,r:Math.max(.1,kr.value*1.7)},null,8,Xt),X.value?(o(),C(x,{key:11},[G.value.length>1||I.value.type===`classic`?(o(),C(`g`,Zt,[(o(!0),C(x,null,h(G.value.filter(e=>!e.ghost),(e,t)=>(o(),C(`path`,{d:I.value.type===`classic`?e.arcSlice:q.value[t].path,stroke:I.value.style.chart.layout.donut.borderColorAuto?I.value.style.chart.backgroundColor:I.value.style.chart.layout.donut.borderColor,fill:F.value===t?I.value.style.chart.layout.donut.selectedColor:`transparent`,onMouseenter:n=>Q({datapoint:e,relativeIndex:t,seriesIndex:e.seriesIndex,show:!0}),onMouseleave:t=>Z({datapoint:e,seriesIndex:e.seriesIndex}),onClick:n=>$(e,t)},null,40,Qt))),256))])):(o(),C(`g`,$t,[w(`circle`,{cx:z.value.width/2,cy:z.value.height/2,r:W.value,fill:`transparent`,onMouseenter:a[0]||=e=>Q({datapoint:G.value[0],relativeIndex:0,seriesIndex:G.value[0].seriesIndex,show:!0}),onMouseleave:a[1]||=e=>Z({datapoint:G.value[0],seriesIndex:G.value[0].seriesIndex}),onClick:a[2]||=e=>$(G.value[0],i.i)},null,40,en)]))],64)):t(``,!0),I.value.type===`classic`?(o(),C(`g`,{key:12,ref_key:`G_hollow`,ref:Nn,class:`vue-data-ui-donut-hollow-labels`},[I.value.style.chart.layout.labels.hollow.total.show?(o(),C(`text`,{key:0,"text-anchor":`middle`,x:z.value.width/2,y:z.value.height/2-(I.value.style.chart.layout.labels.hollow.average.show?I.value.style.chart.layout.labels.hollow.total.fontSize:0)+I.value.style.chart.layout.labels.hollow.total.offsetY,fill:I.value.style.chart.layout.labels.hollow.total.color,"font-size":I.value.style.chart.layout.labels.hollow.total.fontSize,style:c(`font-weight:${I.value.style.chart.layout.labels.hollow.total.bold?`bold`:``}`)},l(I.value.style.chart.layout.labels.hollow.total.text),13,tn)):t(``,!0),I.value.style.chart.layout.labels.hollow.total.show?(o(),C(`text`,{key:1,"text-anchor":`middle`,x:z.value.width/2,y:z.value.height/2+I.value.style.chart.layout.labels.hollow.total.fontSize-(I.value.style.chart.layout.labels.hollow.average.show?I.value.style.chart.layout.labels.hollow.total.fontSize:0)+I.value.style.chart.layout.labels.hollow.total.value.offsetY,fill:I.value.style.chart.layout.labels.hollow.total.value.color,"font-size":I.value.style.chart.layout.labels.hollow.total.value.fontSize,style:c(`font-weight:${I.value.style.chart.layout.labels.hollow.total.value.bold?`bold`:``}`)},l(r(A)(I.value.style.chart.layout.labels.hollow.total.value.formatter,X.value,r(D)({p:I.value.style.chart.layout.labels.hollow.total.value.prefix,v:X.value,s:I.value.style.chart.layout.labels.hollow.total.value.suffix}))),13,nn)):t(``,!0),I.value.style.chart.layout.labels.hollow.average.show?(o(),C(`text`,{key:2,"text-anchor":`middle`,x:z.value.width/2,y:z.value.height/2+(I.value.style.chart.layout.labels.hollow.total.show?I.value.style.chart.layout.labels.hollow.average.fontSize:0)+I.value.style.chart.layout.labels.hollow.average.offsetY,fill:I.value.style.chart.layout.labels.hollow.average.color,"font-size":I.value.style.chart.layout.labels.hollow.average.fontSize,style:c(`font-weight:${I.value.style.chart.layout.labels.hollow.average.bold?`bold`:``}`)},l(I.value.style.chart.layout.labels.hollow.average.text),13,rn)):t(``,!0),I.value.style.chart.layout.labels.hollow.average.show?(o(),C(`text`,{key:3,"text-anchor":`middle`,x:z.value.width/2,y:z.value.height/2+(I.value.style.chart.layout.labels.hollow.total.show?I.value.style.chart.layout.labels.hollow.average.fontSize:0)+I.value.style.chart.layout.labels.hollow.average.fontSize+I.value.style.chart.layout.labels.hollow.average.value.offsetY,fill:I.value.style.chart.layout.labels.hollow.average.value.color,"font-size":I.value.style.chart.layout.labels.hollow.average.value.fontSize,style:c(`font-weight:${I.value.style.chart.layout.labels.hollow.average.value.bold?`bold`:``}`)},l(Mr.value||L.value?`--`:r(A)(I.value.style.chart.layout.labels.hollow.average.value.formatter,r(se)(Zr.value),r(D)({p:I.value.style.chart.layout.labels.hollow.average.value.prefix,v:r(se)(Zr.value),s:I.value.style.chart.layout.labels.hollow.average.value.suffix,r:I.value.style.chart.layout.labels.hollow.average.value.rounding}))),13,an)):t(``,!0)],512)):t(``,!0),(o(!0),C(x,null,h(K.value.filter(e=>!e.ghost),(n,a)=>(o(),C(`g`,{filter:ii(a),class:e({animated:I.value.useCssAnimation}),key:n.seriesIndex,opacity:ai(n)},[I.value.style.chart.layout.labels.dataLabels.useLabelSlots?(o(),C(`g`,sn,[(o(),C(`foreignObject`,{x:r(O)(n,!0).anchor===`end`?r(O)(n).x-120:r(O)(n,!0).anchor===`middle`?r(O)(n).x-60:r(O)(n).x,y:r(ue)(n)-(di.value?20:0),width:`120`,height:`60`,style:{overflow:`visible`}},[w(`div`,null,[d(i.$slots,`dataLabel`,ee({ref_for:!0},{datapoint:n,isBlur:!I.value.useBlurOnHover||[null,void 0].includes(F.value)||F.value===a,isSafari:di.value,isVisible:J(n)&&R.value.dataLabels.show,textAlign:r(O)(n,!0,16,!0).anchor,flexAlign:r(O)(n,!0,16).anchor,percentage:Jr(n,K.value)}),void 0,!0)])],8,cn))])):(o(),C(`g`,ln,[I.value.type===`classic`?(o(),C(x,{key:0},[J(n)&&R.value.dataLabels.show?(o(),C(`circle`,{key:0,cx:r(Y)[a]?.markerX??r(O)(n).x,cy:r(Y)[a]?.markerY??r(ue)(n)-3.5,fill:n.color,stroke:I.value.style.chart.backgroundColor,"stroke-width":1,r:3,filter:!I.value.useBlurOnHover||[null,void 0].includes(F.value)||F.value===a?``:`url(#blur_${P.value})`,onClick:e=>$(n,a),onMouseenter:e=>Q({datapoint:n,relativeIndex:a,seriesIndex:n.seriesIndex,show:!0}),onMouseleave:e=>Z({datapoint:n,seriesIndex:n.seriesIndex})},null,40,un)):t(``,!0),I.value.style.chart.layout.labels.dataLabels.oneLine||r(Y)[a]?ae((o(),C(`text`,{key:1,class:`vue-data-ui-datalabel-inline`,"text-anchor":r(Y)[a]?.textAnchor||r(O)(n,!0,12).anchor,x:r(Y)[a]?.labelX??r(O)(n,!0,12).x,y:r(Y)[a]?.labelY??r(ue)(n),onClick:e=>$(n,a),onMouseenter:e=>Q({datapoint:n,relativeIndex:a,seriesIndex:n.seriesIndex,show:!0}),onMouseleave:e=>Z({datapoint:n,seriesIndex:n.seriesIndex}),innerHTML:ni(n,a,!!r(Y)[a])},null,40,dn)),[[ne,J(n)&&R.value.dataLabels.show]]):(o(),C(x,{key:2},[ae(w(`text`,{class:`vue-data-ui-datalabel-value`,"text-anchor":r(Y)[a]?.textAnchor||r(O)(n,!0,12).anchor,x:r(Y)[a]?.labelX??r(O)(n,!0,12).x,y:r(Y)[a]?.labelY??r(ue)(n),fill:I.value.style.chart.layout.labels.percentage.color,"font-size":Yn.value+`px`,style:c(`font-weight:${I.value.style.chart.layout.labels.percentage.bold?`bold`:``}`),onClick:e=>$(n,a),onMouseenter:e=>Q({datapoint:n,relativeIndex:a,seriesIndex:n.seriesIndex,show:!0}),onMouseleave:e=>Z({datapoint:n,seriesIndex:n.seriesIndex})},l(mi(n)),45,fn),[[ne,J(n)&&R.value.dataLabels.show]]),ae(w(`text`,{class:`vue-data-ui-datalabel-name`,"text-anchor":r(Y)[a]?.textAnchor||r(O)(n).anchor,x:r(Y)[a]?.labelX??r(O)(n,!0,12).x,y:(r(Y)[a]?.labelY??r(ue)(n))+N.value*1.2,fill:I.value.style.chart.layout.labels.name.color,"font-size":N.value+`px`,style:c(`font-weight:${I.value.style.chart.layout.labels.name.bold?`bold`:``}`),onClick:e=>$(n,a),onMouseenter:e=>Q({datapoint:n,relativeIndex:a,seriesIndex:n.seriesIndex,show:!0}),onMouseleave:e=>Z({datapoint:n,seriesIndex:n.seriesIndex}),innerHTML:r(Se)({content:n.name,fontSize:N.value,fill:I.value.style.chart.layout.labels.name.color,x:r(Y)[a]?.labelX??r(O)(n,!0,12).x,y:(r(Y)[a]?.labelY??r(ue)(n))+N.value})},null,44,pn),[[ne,J(n)&&R.value.dataLabels.show]])],64))],64)):t(``,!0),I.value.type===`polar`?(o(),C(x,{key:1},[J(n)&&R.value.dataLabels.show?(o(),C(`circle`,{key:0,cx:r(k)({initX:q.value[a].middlePoint.x,initY:q.value[a].middlePoint.y,offset:24,centerX:z.value.width/2,centerY:z.value.height/2}).x,cy:r(k)({initX:q.value[a].middlePoint.x,initY:q.value[a].middlePoint.y,offset:24,centerX:z.value.width/2,centerY:z.value.height/2}).y,fill:n.color,stroke:I.value.style.chart.backgroundColor,"stroke-width":1,r:3,filter:!I.value.useBlurOnHover||[null,void 0].includes(F.value)||F.value===a?``:`url(#blur_${P.value})`,onClick:e=>$(n,a),onMouseenter:e=>Q({datapoint:n,relativeIndex:a,seriesIndex:n.seriesIndex,show:!0}),onMouseleave:e=>Z({datapoint:n,seriesIndex:n.seriesIndex}),style:c({transition:L.value||!I.value.serieToggleAnimation.show?`none`:`all ${I.value.serieToggleAnimation.durationMs}ms ease-in-out`})},null,44,mn)):t(``,!0),I.value.style.chart.layout.labels.dataLabels.oneLine?ae((o(),C(`text`,{key:1,class:`vue-data-ui-datalabel-inline`,"text-anchor":Gr(q.value[a].middlePoint),x:r(k)({initX:q.value[a].middlePoint.x,initY:q.value[a].middlePoint.y,offset:42,centerX:z.value.width/2,centerY:z.value.height/2}).x,y:r(k)({initX:q.value[a].middlePoint.x,initY:q.value[a].middlePoint.y,offset:42,centerX:z.value.width/2,centerY:z.value.height/2}).y,style:c({transition:L.value||!I.value.serieToggleAnimation.show?`none`:`all ${I.value.serieToggleAnimation.durationMs}ms ease-in-out`}),onClick:e=>$(n,a),onMouseenter:e=>Q({datapoint:n,relativeIndex:a,seriesIndex:n.seriesIndex,show:!0}),onMouseleave:e=>Z({datapoint:n,seriesIndex:n.seriesIndex}),innerHTML:ri(n,a)},null,44,hn)),[[ne,J(n)&&R.value.dataLabels.show]]):(o(),C(x,{key:2},[J(n)&&R.value.dataLabels.show?(o(),C(`text`,{key:0,class:`vue-data-ui-datalabel-value`,"text-anchor":Gr(q.value[a].middlePoint),x:r(k)({initX:q.value[a].middlePoint.x,initY:q.value[a].middlePoint.y,offset:42,centerX:z.value.width/2,centerY:z.value.height/2}).x,y:r(k)({initX:q.value[a].middlePoint.x,initY:q.value[a].middlePoint.y,offset:42,centerX:z.value.width/2,centerY:z.value.height/2}).y,fill:I.value.style.chart.layout.labels.percentage.color,"font-size":Yn.value,style:c({transition:L.value||!I.value.serieToggleAnimation.show?`none`:`all ${I.value.serieToggleAnimation.durationMs}ms ease-in-out`,fontWeight:I.value.style.chart.layout.labels.percentage.bold?`bold`:`normal`}),onClick:e=>$(n,a),onMouseenter:e=>Q({datapoint:n,relativeIndex:a,seriesIndex:n.seriesIndex,show:!0}),onMouseleave:e=>Z({datapoint:n,seriesIndex:n.seriesIndex})},l(mi(n)),45,gn)):t(``,!0),J(n)&&R.value.dataLabels.show?(o(),C(`text`,{key:1,class:`vue-data-ui-datalabel-name`,"text-anchor":Gr(q.value[a].middlePoint),x:r(k)({initX:q.value[a].middlePoint.x,initY:q.value[a].middlePoint.y,offset:42,centerX:z.value.width/2,centerY:z.value.height/2}).x,y:r(k)({initX:q.value[a].middlePoint.x,initY:q.value[a].middlePoint.y,offset:42,centerX:z.value.width/2,centerY:z.value.height/2}).y+N.value*1.2,fill:I.value.style.chart.layout.labels.name.color,"font-size":N.value,style:c({transition:L.value||!I.value.serieToggleAnimation.show?`none`:`all ${I.value.serieToggleAnimation.durationMs}ms ease-in-out`,fontWeight:I.value.style.chart.layout.labels.name.bold?`bold`:`normal`}),onClick:e=>$(n,a),onMouseenter:e=>Q({datapoint:n,relativeIndex:a,seriesIndex:n.seriesIndex,show:!0}),onMouseleave:e=>Z({datapoint:n,seriesIndex:n.seriesIndex}),innerHTML:r(Se)({content:n.name,fontSize:Yn.value,fill:I.value.style.chart.layout.labels.name.color,x:r(k)({initX:q.value[a].middlePoint.x,initY:q.value[a].middlePoint.y,offset:42,centerX:z.value.width/2,centerY:z.value.height/2}).x,y:r(k)({initX:q.value[a].middlePoint.x,initY:q.value[a].middlePoint.y,offset:42,centerX:z.value.width/2,centerY:z.value.height/2}).y+N.value*1.2})},null,44,_n)):t(``,!0)],64))],64)):t(``,!0)])),R.value.dataLabels.show&&I.value.style.chart.comments.show&&n.comment?(o(),C(`g`,vn,[J(n)&&I.value.type===`classic`?(o(),C(`foreignObject`,{key:0,x:I.value.style.chart.comments.offsetX+(r(O)(n,!0).anchor===`end`?r(O)(n).x-I.value.style.chart.comments.width:r(O)(n,!0).anchor===`middle`?r(O)(n).x-I.value.style.chart.comments.width/2:r(O)(n).x),y:r(ue)(n)+24+I.value.style.chart.comments.offsetY,width:I.value.style.chart.comments.width,height:`200`,style:{overflow:`visible`,"pointer-events":`none`}},[w(`div`,null,[d(i.$slots,`plot-comment`,{plot:{...n,textAlign:r(O)(n,!0,16,!0).anchor,flexAlign:r(O)(n,!0,16).anchor,isFirstLoad:L.value}},void 0,!0)])],8,yn)):t(``,!0),J(n)&&I.value.type===`polar`?(o(),C(`foreignObject`,{key:1,x:I.value.style.chart.comments.offsetX+(Gr(q.value[a].middlePoint)===`end`?r(k)({initX:q.value[a].middlePoint.x,initY:q.value[a].middlePoint.y,offset:42,centerX:z.value.width/2,centerY:z.value.height/2}).x-I.value.style.chart.comments.width:Gr(q.value[a].middlePoint)===`middle`?r(k)({initX:q.value[a].middlePoint.x,initY:q.value[a].middlePoint.y,offset:42,centerX:z.value.width/2,centerY:z.value.height/2}).x-I.value.style.chart.comments.width/2:r(k)({initX:q.value[a].middlePoint.x,initY:q.value[a].middlePoint.y,offset:42,centerX:z.value.width/2,centerY:z.value.height/2}).x),y:Kr(q.value[a])+I.value.style.chart.comments.offsetY,width:I.value.style.chart.comments.width,height:`200`,style:c({transition:L.value||!I.value.serieToggleAnimation.show?`none`:`all ${I.value.serieToggleAnimation.durationMs}ms ease-in-out`,overflow:`visible`,pointerEvents:`none`})},[w(`div`,null,[d(i.$slots,`plot-comment`,{plot:{...n,textAlign:Gr(q.value[a].middlePoint),flexAlign:Gr(q.value[a].middlePoint),isFirstLoad:L.value}},void 0,!0)])],12,bn)):t(``,!0)])):t(``,!0)],10,on))),128)),d(i.$slots,`svg`,{svg:{...z.value,isPrintingImg:r(Cr)|r(wr)|qn.value,isPrintingSvg:Jn.value}},void 0,!0)],512)],14,ut)),i.$slots.watermark?(o(),C(`div`,xn,[d(i.$slots,`watermark`,v(s({isPrinting:r(Cr)||r(wr)||qn.value||Jn.value})),void 0,!0)])):t(``,!0),w(`div`,{id:`legend-bottom-${P.value}`},null,8,Sn),Wn.value?(o(),f(g,{key:5,to:I.value.style.chart.legend.position===`top`?`#legend-top-${P.value}`:`#legend-bottom-${P.value}`},[w(`div`,{ref_key:`chartLegend`,ref:In},[I.value.style.chart.legend.show?(o(),f(Xe,{key:`legend_${Un.value}`,legendSet:Vr.value,config:Hr.value,onClickMarker:a[3]||=({i:e})=>Ir(e),isCursorPointer:or.value},m({item:b(({legend:e,index:t})=>[w(`div`,{style:c(`opacity:${H.value.includes(t)?.5:1}`),onClick:t=>e.segregate()},l(e.display),13,Cn)]),legendToggle:b(()=>[Vr.value.length>2&&I.value.style.chart.legend.selectAllToggle.show&&!r(cr)?(o(),f(Ge,{key:0,backgroundColor:I.value.style.chart.legend.selectAllToggle.backgroundColor,color:I.value.style.chart.legend.selectAllToggle.color,fontSize:I.value.style.chart.legend.fontSize,checked:H.value.length>0,isCursorPointer:or.value,onToggle:Fr},null,8,[`backgroundColor`,`color`,`fontSize`,`checked`,`isCursorPointer`])):t(``,!0)]),_:2},[i.$slots.pattern?{name:`legend-pattern`,fn:b(({legend:e,index:t})=>[u(He,{shape:e.shape,radius:30,stroke:`none`,plot:{x:30,y:30},fill:`url(#pattern_${P.value}_${t})`},null,8,[`shape`,`fill`])]),key:`0`}:void 0]),1032,[`legendSet`,`config`,`isCursorPointer`])):t(``,!0),d(i.$slots,`legend`,{legend:Vr.value},void 0,!0)],512)],8,[`to`])):t(``,!0),i.$slots.source?(o(),C(`div`,{key:6,ref_key:`source`,ref:zn,dir:`auto`},[d(i.$slots,`source`,{},void 0,!0)],512)):t(``,!0),i.$slots.hollow?(o(),C(`div`,wn,[d(i.$slots,`hollow`,v(s({total:X.value,average:Zr.value,dataset:B.value})),void 0,!0)])):t(``,!0),u(r(et),{teleportTo:I.value.style.chart.tooltip.teleportTo,show:R.value.showTooltip&&nr.value,backgroundColor:I.value.style.chart.tooltip.backgroundColor,color:I.value.style.chart.tooltip.color,fontSize:I.value.style.chart.tooltip.fontSize,borderRadius:I.value.style.chart.tooltip.borderRadius,borderColor:I.value.style.chart.tooltip.borderColor,borderWidth:I.value.style.chart.tooltip.borderWidth,backgroundOpacity:I.value.style.chart.tooltip.backgroundOpacity,position:I.value.style.chart.tooltip.position,offsetY:I.value.style.chart.tooltip.offsetY,parent:M.value,content:rr.value,isCustom:ei.value,isFullscreen:li.value,smooth:I.value.style.chart.tooltip.smooth,backdropFilter:I.value.style.chart.tooltip.backdropFilter,smoothForce:I.value.style.chart.tooltip.smoothForce,smoothSnapThreshold:I.value.style.chart.tooltip.smoothSnapThrehsold},{"tooltip-before":b(()=>[d(i.$slots,`tooltip-before`,v(s({...$r.value})),void 0,!0)]),"tooltip-after":b(()=>[d(i.$slots,`tooltip-after`,v(s({...$r.value})),void 0,!0)]),_:3},8,[`teleportTo`,`show`,`backgroundColor`,`color`,`fontSize`,`borderRadius`,`borderColor`,`borderWidth`,`backgroundOpacity`,`position`,`offsetY`,`parent`,`content`,`isCustom`,`isFullscreen`,`smooth`,`backdropFilter`,`smoothForce`,`smoothSnapThreshold`]),jn.value&&I.value.userOptions.buttons.table?(o(),f(re(Si.value.component),ee({key:8},Si.value.props,{ref_key:`tableUnit`,ref:Gn,onClose:Ci}),m({content:b(()=>[(o(),f(r(rt),{key:`table_${Hn.value}`,colNames:ci.value.colNames,head:ci.value.head,body:ci.value.body,config:ci.value.config,title:I.value.table.useDialog?``:Si.value.title,withCloseButton:!I.value.table.useDialog,isCursorPointer:or.value,onClose:Ci},{th:b(({th:e})=>[w(`div`,{innerHTML:e,style:{display:`flex`,"align-items":`center`}},null,8,Tn)]),td:b(({td:e})=>[n(l(e.name?e.name:isNaN(Number(e))?e.includes(`%`)?e:r(A)(I.value.style.chart.layout.labels.percentage.formatter,e,r(D)({v:e,s:`%`,r:I.value.style.chart.layout.labels.percentage.rounding})):r(A)(I.value.style.chart.layout.labels.value.formatter,e,r(D)({p:I.value.style.chart.layout.labels.dataLabels.prefix,v:e,s:I.value.style.chart.layout.labels.dataLabels.suffix,r:I.value.style.chart.layout.labels.value.rounding}))),1)]),_:1},8,[`colNames`,`head`,`body`,`config`,`title`,`withCloseButton`,`isCursorPointer`]))]),_:2},[I.value.table.useDialog?{name:`title`,fn:b(()=>[n(l(Si.value.title),1)]),key:`0`}:void 0,I.value.table.useDialog?{name:`actions`,fn:b(()=>[w(`button`,{tabindex:`0`,class:`vue-ui-user-options-button`,onClick:a[4]||=e=>si(I.value.userOptions.callbacks.csv),style:c({cursor:or.value?`pointer`:`default`})},[u(r(tt),{name:`fileCsv`,stroke:Si.value.props.color},null,8,[`stroke`])],4)]),key:`1`}:void 0]),1040)):t(``,!0),d(i.$slots,`skeleton`,{},()=>[r(cr)?(o(),f(Ie,{key:0})):t(``,!0)],!0)],46,ct))}},[[`__scopeId`,`data-v-da3fce96`]]),Dn=Object.freeze(Object.defineProperty({__proto__:null,default:En},Symbol.toStringTag,{value:`Module`}));export{En as V,Dn as a,st as v};