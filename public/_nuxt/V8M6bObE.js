const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./ByvxprxI.js","./CRSLCJ2m.js","./BLt7TXlb.js","./xh7dz5-d.js","./CWNsAIol.js","./Cf-0F-2c.js","./8DvoFuCx.js","./B9jcbJ_P.js","./CH8pva4p.js","./C0O4I1kb.js","./CBD7ngdF.js","./DdyLBgN8.js","./C66xQW7K.js","./DuIAB7Tu.js","./DHC76net.js","./BDmUravP.js","./D7-tWLRc.js","./CLh_3NxX.js","./YZkb6lnT.js","./CB2Wh4RA.js","./D4ushAer.js","./CMjlbb0z.js","./BIZzPpPz.js","./CHaYztGl.js","./BEpjx3T_.js","./Cme7ewGR.js","./D4v1zV2y.js","./CLl0-3D6.js","./BwaPX4qL.js","./DMqKe8aR.js","./BIodG7vT.js"])))=>i.map(i=>d[i]);
import{At as e,C as t,D as n,Dt as r,G as i,H as a,J as o,M as s,Mt as c,Nt as l,O as ee,Q as u,R as te,S as d,St as ne,T as re,Tt as ie,Z as f,_ as ae,b as p,et as oe,jt as m,k as h,lt as g,m as _,ot as se,st as ce,w as v,x as y,yt as b,z as le}from"./BLt7TXlb.js";import{t as x}from"./YZkb6lnT.js";import{C as ue,Ct as de,H as fe,J as pe,Lt as me,Mt as he,N as ge,Nt as _e,Ot as ve,P as ye,Q as be,V as xe,W as Se,_ as Ce,_t as we,a as Te,bt as Ee,dt as De,h as S,it as C,m as Oe,n as ke,s as Ae,vt as w,wt as je,y as Me}from"./Cf-0F-2c.js";import{n as Ne}from"./tZv40UlZ.js";import{n as Pe,t as Fe}from"./8DvoFuCx.js";import{t as Ie}from"./Cme7ewGR.js";import{t as Le}from"./CWNsAIol.js";import{n as Re,t as ze}from"./D4ushAer.js";import{t as Be}from"./CLl0-3D6.js";import{t as Ve}from"./BwaPX4qL.js";import{t as He}from"./oZ4LAWkj.js";import{t as Ue}from"./BDmUravP.js";import{t as We}from"./BIZzPpPz.js";import{a as Ge,n as Ke}from"./D4v1zV2y.js";import{t as qe}from"./CB2Wh4RA.js";import{t as Je}from"./BEpjx3T_.js";import{t as Ye}from"./DMqKe8aR.js";import{t as Xe}from"./CMjlbb0z.js";import{t as Ze}from"./BeV_u7Kr.js";var Qe={userOptions:{show:!1},style:{chart:{layout:{grid:{showVerticalLines:!1}},dialog:{donutChart:{userOptions:{show:!1},style:{chart:{legend:{show:!1}}}}},legend:{show:!1}}}},$e={userOptions:{show:!1},style:{chart:{backgroundColor:`#1A1A1A`,color:`#CCCCCC`,zoom:{color:`#4A4A4A`,highlightColor:`#9A9A9A`},dialog:{backgroundColor:`#1A1A1A`,color:`#CCCCCC`,header:{backgroundColor:`#1A1A1A`,color:`#CCCCCC`},donutChart:{userOptions:{show:!1},style:{chart:{backgroundColor:`#1A1A1A`,color:`#CCCCCC`,layout:{labels:{percentage:{color:`#CCCCCC`},name:{color:`#CCCCCC`},hollow:{total:{color:`#CCCCCC`,value:{color:`#CCCCCC`}},average:{color:`#CCCCCC`,value:{color:`#CCCCCC`}}}}},legend:{show:!1,backgroundColor:`#1A1A1A`,color:`#CCCCCC`,selectAllToggle:{backgroundColor:`#3A3A3A`,color:`#CCCCCC`}},title:{color:`#CCCCCC`,subtitle:{color:`#757575`}},tooltip:{backgroundColor:`#1A1A1A`,backgroundOpacity:70,color:`#CCCCCC`,borderColor:`#5A5A5A`}}},table:{th:{backgroundColor:`#1A1A1A`,color:`#CCCCCC`},td:{backgroundColor:`#1A1A1A`,color:`#CCCCCC`}}}},layout:{grid:{showVerticalLines:!1,stroke:`#5A5A5A`,yAxis:{dataLabels:{color:`#CCCCCC`}},xAxis:{dataLabels:{color:`#CCCCCC`}}},line:{stroke:`#4A4A4A`},highlighter:{color:`#CCCCCC`},dataLabels:{color:`#CCCCCC`}},legend:{show:!1,backgroundColor:`#1A1A1A`,color:`#CCCCCC`,selectAllToggle:{backgroundColor:`#3A3A3A`,color:`#CCCCCC`}},title:{color:`#CCCCCC`,subtitle:{color:`#757575`}}}},table:{th:{backgroundColor:`#1A1A1A`,color:`#CCCCCC`},td:{backgroundColor:`#1A1A1A`,color:`#CCCCCC`}}},et={style:{chart:{backgroundColor:`#1A1A1A`,color:`#CCCCCC`,zoom:{color:`#4A4A4A`,highlightColor:`#9A9A9A`},dialog:{backgroundColor:`#1A1A1A`,color:`#CCCCCC`,header:{backgroundColor:`#1A1A1A`,color:`#CCCCCC`},donutChart:{style:{chart:{backgroundColor:`#1A1A1A`,color:`#CCCCCC`,layout:{labels:{percentage:{color:`#CCCCCC`},name:{color:`#CCCCCC`},hollow:{total:{color:`#CCCCCC`,value:{color:`#CCCCCC`}},average:{color:`#CCCCCC`,value:{color:`#CCCCCC`}}}}},legend:{backgroundColor:`#1A1A1A`,color:`#CCCCCC`,selectAllToggle:{backgroundColor:`#3A3A3A`,color:`#CCCCCC`}},title:{color:`#CCCCCC`,subtitle:{color:`#757575`}},tooltip:{backgroundColor:`#1A1A1A`,backgroundOpacity:70,color:`#CCCCCC`,borderColor:`#5A5A5A`}}},table:{th:{backgroundColor:`#1A1A1A`,color:`#CCCCCC`},td:{backgroundColor:`#1A1A1A`,color:`#CCCCCC`}}}},layout:{grid:{stroke:`#5A5A5A`,yAxis:{dataLabels:{color:`#CCCCCC`}},xAxis:{dataLabels:{color:`#CCCCCC`}}},line:{stroke:`#4A4A4A`},highlighter:{color:`#CCCCCC`},dataLabels:{color:`#CCCCCC`}},legend:{backgroundColor:`#1A1A1A`,color:`#CCCCCC`,selectAllToggle:{backgroundColor:`#3A3A3A`,color:`#CCCCCC`}},title:{color:`#CCCCCC`,subtitle:{color:`#757575`}}}},table:{th:{backgroundColor:`#1A1A1A`,color:`#CCCCCC`},td:{backgroundColor:`#1A1A1A`,color:`#CCCCCC`}}},tt={style:{chart:{backgroundColor:`#FFF8E1`,color:`#424242`,zoom:{color:`#5D4037`,highlightColor:`#FF8A65`},dialog:{backgroundColor:`#FFF8E1`,color:`#424242`,header:{backgroundColor:`##FFF8E1`,color:`#424242`},donutChart:{style:{chart:{backgroundColor:`##FFF8E1`,color:`#424242`,layout:{labels:{percentage:{color:`#424242`},name:{color:`#424242`},hollow:{total:{color:`#424242`,value:{color:`#424242`}},average:{color:`#424242`,value:{color:`#424242`}}}}},legend:{backgroundColor:`##FFF8E1`,color:`#424242`,selectAllToggle:{backgroundColor:`#5D4037`,color:`#FFF8E1`}},title:{color:`#424242`,subtitle:{color:`#757575`}},tooltip:{backgroundColor:`#FFECB3`,backgroundOpacity:30,color:`#424242`,borderColor:`#FF8A65`}}},table:{th:{backgroundColor:`#1A1A1A`,color:`#CCCCCC`},td:{backgroundColor:`#1A1A1A`,color:`#CCCCCC`}}}},layout:{grid:{stroke:`#5D4037`,showVerticalLines:!1,yAxis:{dataLabels:{color:`#424242`}},xAxis:{dataLabels:{color:`#424242`}}},line:{stroke:`#5D4037`},highlighter:{color:`#424242`},dataLabels:{color:`#424242`}},legend:{backgroundColor:`#FFF8E1`,color:`#424242`,selectAllToggle:{backgroundColor:`#5D4037`,color:`#FFF8E1`}},title:{color:`#424242`,subtitle:{color:`#757575`}}}},table:{th:{backgroundColor:`#FFF8E1`,color:`#424242`},td:{backgroundColor:`#FFF8E1`,color:`#424242`}}},nt={style:{chart:{backgroundColor:`#1E1E1E`,color:`#BDBDBD`,zoom:{color:`#5D4037`,highlightColor:`#FF8A65`},dialog:{backgroundColor:`#1E1E1E`,color:`#BDBDBD`,header:{backgroundColor:`#1E1E1E`,color:`#BDBDBD`},donutChart:{style:{chart:{backgroundColor:`#1E1E1E`,color:`#BDBDBD`,layout:{labels:{percentage:{color:`#BDBDBD`},name:{color:`#BDBDBD`},hollow:{total:{color:`#BDBDBD`,value:{color:`#BDBDBD`}},average:{color:`#BDBDBD`,value:{color:`#BDBDBD`}}}}},legend:{backgroundColor:`#1E1E1E`,color:`#BDBDBD`,selectAllToggle:{backgroundColor:`#3A3A3A`,color:`#BDBDBD`}},title:{color:`#FFF8E1`,subtitle:{color:`#BDBDBD`}},tooltip:{backgroundColor:`#1E1E1E`,backgroundOpacity:30,color:`#FFF8E1`,borderColor:`#FF8A65`}}},table:{th:{backgroundColor:`#1A1A1A`,color:`#CCCCCC`},td:{backgroundColor:`#1A1A1A`,color:`#CCCCCC`}}}},layout:{grid:{stroke:`#5D4037`,showVerticalLines:!1,yAxis:{dataLabels:{color:`#BDBDBD`}},xAxis:{dataLabels:{color:`#BDBDBD`}}},line:{stroke:`#5D4037`},highlighter:{color:`#FFF8E1`},dataLabels:{color:`#BDBDBD`}},legend:{backgroundColor:`#1E1E1E`,color:`#BDBDBD`,selectAllToggle:{backgroundColor:`#3A3A3A`,color:`#BDBDBD`}},title:{color:`#FFF8E1`,subtitle:{color:`#BDBDBD`}}}},table:{th:{backgroundColor:`#1E1E1E`,color:`#BDBDBD`},td:{backgroundColor:`#1E1E1E`,color:`#BDBDBD`}}},rt={style:{chart:{backgroundColor:`#1A1A1A`,color:`#99AA99`,zoom:{color:`#5F6A5F`,highlightColor:`#66CC66`},dialog:{backgroundColor:`#1A1A1A`,color:`#BDBDBD`,header:{backgroundColor:`#1A1A1A`,color:`#BDBDBD`},donutChart:{style:{chart:{backgroundColor:`#1A1A1A`,color:`#99AA99`,layout:{labels:{percentage:{color:`#99AA99`},name:{color:`#99AA99`},hollow:{total:{color:`#99AA99`,value:{color:`#99AA99`}},average:{color:`#99AA99`,value:{color:`#99AA99`}}}}},legend:{backgroundColor:`#1A1A1A`,color:`#99AA99`,selectAllToggle:{backgroundColor:`#3A3A3A`,color:`#99AA99`}},title:{color:`#66CC66`,subtitle:{color:`#99AA99`}},tooltip:{backgroundColor:`#2A2F2A`,color:`#AACCAA`,borderColor:`#66CC66`}}},table:{th:{backgroundColor:`#1A1A1A`,color:`#CCCCCC`},td:{backgroundColor:`#1A1A1A`,color:`#CCCCCC`}}}},layout:{grid:{show:!1,stroke:`#5F6A5F`,yAxis:{dataLabels:{color:`#AACCAA`}},xAxis:{dataLabels:{color:`#AACCAA`}}},line:{stroke:`#5F6A5F`},highlighter:{color:`#66CC66`},dataLabels:{color:`#AACCAA`}},legend:{backgroundColor:`#1A1A1A`,color:`#99AA99`,selectAllToggle:{backgroundColor:`#3A3A3A`,color:`#99AA99`}},title:{color:`#66CC66`,subtitle:{color:`#99AA99`}}}},table:{th:{backgroundColor:`#1A1A1A`,color:`#99AA99`},td:{backgroundColor:`#1A1A1A`,color:`#AACCAA`}}},it={style:{chart:{backgroundColor:`#fbfafa`,color:`#8A9892`,zoom:{color:`#E0CFC3`,highlightColor:`#8F837A`},dialog:{backgroundColor:`#fbfafa`,color:`#8A9892`,header:{backgroundColor:`#fbfafa`,color:`#8A9892`},donutChart:{style:{chart:{backgroundColor:`#fbfafa`,color:`#99AA99`,layout:{labels:{percentage:{color:`#A0AC94`},name:{color:`#A0AC94`},hollow:{total:{color:`#A0AC94`,value:{color:`#A0AC94`}},average:{color:`#A0AC94`,value:{color:`#A0AC94`}}}}},legend:{backgroundColor:`#fbfafa`,color:`#A0AC94`,selectAllToggle:{backgroundColor:`#E0CFC3`,color:`#8F837A`}},title:{color:`#8A9892`,subtitle:{color:`#99AA99`}},tooltip:{backgroundColor:`#fbfafa`,color:`#8A9892`}}},table:{th:{backgroundColor:`#1A1A1A`,color:`#CCCCCC`},td:{backgroundColor:`#1A1A1A`,color:`#CCCCCC`}}}},layout:{grid:{show:!1,yAxis:{dataLabels:{show:!1}},xAxis:{dataLabels:{show:!1}}},line:{stroke:`#DCDFE7`},highlighter:{color:`#8F837A`},dataLabels:{color:`#A0AC94`}},legend:{backgroundColor:`#fbfafa`,color:`#99AA99`,selectAllToggle:{backgroundColor:`#E0CFC3`,color:`#8F837A`}},title:{color:`#8A9892`,subtitle:{color:`#99AA99`}}}},table:{th:{backgroundColor:`#fbfafa`,color:`#8F837A`},td:{backgroundColor:`#fbfafa`,color:`#8F837A`}}},at={style:{chart:{backgroundColor:`#f6f6fb`,color:`#50606C`,zoom:{color:`#92B0AB`,highlightColor:`#50606C`},dialog:{backgroundColor:`#f6f6fb`,color:`#50606C`,header:{backgroundColor:`#f6f6fb`,color:`#50606C`},donutChart:{style:{chart:{backgroundColor:`#f6f6fb`,color:`#50606C`,layout:{labels:{percentage:{color:`#61747E`},name:{color:`#61747E`},hollow:{total:{color:`#61747E`,value:{color:`#61747E`}},average:{color:`#61747E`,value:{color:`#61747E`}}}}},legend:{backgroundColor:`#f6f6fb`,color:`#61747E`,selectAllToggle:{backgroundColor:`#50606C`,color:`#f6f6fb`}},title:{color:`#50606C`,subtitle:{color:`#718890`}},tooltip:{backgroundColor:`#f6f6fb`,color:`#50606C`}}},table:{th:{backgroundColor:`#1A1A1A`,color:`#CCCCCC`},td:{backgroundColor:`#1A1A1A`,color:`#CCCCCC`}}}},layout:{grid:{stroke:`#BBC4D3`,yAxis:{dataLabels:{color:`#61747E`}},xAxis:{dataLabels:{color:`#61747E`}}},line:{stroke:`#92B0AB`},highlighter:{color:`#50606C`},dataLabels:{color:`#61747E`}},legend:{backgroundColor:`#f6f6fb`,color:`#61747E`,selectAllToggle:{backgroundColor:`#50606C`,color:`#f6f6fb`}},title:{color:`#50606C`,subtitle:{color:`#718890`}}}},table:{th:{backgroundColor:`#f6f6fb`,color:`#50606C`},td:{backgroundColor:`#f6f6fb`,color:`#50606C`}}},ot={default:{},minimal:Qe,minimalDark:$e,dark:et,celebration:tt,celebrationNight:nt,hack:rt,zen:it,concrete:at},st=Object.freeze(Object.defineProperty({__proto__:null,celebration:tt,celebrationNight:nt,concrete:at,dark:et,default:ot,hack:rt,minimal:Qe,minimalDark:$e,zen:it},Symbol.toStringTag,{value:`Module`})),ct=[`id`],lt=[`id`],ut=[`xmlns`,`viewBox`],dt=[`x`,`y`,`width`,`height`],ft=[`id`],pt=[`stop-color`],mt=[`stop-color`],ht=[`id`],gt=[`stop-color`],_t=[`stop-color`],vt=[`stop-color`],yt={key:1},bt=[`x1`,`x2`,`y1`,`y2`,`stroke`,`stroke-width`],xt=[`x1`,`x2`,`y1`,`y2`,`stroke`,`stroke-width`],St={key:0},Ct=[`x1`,`x2`,`y1`,`y2`,`stroke`,`stroke-width`],wt=[`font-size`,`fill`,`transform`],Tt=[`x`,`y`,`font-size`,`fill`],Et=[`x1`,`x2`,`y1`,`y2`,`stroke`,`stroke-width`],Dt=[`x`,`y`,`font-size`,`fill`,`font-weight`],Ot={key:0},kt=[`text-anchor`,`font-size`,`fill`,`transform`],At=[`text-anchor`,`font-size`,`fill`,`transform`,`innerHTML`],jt=[`x1`,`y1`,`x2`,`y2`,`stroke`,`stroke-width`],Mt={key:1},Nt=[`cx`,`cy`,`r`,`fill`],Pt={key:0},Ft={key:0},It=[`d`,`stroke`],Lt=[`text-anchor`,`x`,`y`,`fill`],Rt=[`cx`,`cy`,`r`,`fill`],zt={key:0},Bt=[`cx`,`cy`,`fill`],Vt={key:1},Ht=[`d`,`fill`,`stroke`],Ut={key:2},Wt=[`d`,`fill`,`stroke`],Gt=[`x`,`y`,`font-size`,`fill`],Kt=[`x`,`y`,`width`,`height`,`fill`],qt=[`x`,`y`,`width`,`height`,`onMouseenter`,`onMouseleave`,`onClick`],Jt={key:4,class:`vue-data-ui-watermark`},Yt=[`id`],Xt=[`onClick`],Zt={key:0},Qt={key:1},$t=Le({__name:`vue-ui-donut-evolution`,props:{config:{type:Object,default(){return{}}},dataset:{type:Array,default(){return[]}}},emits:[`selectLegend`,`copyAlt`],setup(Le,{expose:Qe,emit:$e}){let et=h(()=>x(()=>import(`./ByvxprxI.js`),__vite__mapDeps([0,1,2,3,4,5,6]),import.meta.url)),tt=h(()=>x(()=>import(`./B9jcbJ_P.js`),__vite__mapDeps([7,3,2,4,5]),import.meta.url)),nt=h(()=>x(()=>import(`./CH8pva4p.js`),__vite__mapDeps([8,2,3,4,5,9]),import.meta.url)),rt=h(()=>x(()=>import(`./CBD7ngdF.js`),__vite__mapDeps([10,2]),import.meta.url)),it=h(()=>x(()=>import(`./DdyLBgN8.js`),__vite__mapDeps([11,2,3,4,5,12,13]),import.meta.url)),at=h(()=>x(()=>import(`./DHC76net.js`),__vite__mapDeps([14,2,3,4,5,15,16,13]),import.meta.url)),st=h(()=>x(()=>import(`./CLh_3NxX.js`).then(e=>e.a),__vite__mapDeps([17,2,18,19,3,4,5,20,21,9,22,6,15,16,23,24,25,26,27,28,29]),import.meta.url)),$t=h(()=>x(()=>import(`./BIodG7vT.js`),__vite__mapDeps([30,2,3,4,5]),import.meta.url)),{vue_ui_donut_evolution:en}=Fe(),{isThemeValid:tn,warnInvalidTheme:nn}=Ve(),T=Le,E=b(_e()),D=b([]),O=b(null),rn=b(null),an=b(!1),k=b(null),A=b(null),on=b(null),sn=b(0),cn=b(0),ln=b(0),un=b(0),dn=b(0),fn=b(null),j=b(null),pn=b(null),mn=b(null),hn=b(!1),M=b(null),gn=b(null),N=b(!1),_n=b(!1),vn=b(null),yn=b(null),bn=b(null),xn=b(null),Sn=b(null),Cn=b(!1),P=ne(null),wn=ne(null),Tn=b(null),En=$e,Dn=p(()=>!!T.dataset&&T.dataset.length);i(()=>{hn.value=!0,kn()});let On=p(()=>!!F.value.debug);function kn(){if(xe(T.dataset)?(S({componentName:`VueUiDonutEvolution`,type:`dataset`,debug:On.value}),Nn.value=!0):T.dataset.length&&T.dataset.forEach((e,t)=>{Oe({datasetObject:e,requiredAttributes:[`name`,`values`]}).forEach(e=>{S({componentName:`VueUiDonutEvolution`,type:`datasetSerieAttribute`,property:e,index:t,debug:On.value}),Nn.value=!0})}),xe(T.dataset)||(Nn.value=F.value.loading),setTimeout(()=>{Cn.value=!0},10),In(),F.value.responsive){let e=Ke(()=>{Cn.value=!1;let{width:e,height:t}=Ge({chart:A.value,title:F.value.style.chart.title.text?vn.value:null,legend:F.value.style.chart.legend.show?yn.value:null,slicer:F.value.style.chart.zoom.show&&Pn.value>1?Sn.value:null,source:bn.value});requestAnimationFrame(()=>{L.value.width=e,L.value.height=t-12,clearTimeout(Tn.value),Tn.value=setTimeout(()=>{Cn.value=!0},10)})});P.value&&(wn.value&&P.value.unobserve(wn.value),P.value.disconnect()),P.value=new ResizeObserver(e),wn.value=A.value.parentNode,P.value.observe(wn.value)}}let F=b(Hn()),I=p(()=>F.value.userOptions.useCursorPointer),An=p(()=>ye({defaultConfig:{useCssAnimation:!1,table:{show:!1},userOptions:{show:!1},style:{chart:{backgroundColor:`#99999930`,layout:{dataLabels:{show:!1},grid:{stroke:`#6A6A6A`,axis:{yLabel:``,xLabel:``},yAxis:{scaleMin:null,scaleMax:null,autoScale:!1,dataLabels:{show:!1}},xAxis:{dataLabels:{show:!1}}},line:{stroke:`#CACACA60`}},legend:{backgroundColor:`transparent`,showValue:!1,showPercentage:!1},zoom:{show:!1,startIndex:null,endIndex:null}}}},userConfig:F.value.skeletonConfig??{}})),{loading:jn,FINAL_DATASET:Mn,manualLoading:Nn}=ze({...ie(T),FINAL_CONFIG:F,prepareConfig:Hn,callback:()=>{Promise.resolve().then(async()=>{await In()})},skeletonDataset:T.config?.skeletonDataset??[{name:``,values:[1,2,3,5,8,13],color:`#AAAAAA`},{name:``,values:[1,2,3,5,8,13],color:`#BABABA`},{name:``,values:[1,2,3,5,8,13],color:`#CACACA`}],skeletonConfig:ye({defaultConfig:F.value,userConfig:An.value})}),L=b({width:F.value.style.chart.layout.width,height:F.value.style.chart.layout.height}),Pn=p(()=>Math.max(...Mn.value.map(e=>e.values.length))),R=b({start:0,end:Pn.value});function Fn(){In()}async function In(){await le(),await le();let{startIndex:e,endIndex:t}=F.value.style.chart.zoom,n=xn.value;R.value={start:0,max:U.value},(e!=null||t!=null)&&n?(e==null?(R.value.start=0,n.setStartValue(0)):n.setStartValue(e),t==null?(R.value.end=U.value,n.setEndValue(U.value)):n.setEndValue(Ln(t+1))):(R.value={start:0,end:U.value},cn.value+=1)}function Ln(e){let t=U.value;return e>t?t:e<0||F.value.style.chart.zoom.startIndex!==null&&e<F.value.style.chart.zoom.startIndex?F.value.style.chart.zoom.startIndex===null?1:F.value.style.chart.zoom.startIndex+1:e}let{userOptionsVisible:Rn,setUserOptionsVisibility:zn,keepUserOptionState:Bn}=Ye({config:F.value}),{svgRef:Vn}=Je({config:F.value.style.chart.title});function Hn(){let e=Pe({userConfig:T.config,defaultConfig:en}),t={},n=e.theme;if(n)if(!tn.value(e))nn(e),t=e;else{let r=Pe({userConfig:ot[n]||T.config,defaultConfig:e});t={...Pe({userConfig:T.config,defaultConfig:r}),customPalette:e.customPalette?e.customPalette:De[n]||C}}else t=e;return t}se(()=>T.config,e=>{jn.value||(F.value=Hn()),Rn.value=!F.value.userOptions.showOnChartHover,kn(),ln.value+=1,un.value+=1,dn.value+=1,z.value.showTable=F.value.table.show},{deep:!0}),se(()=>T.dataset,e=>{Array.isArray(e)&&e.length>0&&(Nn.value=!1),Fn()},{deep:!0});let{isPrinting:Un,isImaging:Wn,generatePdf:Gn,generateImage:Kn}=Ie({elementId:E.value,fileName:F.value.style.chart.title.text||`vue-ui-donut-evolution`,options:F.value.userOptions.print}),qn=p(()=>F.value.userOptions.show&&!F.value.style.chart.title.text),Jn=p(()=>Me(F.value.customPalette)),z=b({showTable:F.value.table.show});se(F,()=>{z.value={showTable:F.value.table.show}},{immediate:!0});let B=p(()=>({top:F.value.style.chart.layout.padding.top,right:F.value.style.chart.layout.padding.right,bottom:F.value.style.chart.layout.padding.bottom,left:F.value.style.chart.layout.padding.left}));function Yn(){let e=0;fn.value&&(e=Array.from(fn.value.querySelectorAll(`text`)).reduce((e,t)=>{let n=t.getComputedTextLength();return n>e?n:e},0));let t=mn.value?mn.value.getBoundingClientRect().width+F.value.style.chart.layout.grid.axis.yLabelOffsetX+F.value.style.chart.layout.grid.axis.fontSize:0;return e+t+5}let Xn=b(0),Zn=Ke(e=>{Xn.value=e},100);ce(e=>{let t=j.value;if(!t)return;let n=new ResizeObserver(e=>{Zn(e[0].contentRect.height)});n.observe(t),e(()=>n.disconnect())}),a(()=>{Xn.value=0});let Qn=p(()=>{let e=0;pn.value&&(e=pn.value.getBBox().height);let t=0;return j.value&&(t=Xn.value),e+t+F.value.style.chart.layout.grid.axis.fontSize+F.value.style.chart.layout.grid.xAxis.dataLabels.offsetY}),V=p(()=>{let e=Yn(),t=F.value.style.chart.layout.dataLabels.fontSize*3,n=L.value.width,r=L.value.height,i=B.value.left+e,a=n-B.value.right,o=n-i-B.value.right,s=r-B.value.top-B.value.bottom-t-Qn.value,c=B.value.top+t;return{top:c,left:i,right:a,bottom:r-B.value.bottom-Qn.value,absoluteHeight:r,absoluteWidth:n,centerX:i+Math.max(10,o)/2,centerY:c+Math.max(10,s)/2,width:Math.max(10,o),height:Math.max(10,s)}}),H=p(()=>(Mn.value.forEach((e,t)=>{[null,void 0].includes(e.name)&&S({componentName:`VueUiDonutEvolution`,type:`datasetSerieAttribute`,property:`name`,index:t,debug:On.value}),[null,void 0].includes(e.values)&&S({componentName:`VueUiDonutEvolution`,type:`datasetSerieAttribute`,property:`values`,index:t,debug:On.value})}),Mn.value.map((e,t)=>({...e,values:ve(e.values),color:we(e.color)||Jn.value[t]||C[t]||C[t%C.length],length:(e.values||[]).length,uid:_e()})))),$n=p(()=>H.value.filter(e=>!D.value.includes(e.uid)).map(e=>({...e,values:e.values.filter((e,t)=>t>=R.value.start&&t<=R.value.end)}))),U=p(()=>Math.max(...H.value.map(e=>e.length))),W=b([]),er=0;ce(()=>{let e=++er;(async()=>{let t=await Ne({values:F.value.style.chart.layout.grid.xAxis.dataLabels.values,maxDatapoints:U.value,formatter:F.value.style.chart.layout.grid.xAxis.dataLabels.datetimeFormatter,start:R.value.start,end:R.value.end});e===er&&(W.value=t)})()});let G=p(()=>V.value.width/(R.value.end-R.value.start)),tr=p(()=>{let e=[];for(let t=0;t<R.value.end-R.value.start;t+=1){let n=$n.value.map(e=>e.values[t]??null),r=n.filter(e=>[void 0,null].includes(e)).length===n.length,i=n.reduce((e,t)=>e+t,0),a=n.map(e=>e/i),o=V.value.left+G.value*t+G.value/2;e.push({index:t,percentages:a,subtotal:r||i<0?null:i,values:n,x:o})}return e}),nr=p(()=>{let e=Math.max(...tr.value.map(e=>e.subtotal).filter(e=>pe(e)))??1,t=Math.min(...tr.value.map(e=>e.subtotal).filter(e=>pe(e)))??0,n=Math.max(F.value.style.chart.layout.grid.yAxis.scaleMax??0,e),r;return r=F.value.style.chart.layout.grid.yAxis.scaleMin==null?0:Math.min(t,F.value.style.chart.layout.grid.yAxis.scaleMin),F.value.style.chart.layout.grid.yAxis.autoScale&&(r=t,n=e),r===n&&(r=n/2,n*=1.5),{max:n,min:r}}),K=p(()=>{let e=tr.value.length===1?nr.value.max*2:nr.value.max;return Ce(nr.value.min,e,F.value.style.chart.layout.grid.yAxis.dataLabels.steps)});function rr(e){return(e-K.value.min)/(K.value.max-K.value.min)}let ir=p(()=>K.value.ticks.map(e=>({y:V.value.bottom-V.value.height*rr(e),value:e}))),q=p(()=>{let e=tr.value,t=Math.max(...e.map(e=>e.subtotal));return e.length===1&&t*2,e.map((t,n)=>{let r=Math.min(V.value.width/24,G.value/2*.7),i=r>V.value.width/16?V.value.width/16:r,a=O.value===t.index?V.value.width/16:i,o=e.length>4?r*2:r*2>G.value/2*.7?G.value/2*.7:r*2,s=V.value.bottom-V.value.height*rr(t.subtotal),c=$n.value.map(e=>({color:e.color,name:e.name,value:e.values[n]??0})).toSorted((e,t)=>t.value-e.value);return{...t,y:s,radius:i,activeRadius:a,hoverRadius:o,donut:be({series:c},t.x,s,i,i,1.99999,2,1,360,105.25,i/2),donutHover:be({series:c},t.x,s,o,o,1.99999,2,1,360,105.25,o/2),donutFocus:be({series:c},V.value.centerX,V.value.centerY,V.value.height/3.6,V.value.height/3.6,1.99999,2,1,360,105.25,V.value.height/6)}})});function ar(e,t,n){return je(F.value.style.chart.layout.dataLabels.formatter,e,he({p:F.value.style.chart.layout.dataLabels.prefix,v:e,s:F.value.style.chart.layout.dataLabels.suffix,r:F.value.style.chart.layout.dataLabels.rounding}),{datapoint:t,index:n})}function or(e,t){return isNaN(e.value/ke(t,`value`))?0:(e.value/ke(t,`value`)*100).toFixed(0)+`%`}function sr(e){O.value=null,rn.value=null,F.value.events.datapointLeave&&F.value.events.datapointLeave({datapoint:e,seriesIndex:e.seriesIndex+R.value.start})}function cr(e){F.value.events.datapointEnter&&F.value.events.datapointEnter({datapoint:e,seriesIndex:e.index+R.value.start}),O.value=e.index,rn.value=e}let J=b(null);function lr(e,t){F.value.events.datapointClick&&F.value.events.datapointClick({datapoint:e,seriesIndex:e.index+R.value.start}),!(!e.subtotal||!F.value.style.chart.dialog.show)&&(rn.value=null,O.value=null,an.value=!0,k.value=e,Er(e),[null,void 0].includes(t)||(J.value=t))}let Y=p(()=>H.value.map((e,t)=>({name:e.name,value:e.values.slice(R.value.start,R.value.end).reduce((e,t)=>e+t,0),shape:`circle`,uid:e.uid,color:e.color})).sort((e,t)=>t.value-e.value).map((e,t)=>({...e,opacity:D.value.includes(e.uid)?.5:1,segregate:()=>X(e.uid),isSegregated:D.value.includes(e.uid),display:`${e.name}${F.value.style.chart.legend.showPercentage||F.value.style.chart.legend.showValue?`: `:``}${F.value.style.chart.legend.showValue?je(F.value.style.chart.layout.dataLabels.formatter,e.value,he({p:F.value.style.chart.layout.dataLabels.prefix,v:e.value,s:F.value.style.chart.layout.dataLabels.suffix,r:F.value.style.chart.legend.roundingValue}),{datapoint:e,seriesIndex:t}):``}${F.value.style.chart.legend.showPercentage?D.value.includes(e.uid)?`${F.value.style.chart.legend.showValue?` (`:``}- %${F.value.style.chart.legend.showValue?`)`:``}`:`${F.value.style.chart.legend.showValue?` (`:``}${isNaN(e.value/ur.value)?`-`:he({v:e.value/ur.value*100,s:`%`,r:F.value.style.chart.legend.roundingPercentage})}${F.value.style.chart.legend.showValue?`)`:``}`:``}`}))),ur=p(()=>q.value.map(e=>e.subtotal).reduce((e,t)=>e+t,0)),dr=p(()=>({cy:`donut-div-legend`,backgroundColor:F.value.style.chart.legend.backgroundColor,color:F.value.style.chart.legend.color,fontSize:F.value.style.chart.legend.fontSize,paddingBottom:12,fontWeight:F.value.style.chart.legend.bold?`bold`:``}));function fr(){D.value.length?D.value=[]:Y.value.forEach(e=>{D.value.push(e.uid)})}function X(e){if(D.value.includes(e))D.value=D.value.filter(t=>t!==e),En(`selectLegend`,$n.value);else{if(D.value.length===H.value.length-1)return;D.value.push(e),En(`selectLegend`,$n.value)}k.value&&lr(q.value.find((e,t)=>t===J.value))}function pr(e){return H.value.length?H.value.find(t=>t.name===e)||(F.value.debug&&console.warn(`VueUiDonutEvolution - Series name not found "${e}"`),null):(F.value.debug&&console.warn(`VueUiDonutEvolution - There are no series to show.`),null)}function mr(e){let t=pr(e);t!==null&&D.value.includes(t.uid)&&X(t.uid)}function hr(e){let t=pr(e);t!==null&&(D.value.includes(t.uid)||X(t.uid))}let Z=p(()=>{let e=[``].concat(H.value.filter(e=>!D.value.includes(e.uid)).map(e=>({name:e.name,color:e.color})),[`Î£`]),t=[];for(let e=0;e<U.value;e+=1){let n=H.value.filter(e=>!D.value.includes(e.uid)).map(t=>t.values[e]??0).reduce((e,t)=>e+t,0);t.push([W.value[e]?W.value[e].text:`-`].concat(H.value.filter(e=>!D.value.includes(e.uid)).map(t=>({value:t.values[e]??0,percentage:t.values[e]?t.values[e]/n*100:0})),[`${F.value.style.chart.layout.dataLabels.prefix}${Number(n.toFixed(F.value.table.td.roundingValue))}${F.value.style.chart.layout.dataLabels.suffix}`]))}return{head:e,body:t,config:{th:{backgroundColor:F.value.table.th.backgroundColor,color:F.value.table.th.color,outline:F.value.table.th.outline},td:{backgroundColor:F.value.table.td.backgroundColor,color:F.value.table.td.color,outline:F.value.table.td.outline},breakpoint:F.value.table.responsiveBreakpoint},colNames:[F.value.table.columnNames.period].concat(H.value.filter(e=>!D.value.includes(e.uid)).map(e=>e.name),F.value.table.columnNames.total)}});function gr(){return H.value}function _r(e=null){le(()=>{let t=[[F.value.style.chart.title.text],[F.value.style.chart.title.subtitle.text],[``]],n=[...Z.value.head.map(e=>e.name??e)],r=[...Z.value.body.map(e=>e.map(e=>e.value??e))],i=Te(t.concat([n]).concat(r));e?e(i):ge({csvContent:i,title:F.value.style.chart.title.text||`vue-ui-donut-evolution`})})}let Q=b(!1);function vr(e){Q.value=e,sn.value+=1}function yr(){z.value.showTable=!z.value.showTable}let br=b(!1);function xr(){br.value=!br.value}function Sr(e){return e.proportion*100>F.value.style.chart.donuts.hover.hideLabelsUnderValue}let Cr=b([]),wr=b({}),Tr=b(null);function Er(e){Cr.value=e.donut.map(e=>({name:e.name,values:[e.value],color:e.color})),wr.value=de({...F.value.style.chart.dialog.donutChart,responsive:!0,theme:F.value.theme}),Tr.value&&Tr.value.open()}async function Dr({scale:e=2}={}){if(!A.value)return;let{width:t,height:n}=A.value.getBoundingClientRect(),r=t/n,{imageUri:i,base64:a}=await Ue({domElement:A.value,base64:!0,img:!0,scale:e});return{imageUri:i,base64:a,title:F.value.style.chart.title.text,width:t,height:n,aspectRatio:r}}He({timeLabelsEls:j,timeLabels:W,slicer:R,configRef:F,rotationPath:[`style`,`chart`,`layout`,`grid`,`xAxis`,`dataLabels`,`rotation`],autoRotatePath:[`style`,`chart`,`layout`,`grid`,`xAxis`,`dataLabels`,`autoRotate`,`enable`],isAutoSize:!1,width:p(()=>L.value.width),height:p(()=>L.value.height),rotation:F.value.style.chart.layout.grid.xAxis.dataLabels.autoRotate.angle});let $=p(()=>{let e=F.value.table.useDialog&&!F.value.table.show,t=z.value.showTable;return{component:e?$t:et,title:`${F.value.style.chart.title.text}${F.value.style.chart.title.subtitle.text?`: ${F.value.style.chart.title.subtitle.text}`:``}`,props:e?{backgroundColor:F.value.table.th.backgroundColor,color:F.value.table.th.color,headerColor:F.value.table.th.color,headerBg:F.value.table.th.backgroundColor,isFullscreen:Q.value,fullscreenParent:A.value,forcedWidth:Math.min(800,window.innerWidth*.8),isCursorPointer:I.value}:{hideDetails:!0,config:{open:t,maxHeight:1e4,body:{backgroundColor:F.value.style.chart.backgroundColor,color:F.value.style.chart.color},head:{backgroundColor:F.value.style.chart.backgroundColor,color:F.value.style.chart.color}}}}});se(()=>z.value.showTable,e=>{F.value.table.show||(e&&F.value.table.useDialog&&M.value?M.value.open():`close`in M.value&&M.value.close())});function Or(){z.value.showTable=!1,gn.value&&gn.value.setTableIconState(!1)}let kr=p(()=>Y.value.map(e=>({...e,name:e.display}))),Ar=p(()=>F.value.style.chart.backgroundColor),jr=p(()=>F.value.style.chart.legend),{exportSvg:Mr,getSvg:Nr}=Be({svg:Vn,title:p(()=>F.value.style.chart.title),legend:jr,legendItems:kr,backgroundColor:Ar});async function Pr({isCb:e}){_n.value=!0,await le();try{if(e){let{blob:e,url:t,text:n,dataUrl:r}=await Nr();await Promise.resolve(F.value.userOptions.callbacks.svg({blob:e,url:t,text:n,dataUrl:r}))}else await Promise.resolve(Mr())}finally{_n.value=!1}}function Fr(e){if(e?.stage===`start`){N.value=!0;return}if(e?.stage===`end`){N.value=!1;return}Kn()}async function Ir(){if(En(`copyAlt`,{config:F.value,dataset:q.value}),!F.value.userOptions.callbacks.altCopy){console.warn("Vue Data UI - A callback must be set for `altCopy` in userOptions.");return}await Promise.resolve(F.value.userOptions.callbacks.altCopy({config:F.value,dataset:q.value}))}return Qe({getData:gr,getImage:Dr,generatePdf:Gn,generateCsv:_r,generateImage:Kn,generateSvg:Pr,hideSeries:hr,showSeries:mr,toggleTable:yr,toggleAnnotator:xr,toggleFullscreen:vr,copyAlt:Ir}),(i,a)=>(o(),v(`div`,{ref_key:`donutEvolutionChart`,ref:A,class:e(`vue-data-ui-component vue-ui-donut-evolution ${Q.value?`vue-data-ui-wrapper-fullscreen`:``} ${F.value.useCssAnimation?``:`vue-ui-dna`}`),style:c(`font-family:${F.value.style.fontFamily};width:100%; text-align:center;background:${F.value.style.chart.backgroundColor}`),id:E.value,onMouseenter:a[5]||=()=>r(zn)(!0),onMouseleave:a[6]||=()=>r(zn)(!1)},[F.value.userOptions.buttons.annotator?(o(),d(r(it),{key:0,svgRef:r(Vn),backgroundColor:F.value.style.chart.backgroundColor,color:F.value.style.chart.color,active:br.value,isCursorPointer:I.value,onClose:xr},{"annotator-action-close":g(()=>[u(i.$slots,`annotator-action-close`,{},void 0,!0)]),"annotator-action-color":g(({color:e})=>[u(i.$slots,`annotator-action-color`,m(s({color:e})),void 0,!0)]),"annotator-action-draw":g(({mode:e})=>[u(i.$slots,`annotator-action-draw`,m(s({mode:e})),void 0,!0)]),"annotator-action-undo":g(({disabled:e})=>[u(i.$slots,`annotator-action-undo`,m(s({disabled:e})),void 0,!0)]),"annotator-action-redo":g(({disabled:e})=>[u(i.$slots,`annotator-action-redo`,m(s({disabled:e})),void 0,!0)]),"annotator-action-delete":g(({disabled:e})=>[u(i.$slots,`annotator-action-delete`,m(s({disabled:e})),void 0,!0)]),_:3},8,[`svgRef`,`backgroundColor`,`color`,`active`,`isCursorPointer`])):t(``,!0),qn.value?(o(),v(`div`,{key:1,ref_key:`noTitle`,ref:on,class:`vue-data-ui-no-title-space`,style:`height:36px; width: 100%;background:transparent`},null,512)):t(``,!0),F.value.style.chart.title.text?(o(),v(`div`,{key:2,ref_key:`chartTitle`,ref:vn,style:`width:100%;background:transparent;padding-bottom:24px`,onMouseleave:sr},[(o(),d(We,{key:`title_${ln.value}`,config:{title:{cy:`donut-evolution-div-title`,...F.value.style.chart.title},subtitle:{cy:`donut-evolution-div-subtitle`,...F.value.style.chart.title.subtitle}}},null,8,[`config`]))],544)):t(``,!0),y(`div`,{id:`legend-top-${E.value}`},null,8,lt),F.value.userOptions.show&&Dn.value&&(r(Bn)||r(Rn))?(o(),d(r(at),{ref_key:`userOptionsRef`,ref:gn,key:`user_options_${sn.value}`,backgroundColor:F.value.style.chart.backgroundColor,color:F.value.style.chart.color,isPrinting:r(Un),isImaging:r(Wn),uid:E.value,hasPdf:F.value.userOptions.buttons.pdf,hasImg:F.value.userOptions.buttons.img,hasSvg:F.value.userOptions.buttons.svg,hasXls:F.value.userOptions.buttons.csv,hasTable:F.value.userOptions.buttons.table,hasFullscreen:F.value.userOptions.buttons.fullscreen,hasAltCopy:F.value.userOptions.buttons.altCopy,isFullscreen:Q.value,titles:{...F.value.userOptions.buttonTitles},chartElement:A.value,position:F.value.userOptions.position,hasAnnotator:F.value.userOptions.buttons.annotator,isAnnotation:br.value,callbacks:F.value.userOptions.callbacks,printScale:F.value.userOptions.print.scale,tableDialog:F.value.table.useDialog,isCursorPointer:I.value,onToggleFullscreen:vr,onGeneratePdf:r(Gn),onGenerateCsv:_r,onGenerateImage:Fr,onGenerateSvg:Pr,onToggleTable:yr,onToggleAnnotator:xr,onCopyAlt:Ir,style:c({visibility:r(Bn)?r(Rn)?`visible`:`hidden`:`visible`})},re({_:2},[i.$slots.menuIcon?{name:`menuIcon`,fn:g(({isOpen:e,color:t})=>[u(i.$slots,`menuIcon`,m(s({isOpen:e,color:t})),void 0,!0)]),key:`0`}:void 0,i.$slots.optionPdf?{name:`optionPdf`,fn:g(()=>[u(i.$slots,`optionPdf`,{},void 0,!0)]),key:`1`}:void 0,i.$slots.optionCsv?{name:`optionCsv`,fn:g(()=>[u(i.$slots,`optionCsv`,{},void 0,!0)]),key:`2`}:void 0,i.$slots.optionImg?{name:`optionImg`,fn:g(()=>[u(i.$slots,`optionImg`,{},void 0,!0)]),key:`3`}:void 0,i.$slots.optionSvg?{name:`optionSvg`,fn:g(()=>[u(i.$slots,`optionSvg`,{},void 0,!0)]),key:`4`}:void 0,i.$slots.optionTable?{name:`optionTable`,fn:g(()=>[u(i.$slots,`optionTable`,{},void 0,!0)]),key:`5`}:void 0,i.$slots.optionFullscreen?{name:`optionFullscreen`,fn:g(({toggleFullscreen:e,isFullscreen:t})=>[u(i.$slots,`optionFullscreen`,m(s({toggleFullscreen:e,isFullscreen:t})),void 0,!0)]),key:`6`}:void 0,i.$slots.optionAnnotator?{name:`optionAnnotator`,fn:g(({toggleAnnotator:e,isAnnotator:t})=>[u(i.$slots,`optionAnnotator`,m(s({toggleAnnotator:e,isAnnotator:t})),void 0,!0)]),key:`7`}:void 0,i.$slots.optionAltCopy?{name:`optionAltCopy`,fn:g(({altCopy:e})=>[u(i.$slots,`optionAltCopy`,m(s({altCopy:e})),void 0,!0)]),key:`8`}:void 0]),1032,[`backgroundColor`,`color`,`isPrinting`,`isImaging`,`uid`,`hasPdf`,`hasImg`,`hasSvg`,`hasXls`,`hasTable`,`hasFullscreen`,`hasAltCopy`,`isFullscreen`,`titles`,`chartElement`,`position`,`hasAnnotator`,`isAnnotation`,`callbacks`,`printScale`,`tableDialog`,`isCursorPointer`,`onGeneratePdf`,`style`])):t(``,!0),(o(),v(`svg`,{ref_key:`svgRef`,ref:Vn,xmlns:r(Ee),class:e({"vue-data-ui-fullscreen--on":Q.value,"vue-data-ui-fulscreen--off":!Q.value}),viewBox:`0 0 ${V.value.absoluteWidth} ${V.value.absoluteHeight}`,style:c(`max-width:100%; overflow: visible; background:transparent;color:${F.value.style.chart.color};`)},[ee(r(rt)),i.$slots[`chart-background`]?(o(),v(`foreignObject`,{key:0,x:V.value.left,y:V.value.top,width:V.value.width,height:V.value.height,style:{pointerEvents:`none`}},[u(i.$slots,`chart-background`,{},void 0,!0)],8,dt)):t(``,!0),y(`defs`,null,[y(`linearGradient`,{id:`hover_${E.value}`,x1:`0%`,y1:`0%`,x2:`0%`,y2:`100%`},[y(`stop`,{offset:`0%`,"stop-color":r(w)(F.value.style.chart.backgroundColor,F.value.style.chart.layout.highlighter.opacity)},null,8,pt),y(`stop`,{offset:`100%`,"stop-color":r(w)(F.value.style.chart.layout.highlighter.color,F.value.style.chart.layout.highlighter.opacity)},null,8,mt)],8,ft),y(`radialGradient`,{id:`focus_${E.value}`},[y(`stop`,{offset:`0%`,"stop-color":r(w)(r(we)(F.value.style.chart.backgroundColor),0)},null,8,gt),y(`stop`,{offset:`77%`,"stop-color":r(w)(`#FFFFFF`,30)},null,8,_t),y(`stop`,{offset:`100%`,"stop-color":r(w)(r(we)(F.value.style.chart.backgroundColor),0)},null,8,vt)],8,ht)]),F.value.style.chart.layout.grid.show?(o(),v(`g`,yt,[y(`line`,{x1:V.value.left,x2:V.value.left,y1:V.value.top,y2:V.value.top+V.value.height,stroke:F.value.style.chart.layout.grid.stroke,"stroke-width":F.value.style.chart.layout.grid.strokeWidth,"stroke-linecap":`round`},null,8,bt),y(`line`,{x1:V.value.left,x2:V.value.right,y1:V.value.bottom,y2:V.value.bottom,stroke:F.value.style.chart.layout.grid.stroke,"stroke-width":F.value.style.chart.layout.grid.strokeWidth,"stroke-linecap":`round`},null,8,xt),F.value.style.chart.layout.grid.showVerticalLines?(o(),v(`g`,St,[(o(!0),v(_,null,f(R.value.end-R.value.start,(e,t)=>(o(),v(`line`,{x1:V.value.left+(t+1)*G.value,x2:V.value.left+(t+1)*G.value,y1:V.value.top,y2:V.value.bottom,stroke:F.value.style.chart.layout.grid.stroke,"stroke-width":F.value.style.chart.layout.grid.strokeWidth,"stroke-linecap":`round`},null,8,Ct))),256))])):t(``,!0)])):t(``,!0),y(`g`,null,[F.value.style.chart.layout.grid.axis.yLabel?(o(),v(`text`,{key:0,ref_key:`yAxisLabel`,ref:mn,"font-size":F.value.style.chart.layout.grid.axis.fontSize,fill:F.value.style.chart.layout.grid.axis.color,transform:`translate(${F.value.style.chart.layout.grid.axis.fontSize}, ${V.value.top+V.value.height/2}) rotate(-90)`,"text-anchor":`middle`,style:{transition:`none`}},l(F.value.style.chart.layout.grid.axis.yLabel),9,wt)):t(``,!0),F.value.style.chart.layout.grid.axis.xLabel?(o(),v(`text`,{key:1,ref_key:`xAxisLabel`,ref:pn,"text-anchor":`middle`,x:V.value.absoluteWidth/2,y:V.value.absoluteHeight-3,"font-size":F.value.style.chart.layout.grid.axis.fontSize,fill:F.value.style.chart.layout.grid.axis.color},l(F.value.style.chart.layout.grid.axis.xLabel),9,Tt)):t(``,!0)]),F.value.style.chart.layout.grid.yAxis.dataLabels.show?(o(),v(`g`,{key:2,ref_key:`scaleLabels`,ref:fn,class:e({"donut-opacity":!0,"donut-behind":O.value!==null})},[(o(!0),v(_,null,f(ir.value,(e,n)=>(o(),v(`g`,null,[e.value>=K.value.min&&e.value<=K.value.max?(o(),v(`line`,{key:0,x1:V.value.left,x2:V.value.left-5,y1:e.y,y2:e.y,stroke:F.value.style.chart.layout.grid.stroke,"stroke-width":F.value.style.chart.layout.grid.strokeWidth},null,8,Et)):t(``,!0),e.value>=K.value.min&&e.value<=K.value.max?(o(),v(`text`,{key:1,x:V.value.left+F.value.style.chart.layout.grid.yAxis.dataLabels.offsetX-7,y:e.y+F.value.style.chart.layout.grid.yAxis.dataLabels.fontSize/3,"font-size":F.value.style.chart.layout.grid.yAxis.dataLabels.fontSize,"text-anchor":`end`,fill:F.value.style.chart.layout.grid.yAxis.dataLabels.color,"font-weight":F.value.style.chart.layout.grid.yAxis.dataLabels.bold?`bold`:`normal`},l(r(ue)(e.value)?r(je)(F.value.style.chart.layout.dataLabels.formatter,e.value,r(he)({p:F.value.style.chart.layout.dataLabels.prefix,v:e.value,s:F.value.style.chart.layout.dataLabels.suffix,r:F.value.style.chart.layout.grid.yAxis.dataLabels.roundingValue}),{datapoint:e,seriesIndex:n}):``),9,Dt)):t(``,!0)]))),256))],2)):t(``,!0),F.value.style.chart.layout.grid.xAxis.dataLabels.show?(o(),v(`g`,{key:3,ref_key:`timeLabelsEls`,ref:j,class:e({"donut-opacity":!0})},[(o(!0),v(_,null,f(R.value.end-R.value.start,(e,n)=>(o(),v(`g`,null,[(F.value.style.chart.layout.grid.xAxis.dataLabels.showOnlyFirstAndLast&&(n===0||n===U.value-1)||!F.value.style.chart.layout.grid.xAxis.dataLabels.showOnlyFirstAndLast)&&W.value[n]&&W.value[n].text?(o(),v(`g`,Ot,[String(W.value[n].text).includes(`
`)?(o(),v(`text`,{key:1,class:`vue-data-ui-time-label`,"text-anchor":F.value.style.chart.layout.grid.xAxis.dataLabels.rotation>0?`start`:F.value.style.chart.layout.grid.xAxis.dataLabels.rotation<0?`end`:`middle`,"font-size":F.value.style.chart.layout.grid.xAxis.dataLabels.fontSize,fill:F.value.style.chart.layout.grid.xAxis.dataLabels.color,transform:`translate(${V.value.left+G.value*n+G.value/2}, ${V.value.bottom+F.value.style.chart.layout.grid.xAxis.dataLabels.fontSize+F.value.style.chart.layout.grid.xAxis.dataLabels.offsetY}), rotate(${F.value.style.chart.layout.grid.xAxis.dataLabels.rotation})`,innerHTML:r(me)({content:String(W.value[n].text),fontSize:F.value.style.chart.layout.grid.xAxis.dataLabels.fontSize,fill:F.value.style.chart.layout.grid.xAxis.dataLabels.color,x:0,y:0})},null,8,At)):(o(),v(`text`,{key:0,class:`vue-data-ui-time-label`,"text-anchor":F.value.style.chart.layout.grid.xAxis.dataLabels.rotation>0?`start`:F.value.style.chart.layout.grid.xAxis.dataLabels.rotation<0?`end`:`middle`,"font-size":F.value.style.chart.layout.grid.xAxis.dataLabels.fontSize,fill:F.value.style.chart.layout.grid.xAxis.dataLabels.color,transform:`translate(${V.value.left+G.value*n+G.value/2}, ${V.value.bottom+F.value.style.chart.layout.grid.xAxis.dataLabels.fontSize+F.value.style.chart.layout.grid.xAxis.dataLabels.offsetY}), rotate(${F.value.style.chart.layout.grid.xAxis.dataLabels.rotation})`},l(W.value[n].text||``),9,kt))])):t(``,!0)]))),256))],512)):t(``,!0),(o(!0),v(_,null,f(q.value,(n,r)=>(o(),v(`g`,null,[F.value.style.chart.layout.line.show&&r<q.value.length-1&&![n.subtotal,q.value[r+1].subtotal].includes(null)?(o(),v(`line`,{key:0,class:e({"donut-opacity":!0,"donut-behind":O.value!==null}),x1:n.x,y1:n.y,x2:q.value[r+1].x,y2:q.value[r+1].y,stroke:F.value.style.chart.layout.line.stroke,"stroke-width":F.value.style.chart.layout.line.strokeWidth,"stroke-linecap":`round`,"stroke-linejoin":`round`},null,10,jt)):t(``,!0),n.subtotal===null?t(``,!0):(o(),v(`g`,Mt,[n.subtotal?(o(),v(`circle`,{key:0,cx:n.x,cy:n.y,r:n.activeRadius,fill:F.value.style.chart.backgroundColor},null,8,Nt)):t(``,!0)]))]))),256)),(o(!0),v(_,null,f(q.value,(n,i)=>(o(),v(`g`,{class:e({"donut-opacity":!0,"donut-behind":i!==O.value&&O.value!==null})},[n.subtotal?(o(),v(`g`,Pt,[O.value!==null&&O.value===i?(o(),v(`g`,Ft,[(o(!0),v(_,null,f(n.donutHover,e=>(o(),v(`g`,null,[Sr(e)?(o(),v(`path`,{key:0,d:r(Ae)(e,{x:e.center.endX,y:e.center.endY},12,12,{x:n.x,y:n.y},!1,20),stroke:e.color,"stroke-width":`1`,"stroke-linecap":`round`,"stroke-linejoin":`round`,fill:`none`},null,8,It)):t(``,!0)]))),256)),(o(!0),v(_,null,f(n.donutHover,(e,i)=>(o(),v(`g`,null,[Sr(e)?(o(),v(`text`,{key:0,"data-cy-hover-label":``,"text-anchor":r(Se)(e,!0,0).anchor,x:r(Se)(e,!0,9).x,y:r(fe)(e,14,10),fill:F.value.style.chart.layout.grid.yAxis.dataLabels.color,"font-size":8,"font-weight":`bold`},l(e.name)+`: `+l(or(e,n.donut))+` (`+l(e.value===null?`-`:ar(e.value,e,i))+`) `,9,Lt)):t(``,!0)]))),256)),y(`g`,null,[y(`circle`,{cx:n.x,cy:n.y,r:n.hoverRadius,fill:F.value.style.chart.backgroundColor},null,8,Rt)])])):t(``,!0)])):t(``,!0)],2))),256)),(o(!0),v(_,null,f(q.value,(n,r)=>(o(),v(`g`,{class:e({"donut-opacity":!0,"donut-behind":r!==O.value&&O.value!==null})},[n.subtotal===null?t(``,!0):(o(),v(`g`,zt,[n.subtotal===0?(o(),v(`circle`,{key:0,cx:n.x,cy:n.y,r:3,fill:F.value.style.chart.color},null,8,Bt)):O.value!==null&&O.value===r?(o(),v(`g`,Vt,[(o(!0),v(_,null,f(n.donutHover,(e,t)=>(o(),v(`path`,{d:e.arcSlice,fill:`${e.color}`,"stroke-width":1,stroke:F.value.style.chart.backgroundColor},null,8,Ht))),256))])):(o(),v(`g`,Ut,[(o(!0),v(_,null,f(n.donut,(e,t)=>(o(),v(`path`,{d:e.arcSlice,fill:`${e.color}`,"stroke-width":.5,stroke:F.value.style.chart.backgroundColor},null,8,Wt))),256))]))]))],2))),256)),(o(!0),v(_,null,f(q.value,(n,r)=>(o(),v(`g`,{class:e({"donut-opacity":!0,"donut-behind":r!==O.value&&O.value!==null||an.value&&r!==k.value.index})},[n.subtotal!==null&&F.value.style.chart.layout.dataLabels.show?(o(),v(`text`,{key:0,"text-anchor":`middle`,x:n.x,y:O.value===n.index&&n.subtotal?n.y+F.value.style.chart.layout.dataLabels.fontSize/3:n.y-n.radius-F.value.style.chart.layout.dataLabels.fontSize+F.value.style.chart.layout.dataLabels.offsetY,"font-size":F.value.style.chart.layout.dataLabels.fontSize,"font-weight":`bold`,fill:F.value.style.chart.layout.dataLabels.color},l(ar(n.subtotal,n,r)),9,Gt)):t(``,!0)],2))),256)),(o(!0),v(_,null,f(q.value,(t,n)=>(o(),v(`rect`,{x:V.value.left+n*G.value,y:V.value.top,width:G.value,height:V.value.height,fill:[O.value,J.value].includes(t.index)?`url(#hover_${E.value})`:`transparent`,class:e({"donut-hover":I.value&&t.subtotal&&[O.value,J.value].includes(t.index)}),style:{pointerEvents:`none`}},null,10,Kt))),256)),(o(!0),v(_,null,f(q.value,(t,n)=>(o(),v(`rect`,{"data-cy-trap":``,x:V.value.left+n*G.value,y:V.value.top,width:G.value,height:V.value.height,fill:`transparent`,onMouseenter:e=>cr(t),onMouseleave:e=>sr(t),onClick:e=>lr(t,n),class:e({"donut-hover":I.value&&O.value===t.index&&t.subtotal})},null,42,qt))),256)),u(i.$slots,`svg`,{svg:{...V.value,isPrintingImg:r(Un)|r(Wn)|N.value,isPrintingSvg:_n.value}},void 0,!0)],14,ut)),i.$slots.watermark?(o(),v(`div`,Jt,[u(i.$slots,`watermark`,m(s({isPrinting:r(Un)||r(Wn)||N.value||_n.value})),void 0,!0)])):t(``,!0),y(`div`,{ref_key:`chartSlicer`,ref:Sn,style:c(`width:100%;background:${F.value.style.chart.backgroundColor}`),"data-dom-to-png-ignore":``},[U.value>1&&F.value.style.chart.zoom.show?(o(),d(Ze,{ref_key:`slicerComponent`,ref:xn,key:`slicer_${cn.value}`,background:F.value.style.chart.zoom.color,borderColor:F.value.style.chart.backgroundColor,fontSize:F.value.style.chart.zoom.fontSize,useResetSlot:F.value.style.chart.zoom.useResetSlot,labelLeft:W.value[0]?W.value[0].text:``,labelRight:W.value.at(-1)?W.value.at(-1).text:``,textColor:F.value.style.chart.color,inputColor:F.value.style.chart.zoom.color,selectColor:F.value.style.chart.zoom.highlightColor,max:U.value,min:0,valueStart:R.value.start,valueEnd:R.value.end,start:R.value.start,"onUpdate:start":a[0]||=e=>R.value.start=e,end:R.value.end,"onUpdate:end":a[1]||=e=>R.value.end=e,refreshStartPoint:F.value.style.chart.zoom.startIndex===null?0:F.value.style.chart.zoom.startIndex,refreshEndPoint:F.value.style.chart.zoom.endIndex===null?U.value:F.value.style.chart.zoom.endIndex+1,enableRangeHandles:F.value.style.chart.zoom.enableRangeHandles,enableSelectionDrag:F.value.style.chart.zoom.enableSelectionDrag,focusOnDrag:F.value.style.chart.zoom.focusOnDrag,focusRangeRatio:F.value.style.chart.zoom.focusRangeRatio,isCursorPointer:I.value,maxWidth:F.value.style.chart.zoom.maxWidth,onReset:Fn},{"reset-action":g(({reset:e})=>[u(i.$slots,`reset-action`,m(s({reset:e})),void 0,!0)]),_:3},8,[`background`,`borderColor`,`fontSize`,`useResetSlot`,`labelLeft`,`labelRight`,`textColor`,`inputColor`,`selectColor`,`max`,`valueStart`,`valueEnd`,`start`,`end`,`refreshStartPoint`,`refreshEndPoint`,`enableRangeHandles`,`enableSelectionDrag`,`focusOnDrag`,`focusRangeRatio`,`isCursorPointer`,`maxWidth`])):t(``,!0)],4),y(`div`,{id:`legend-bottom-${E.value}`},null,8,Yt),hn.value?(o(),d(ae,{key:5,to:F.value.style.chart.legend.position===`top`?`#legend-top-${E.value}`:`#legend-bottom-${E.value}`},[y(`div`,{ref_key:`chartLegend`,ref:yn},[F.value.style.chart.legend.show?(o(),d(Xe,{key:`legend_${dn.value}`,legendSet:Y.value,config:dr.value,onClickMarker:a[2]||=({legend:e})=>X(e.uid)},{item:g(({legend:e,index:t})=>[y(`div`,{onClick:t=>X(e.uid),style:c(`opacity:${D.value.includes(e.uid)?.5:1}`)},l(e.display),13,Xt)]),legendToggle:g(()=>[Y.value.length>2&&F.value.style.chart.legend.selectAllToggle.show&&!r(jn)?(o(),d(qe,{key:0,backgroundColor:F.value.style.chart.legend.selectAllToggle.backgroundColor,color:F.value.style.chart.legend.selectAllToggle.color,fontSize:F.value.style.chart.legend.fontSize,checked:D.value.length>0,onToggle:fr},null,8,[`backgroundColor`,`color`,`fontSize`,`checked`])):t(``,!0)]),_:1},8,[`legendSet`,`config`])):t(``,!0),u(i.$slots,`legend`,{legend:Y.value},void 0,!0)],512)],8,[`to`])):t(``,!0),i.$slots.source?(o(),v(`div`,{key:6,ref_key:`source`,ref:bn,dir:`auto`},[u(i.$slots,`source`,{},void 0,!0)],512)):t(``,!0),Dn.value&&F.value.userOptions.buttons.table?(o(),d(oe($.value.component),te({key:7},$.value.props,{ref_key:`tableUnit`,ref:M,onClose:Or}),re({content:g(()=>[(o(),d(r(nt),{key:`table_${un.value}`,colNames:Z.value.colNames,head:Z.value.head,body:Z.value.body,config:Z.value.config,title:F.value.table.useDialog?``:$.value.title,withCloseButton:!F.value.table.useDialog,isCursorPointer:I.value,onClose:Or},{th:g(({th:e})=>[n(l(e.name??e),1)]),td:g(({td:e})=>[e.value===null?(o(),v(`span`,Zt,`-`)):(o(),v(`b`,Qt,l(isNaN(e.value)?``:F.value.style.chart.layout.dataLabels.prefix)+l(!isNaN(e.value)&&e.value!==null?Number(e.value.toFixed(F.value.table.td.roundingValue)).toLocaleString():e)+l(isNaN(e.value)?``:F.value.style.chart.layout.dataLabels.suffix),1)),y(`span`,null,l(e.percentage&&!isNaN(e.percentage)?`(${Number(e.percentage.toFixed(F.value.table.td.roundingPercentage)).toLocaleString()}%)`:``),1)]),_:1},8,[`colNames`,`head`,`body`,`config`,`title`,`withCloseButton`,`isCursorPointer`]))]),_:2},[F.value.table.useDialog?{name:`title`,fn:g(()=>[n(l($.value.title),1)]),key:`0`}:void 0,F.value.table.useDialog?{name:`actions`,fn:g(()=>[y(`button`,{tabindex:`0`,class:`vue-ui-user-options-button`,onClick:a[3]||=e=>_r(F.value.userOptions.callbacks.csv),style:c({cursor:I.value?`cursor`:`default`})},[ee(r(tt),{name:`fileCsv`,stroke:$.value.props.color},null,8,[`stroke`])],4)]),key:`1`}:void 0]),1040)):t(``,!0),F.value.style.chart.dialog.show?(o(),d(r($t),{key:8,ref_key:`dialog`,ref:Tr,onClose:a[4]||=e=>{k.value=null,an.value=!1,rn.value=null,O.value=null,J.value=null},backgroundColor:F.value.style.chart.dialog.backgroundColor,color:F.value.style.chart.dialog.color,headerBg:F.value.style.chart.dialog.header.backgroundColor,headerColor:F.value.style.chart.dialog.header.color,isFullscreen:Q.value,fullscreenParent:A.value},{title:g(()=>[n(l(W.value[Number(k.value.index)]?W.value[Number(k.value.index)].text:``),1)]),content:g(()=>[k.value?(o(),d(r(st),{key:0,config:wr.value,dataset:Cr.value},null,8,[`config`,`dataset`])):t(``,!0)]),_:1},8,[`backgroundColor`,`color`,`headerBg`,`headerColor`,`isFullscreen`,`fullscreenParent`])):t(``,!0),r(jn)?(o(),d(Re,{key:9})):t(``,!0)],46,ct))}},[[`__scopeId`,`data-v-30771125`]]),en=Object.freeze(Object.defineProperty({__proto__:null,default:$t},Symbol.toStringTag,{value:`Module`}));export{st as a,en as b};