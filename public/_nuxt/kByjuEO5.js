const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./CbFHGlY2.js","./BLt7TXlb.js","./Cf-0F-2c.js","./B9jcbJ_P.js","./xh7dz5-d.js","./CWNsAIol.js","./ByvxprxI.js","./CRSLCJ2m.js","./8DvoFuCx.js","./CH8pva4p.js","./C0O4I1kb.js","./DdyLBgN8.js","./C66xQW7K.js","./DuIAB7Tu.js","./DHC76net.js","./BDmUravP.js","./D7-tWLRc.js","./CBD7ngdF.js","./BIodG7vT.js"])))=>i.map(i=>d[i]);
import{At as e,C as t,D as n,Dt as r,G as i,H as a,J as o,M as s,Mt as c,Nt as l,O as ee,Q as u,R as te,S as d,St as ne,T as re,Tt as ie,Z as f,_ as ae,b as p,et as oe,jt as m,k as h,lt as g,m as _,ot as v,st as se,w as y,x as b,yt as x,z as ce}from"./BLt7TXlb.js";import{t as S}from"./YZkb6lnT.js";import{F as le,Lt as ue,Mt as C,N as de,Nt as fe,P as pe,St as me,T as he,U as w,V as ge,_ as _e,_t as ve,a as ye,bt as be,dt as xe,h as Se,it as T,j as Ce,m as we,wt as E,y as Te}from"./Cf-0F-2c.js";import{n as Ee,t as De}from"./8DvoFuCx.js";import{t as Oe}from"./Cme7ewGR.js";import{t as ke}from"./CWNsAIol.js";import{n as Ae,t as je}from"./D4ushAer.js";import{t as Me}from"./CLl0-3D6.js";import{t as Ne}from"./BwaPX4qL.js";import{t as Pe}from"./oZ4LAWkj.js";import{t as Fe}from"./BDmUravP.js";import{t as Ie}from"./BIZzPpPz.js";import{a as Le,n as Re}from"./D4v1zV2y.js";import{t as ze}from"./CB2Wh4RA.js";import{t as Be}from"./BEpjx3T_.js";import{t as Ve}from"./DMqKe8aR.js";import{t as He}from"./CMjlbb0z.js";var Ue={userOptions:{show:!1},style:{chart:{legend:{show:!1},grid:{horizontalLines:{show:!1},verticalLines:{show:!1}}}}},We={userOptions:{show:!1},table:{th:{backgroundColor:`#1A1A1A`,color:`#CCCCCC`},td:{backgroundColor:`#1A1A1A`,color:`#CCCCCC`}},style:{chart:{backgroundColor:`#1A1A1A`,color:`#CCCCCC`,title:{color:`#CCCCCC`,subtitle:{color:`#757575`}},tooltip:{backgroundColor:`#1A1A1A`,backgroundOpacity:70,color:`#CCCCCC`,borderColor:`#3A3A3A`},legend:{show:!1,backgroundColor:`#1A1A1A`,color:`#CCCCCC`,selectAllToggle:{backgroundColor:`#3A3A3A`,color:`#CCCCCC`}},grid:{xAxis:{stroke:`#5A5A5A`},horizontalLines:{show:!1,stroke:`#4A4A4A`},yAxis:{stroke:`#5A5A5A`},verticalLines:{show:!1,stroke:`#4A4A4A`}},axes:{x:{labels:{color:`#CCCCCC`},name:{color:`#CCCCCC`}},y:{labels:{color:`#CCCCCC`},name:{color:`#CCCCCC`}}},plots:{stroke:`#1A1A1A`,labels:{color:`#CCCCCC`}}}}},Ge={table:{th:{backgroundColor:`#1A1A1A`,color:`#CCCCCC`},td:{backgroundColor:`#1A1A1A`,color:`#CCCCCC`}},style:{chart:{backgroundColor:`#1A1A1A`,color:`#CCCCCC`,title:{color:`#CCCCCC`,subtitle:{color:`#757575`}},tooltip:{backgroundColor:`#1A1A1A`,backgroundOpacity:70,color:`#CCCCCC`,borderColor:`#5A5A5A`},legend:{backgroundColor:`#1A1A1A`,color:`#CCCCCC`,selectAllToggle:{backgroundColor:`#3A3A3A`,color:`#CCCCCC`}},grid:{xAxis:{stroke:`#5A5A5A`},horizontalLines:{stroke:`#4A4A4A`},yAxis:{stroke:`#5A5A5A`},verticalLines:{stroke:`#4A4A4A`}},axes:{x:{labels:{color:`#CCCCCC`},name:{color:`#CCCCCC`}},y:{labels:{color:`#CCCCCC`},name:{color:`#CCCCCC`}}},plots:{stroke:`#1A1A1A`,labels:{color:`#CCCCCC`}}}}},Ke={table:{th:{backgroundColor:`#FFF8E1`,color:`#424242`},td:{backgroundColor:`#FFF8E1`,color:`#424242`}},style:{chart:{backgroundColor:`#FFF8E1`,color:`#424242`,title:{color:`#424242`,subtitle:{color:`#757575`}},tooltip:{backgroundColor:`#FFECB3`,backgroundOpacity:30,color:`#424242`,borderColor:`#FF8A65`},legend:{backgroundColor:`#FFF8E1`,color:`#424242`,selectAllToggle:{backgroundColor:`#5D4037`,color:`#FFF8E1`}},grid:{xAxis:{stroke:`#5D403740`},horizontalLines:{stroke:`#5D403740`},yAxis:{stroke:`#5D403740`},verticalLines:{stroke:`#5D403740`}},axes:{x:{labels:{color:`#424242`},name:{color:`#424242`}},y:{labels:{color:`#424242`},name:{color:`#424242`}}},plots:{stroke:`#FFF8E1`,gradient:{intensity:20},labels:{color:`#424242`}}}}},qe={table:{th:{backgroundColor:`#1E1E1E`,color:`#BDBDBD`},td:{backgroundColor:`#1E1E1E`,color:`#BDBDBD`}},style:{chart:{backgroundColor:`#1E1E1E`,color:`#BDBDBD`,title:{color:`#FFF8E1`,subtitle:{color:`#BDBDBD`}},tooltip:{backgroundColor:`#1E1E1E`,backgroundOpacity:30,color:`#FFF8E1`,borderColor:`#FF8A65`},legend:{backgroundColor:`#1E1E1E`,color:`#BDBDBD`,selectAllToggle:{backgroundColor:`#3A3A3A`,color:`#BDBDBD`}},grid:{xAxis:{stroke:`#5D403780`},horizontalLines:{stroke:`#5D403780`},yAxis:{stroke:`#5D403780`},verticalLines:{stroke:`#5D403780`}},axes:{x:{labels:{color:`#BDBDBD`},name:{color:`#BDBDBD`}},y:{labels:{color:`#BDBDBD`},name:{color:`#BDBDBD`}}},plots:{stroke:`#1E1E1E`,gradient:{intensity:20},labels:{color:`#BDBDBD`}}}}},Je={table:{th:{backgroundColor:`#1A1A1A`,color:`#99AA99`},td:{backgroundColor:`#1A1A1A`,color:`#AACCAA`}},style:{chart:{backgroundColor:`#1A1A1A`,color:`#99AA99`,title:{color:`#66CC66`,subtitle:{color:`#99AA99`}},tooltip:{backgroundColor:`#2A2F2A`,color:`#AACCAA`,borderColor:`#66CC66`},legend:{backgroundColor:`#1A1A1A`,color:`#99AA99`,selectAllToggle:{backgroundColor:`#3A3A3A`,color:`#99AA99`}},grid:{xAxis:{stroke:`#5F6A5F`},horizontalLines:{stroke:`#3A3A3A`},yAxis:{stroke:`#5F6A5F`},verticalLines:{stroke:`#3A3A3A`}},axes:{x:{labels:{color:`#5F6A5F`},name:{color:`#5F6A5F`}},y:{labels:{color:`#5F6A5F`},name:{color:`#5F6A5F`}}},plots:{stroke:`#1A1A1A`,gradient:{intensity:20},labels:{color:`#5F6A5F`}}}}},Ye={table:{th:{backgroundColor:`#fbfafa`,color:`#8F837A`},td:{backgroundColor:`#fbfafa`,color:`#8F837A`}},style:{chart:{backgroundColor:`#fbfafa`,color:`#8A9892`,title:{color:`#8A9892`,subtitle:{color:`#99AA99`}},tooltip:{backgroundColor:`#fbfafa`,color:`#8A9892`},legend:{backgroundColor:`#fbfafa`,color:`#99AA99`,selectAllToggle:{backgroundColor:`#E0CFC3`,color:`#8F837A`}},grid:{xAxis:{stroke:`#8F837A`},horizontalLines:{show:!1},yAxis:{stroke:`#8F837A`},verticalLines:{show:!1}},axes:{x:{labels:{color:`#8F837A`},name:{color:`#8F837A`}},y:{labels:{color:`#8F837A`},name:{color:`#8F837A`}}},plots:{stroke:`#fbfafa`,gradient:{intensity:20},labels:{color:`#8F837A`}}}}},Xe={table:{th:{backgroundColor:`#f6f6fb`,color:`#50606C`},td:{backgroundColor:`#f6f6fb`,color:`#50606C`}},style:{chart:{backgroundColor:`#f6f6fb`,color:`#50606C`,title:{color:`#50606C`,subtitle:{color:`#718890`}},tooltip:{backgroundColor:`#f6f6fb`,color:`#50606C`},legend:{backgroundColor:`#f6f6fb`,color:`#61747E`,selectAllToggle:{backgroundColor:`#50606C`,color:`#f6f6fb`}},grid:{xAxis:{stroke:`#829C98`},horizontalLines:{stroke:`#92B0AB`},yAxis:{stroke:`#829C98`},verticalLines:{stroke:`#92B0AB`}},axes:{x:{labels:{color:`#50606C`},name:{color:`#50606C`}},y:{labels:{color:`#50606C`},name:{color:`#50606C`}}},plots:{stroke:`#50606C`,gradient:{intensity:20},labels:{color:`#50606C`}}}}},Ze={default:{},minimal:Ue,minimalDark:We,dark:Ge,celebration:Ke,celebrationNight:qe,hack:Je,zen:Ye,concrete:Xe},Qe=Object.freeze(Object.defineProperty({__proto__:null,celebration:Ke,celebrationNight:qe,concrete:Xe,dark:Ge,default:Ze,hack:Je,minimal:Ue,minimalDark:We,zen:Ye},Symbol.toStringTag,{value:`Module`})),$e=[`id`],et=[`id`],tt=[`xmlns`,`viewBox`],nt=[`x`,`y`,`width`,`height`],rt={key:1},it=[`id`],at=[`stop-color`],ot=[`stop-color`],st=[`stop-color`],ct={key:2},lt=[`x1`,`x2`,`y1`,`y2`,`stroke`,`stroke-width`],ut={key:3},dt=[`stroke`,`stroke-width`,`x1`,`x2`,`y1`,`y2`],ft=[`x`,`y`,`fill`,`font-size`],pt=[`transform`,`font-size`,`fill`,`font-weight`],mt={key:6},ht=[`x1`,`x2`,`y1`,`y2`,`stroke`,`stroke-width`],gt={key:7},_t=[`stroke`,`stroke-width`,`x1`,`x2`,`y1`,`y2`],vt=[`transform`,`fill`,`font-size`,`text-anchor`],yt=[`x`,`y`,`font-size`,`fill`,`font-weight`],bt=[`x1`,`x2`,`y1`,`y2`,`stroke`,`stroke-width`],xt=[`x1`,`x2`,`y1`,`y2`,`stroke`,`stroke-width`],St=[`d`,`stroke`,`stroke-width`],Ct=[`d`,`stroke`,`stroke-width`],wt=[`cx`,`cy`,`fill`,`r`],Tt=[`cx`,`cy`,`fill`,`r`,`stroke`,`stroke-width`],Et={key:1},Dt=[`x`,`y`,`font-size`,`fill`,`font-weight`],Ot=[`x`,`y`,`font-size`,`fill`,`font-weight`,`innerHTML`],kt={key:2},At=[`x`,`y`,`font-size`,`font-weight`,`fill`],jt=[`cx`,`cy`,`r`,`onMouseenter`,`onMouseleave`,`onClick`],Mt={key:4,class:`vue-data-ui-watermark`},Nt=[`id`],Pt=[`onClick`],Ft=[`innerHTML`],It=ke({__name:`vue-ui-history-plot`,props:{config:{type:Object,default(){return{}}},dataset:{type:Array,default(){return[]}}},emits:[`selectLegend`,`selectDatapoint`,`copyAlt`],setup(ke,{expose:Ue,emit:We}){let Ge=h(()=>S(()=>import(`./CbFHGlY2.js`),__vite__mapDeps([0,1,2]),import.meta.url)),Ke=h(()=>S(()=>import(`./B9jcbJ_P.js`),__vite__mapDeps([3,4,1,5,2]),import.meta.url)),qe=h(()=>S(()=>import(`./ByvxprxI.js`),__vite__mapDeps([6,7,1,4,5,2,8]),import.meta.url)),Je=h(()=>S(()=>import(`./CH8pva4p.js`),__vite__mapDeps([9,1,4,5,2,10]),import.meta.url)),Ye=h(()=>S(()=>import(`./DdyLBgN8.js`),__vite__mapDeps([11,1,4,5,2,12,13]),import.meta.url)),Xe=h(()=>S(()=>import(`./DHC76net.js`),__vite__mapDeps([14,1,4,5,2,15,16,13]),import.meta.url)),Qe=h(()=>S(()=>import(`./CBD7ngdF.js`),__vite__mapDeps([17,1]),import.meta.url)),It=h(()=>S(()=>import(`./BIodG7vT.js`),__vite__mapDeps([18,1,4,5,2]),import.meta.url)),{vue_ui_history_plot:Lt}=De(),{isThemeValid:Rt,warnInvalidTheme:zt}=Ne(),D=ke,O=x(null),Bt=x(null),Vt=x(0),Ht=x(null),Ut=x(0),Wt=x(0),Gt=x(0),k=ne(null),A=ne(null),Kt=x(null),j=x(fe()),qt=x(!1),Jt=x(``),M=x([]),N=x(!1),P=x(null),F=x(!1),Yt=x(null),Xt=x(!1),I=x(null),Zt=x(null),L=x(!1),R=x(!1),Qt=x(null),$t=x(null),z=x(null),en=x(null),B=p({get:()=>!!D.dataset&&D.dataset.length,set:e=>e}),tn=We;i(()=>{Xt.value=!0,rn()});let nn=p(()=>!!V.value.debug);function rn(){if(ge(D.dataset)?(Se({componentName:`VueUiHistoryPlot`,type:`dataset`,debug:nn.value}),cn.value=!0):D.dataset.forEach((e,t)=>{we({datasetObject:e,requiredAttributes:[`name`,`values`]}).forEach(e=>{B.value=!1,Se({componentName:`VueUiHistoryPlot`,type:`datasetSerieAttribute`,property:e,index:t,debug:nn.value})})}),ge(D.dataset)||(cn.value=V.value.loading),V.value.responsive){let e=Re(()=>{let{width:e,height:t}=Le({chart:O.value,title:V.value.style.chart.title.text?Bt.value:null,noTitle:Kt.value,legend:V.value.style.chart.legend.show?Ht.value:null,source:Yt.value});requestAnimationFrame(()=>{G.value.width=e,G.value.height=t,V.value.responsiveProportionalSizing?(q.value.plots=w({relator:Math.min(e,t),adjuster:600,source:V.value.style.chart.plots.radius,threshold:3,fallback:3}),q.value.indexLabels=w({relator:Math.min(e,t),adjuster:600,source:V.value.style.chart.plots.indexLabels.fontSize,threshold:6,fallback:6}),q.value.labels=w({relator:Math.min(e,t),adjuster:600,source:V.value.style.chart.plots.labels.fontSize,threshold:6,fallback:6}),q.value.xAxisLabels=w({relator:Math.min(e,t),adjuster:600,source:V.value.style.chart.axes.x.labels.fontSize,threshold:6,fallback:6}),q.value.xAxisName=w({relator:Math.min(e,t),adjuster:600,source:V.value.style.chart.axes.x.name.fontSize,threshold:6,fallback:6}),q.value.yAxisLabels=w({relator:Math.min(e,t),adjuster:600,source:V.value.style.chart.axes.y.labels.fontSize,threshold:6,fallback:6}),q.value.yAxisName=w({relator:Math.min(e,t),adjuster:600,source:V.value.style.chart.axes.y.name.fontSize,threshold:6,fallback:6})):(q.value.plots=V.value.style.chart.plots.radius,q.value.indexLabels=V.value.style.chart.plots.indexLabels.fontSize,q.value.labels=V.value.style.chart.plots.labels.fontSize,q.value.xAxisLabels=V.value.style.chart.axes.x.labels.fontSize,q.value.xAxisName=V.value.style.chart.axes.x.name.fontSize,q.value.yAxisLabels=V.value.style.chart.axes.y.labels.fontSize,q.value.yAxisName=V.value.style.chart.axes.y.name.fontSize)})});k.value&&(A.value&&k.value.unobserve(A.value),k.value.disconnect()),k.value=new ResizeObserver(e),A.value=O.value.parentNode,k.value.observe(A.value)}}a(()=>{k.value&&(A.value&&k.value.unobserve(A.value),k.value.disconnect())});function an(){let e=Ee({userConfig:D.config,defaultConfig:Lt}),t={},n=e.theme;if(n)if(!Rt.value(e))zt(e),t=e;else{let r=Ee({userConfig:Ze[n]||D.config,defaultConfig:e});t={...Ee({userConfig:D.config,defaultConfig:r}),customPalette:e.customPalette.length?e.customPalette:xe[n]||T}}else t=e;return t}let V=x(an()),H=p(()=>V.value.userOptions.useCursorPointer),on=p(()=>pe({defaultConfig:{userOptions:{show:!1},table:{show:!1},style:{chart:{backgroundColor:`#99999930`,axes:{x:{scaleMin:0,scaleMax:10,labels:{show:!1},name:{text:``}},y:{scaleMin:0,scaleMax:10,labels:{show:!1},name:{text:``}}},grid:{xAxis:{stroke:`#6A6A6A`},horizontalLines:{stroke:`#6A6A6A50`},yAxis:{stroke:`#6A6A6A`},verticalLines:{stroke:`#6A6A6A50`}},legend:{backgroundColor:`transparent`},paths:{useSerieColor:!1,stroke:`#6A6A6A`},plots:{stroke:`#6A6A6A`,indexLabels:{show:!1},labels:{show:!1}}}}},userConfig:V.value.skeletonConfig??{}})),{loading:U,FINAL_DATASET:sn,manualLoading:cn}=je({...ie(D),FINAL_CONFIG:V,prepareConfig:an,skeletonDataset:D.config?.skeletonDataset??[{name:``,color:`#CACACA`,values:[{label:``,x:1,y:9},{label:``,x:4,y:1},{label:``,x:7,y:9},{label:``,x:9,y:4}]}],skeletonConfig:pe({defaultConfig:V.value,userConfig:on.value})}),{userOptionsVisible:ln,setUserOptionsVisibility:un,keepUserOptionState:dn}=Ve({config:V.value}),{svgRef:fn}=Be({config:V.value.style.chart.title});v(()=>D.config,e=>{U.value||(V.value=an()),ln.value=!V.value.userOptions.showOnChartHover,rn(),Vt.value+=1,Wt.value+=1,Ut.value+=1,G.value.height=V.value.style.chart.height,G.value.width=V.value.style.chart.width,q.value.plots=V.value.style.chart.plots.radius,q.value.indexLabels=V.value.style.chart.plots.indexLabels.fontSize,q.value.labels=V.value.style.chart.plots.labels.fontSize,q.value.xAxisLabels=V.value.style.chart.axes.x.labels.fontSize,q.value.xAxisName=V.value.style.chart.axes.x.name.fontSize,q.value.yAxisLabels=V.value.style.chart.axes.y.labels.fontSize,q.value.yAxisName=V.value.style.chart.axes.y.name.fontSize,W.value.showTable=V.value.table.show,W.value.showTooltip=V.value.style.chart.tooltip.show},{deep:!0}),v(()=>D.dataset,e=>{Array.isArray(e)&&e.length>0&&(cn.value=!1)},{deep:!0});let{isPrinting:pn,isImaging:mn,generatePdf:hn,generateImage:gn}=Oe({elementId:`history_plot_${j.value}`,fileName:V.value.style.chart.title.text||`vue-ui-history-plot`,options:V.value.userOptions.print}),_n=p(()=>V.value.userOptions.show&&!V.value.style.chart.title.text),vn=p(()=>Te(V.value.customPalette)),W=x({showTable:V.value.table.show,showTooltip:V.value.style.chart.tooltip.show});v(V,()=>{W.value={showTable:V.value.table.show,showTooltip:V.value.style.chart.tooltip.show}},{immediate:!0});let G=x({height:V.value.style.chart.height,width:V.value.style.chart.width}),yn=p(()=>G.value.width),bn=p(()=>G.value.height);function xn(){let e=0;en.value&&(e=Array.from(en.value.querySelectorAll(`text`)).reduce((e,t)=>{let n=t.getComputedTextLength();return n>e?n:e},0));let t=$t.value?$t.value.getBoundingClientRect().width:0;return e+t+(t?24:0)}let Sn=x(0),Cn=Re(e=>{Sn.value=e});se(e=>{let t=z.value;if(!t)return;let n=new ResizeObserver(e=>{Cn(e[0].contentRect.height)});n.observe(t),e(()=>n.disconnect())});let wn=p(()=>{let e=0;Qt.value&&(e=Qt.value.getBBox().height+q.value.xAxisName/2);let t=0;return z.value&&(t=Sn.value),e+t}),K=p(()=>{let e=V.value.style.chart.padding.left,t=V.value.style.chart.padding.top,n=xn(),r=V.value.style.chart.plots.radius;return{left:e+n+V.value.style.chart.axes.y.name.offsetX,top:t+r,right:G.value.width-V.value.style.chart.padding.right-r-V.value.style.chart.axes.y.name.offsetX,bottom:G.value.height-V.value.style.chart.padding.bottom-wn.value-r-V.value.style.chart.axes.x.name.offsetY,width:G.value.width-e-V.value.style.chart.padding.right-n-r-V.value.style.chart.axes.y.name.offsetX,height:G.value.height-t-V.value.style.chart.padding.bottom-wn.value-r*2-V.value.style.chart.axes.x.name.offsetY}}),q=x({plots:V.value.style.chart.plots.radius,indexLabels:V.value.style.chart.plots.indexLabels.fontSize,labels:V.value.style.chart.plots.labels.fontSize,xAxisLabels:V.value.style.chart.axes.x.labels.fontSize,xAxisName:V.value.style.chart.axes.x.name.fontSize,yAxisLabels:V.value.style.chart.axes.y.labels.fontSize,yAxisName:V.value.style.chart.axes.y.name.fontSize}),J=p(()=>sn.value.map((e,t)=>({...e,color:e.color?ve(e.color):vn.value[t]||T[t]||T[t%T.length],seriesIndex:t}))),Tn=p(()=>Math.max(...J.value.filter(e=>!M.value.includes(e.seriesIndex)).flatMap(e=>e.values.map(e=>e.x)))),En=p(()=>{let e=Math.min(...J.value.filter(e=>!M.value.includes(e.seriesIndex)).flatMap(e=>e.values.map(e=>e.x)));return e<0?e:0}),Dn=p(()=>Math.max(...J.value.filter(e=>!M.value.includes(e.seriesIndex)).flatMap(e=>e.values.map(e=>e.y)))),On=p(()=>{let e=Math.min(...J.value.filter(e=>!M.value.includes(e.seriesIndex)).flatMap(e=>e.values.map(e=>e.y)));return e<0?e:0}),Y=p(()=>{let e=_e(V.value.style.chart.axes.x.scaleMin??En.value,V.value.style.chart.axes.x.scaleMax??Tn.value,V.value.style.chart.axes.x.ticks),t=_e(V.value.style.chart.axes.y.scaleMin??On.value,V.value.style.chart.axes.y.scaleMax??Dn.value,V.value.style.chart.axes.y.ticks);return{x:e,y:t,tickX:e.ticks.map(t=>({x:K.value.left+(t-e.min)/(e.max-e.min)*K.value.width,y1:K.value.top,y2:K.value.bottom,value:t})),tickY:t.ticks.map(e=>({y:K.value.bottom-(e-t.min)/(t.max-t.min)*K.value.height,x1:K.value.left,x2:K.value.right,value:e}))}});function kn(e){let t=Y.value.x.min<0?Math.abs(Y.value.x.min):Y.value.x.min>0?-Y.value.x.min:0;return K.value.left+((e||0)+t)/(Y.value.x.max+t)*K.value.width}function An(e){let t=Y.value.y.min<0?Math.abs(Y.value.y.min):Y.value.y.min>0?-Y.value.y.min:0;return K.value.bottom-((e||0)+t)/(Y.value.y.max+t)*K.value.height}let X=p(()=>J.value.filter(e=>!M.value.includes(e.seriesIndex)).map((e,t)=>{let n=e.values.map((t,n)=>({valueX:t.x,valueY:t.y,label:t.label,x:kn(t.x),y:An(t.y),color:e.color,seriesName:e.name,id:fe()})),r=n.map(e=>`${e.x},${e.y} `).join(``).trim();return{...e,plots:n,path:`M${r}`}}));function jn(){M.value.length?M.value=[]:Q.value.forEach(e=>{M.value.push(e.seriesIndex)})}function Z(e){M.value.includes(e)?M.value=M.value.filter(t=>t!==e):M.value.push(e)}function Mn(e){return J.value.length?J.value.find(t=>t.name===e)||(V.value.debug&&console.warn(`VueUiHistoryPlot - Series name not found "${e}"`),null):(V.value.debug&&console.warn(`VueUiHistoryPlot - There are no series to show.`),null)}function Nn(e){let t=Mn(e);t!==null&&M.value.includes(t.seriesIndex)&&Z(t.seriesIndex)}function Pn(e){let t=Mn(e);t!==null&&(M.value.includes(t.seriesIndex)||Z(t.seriesIndex))}let Q=p(()=>J.value.map(e=>({...e,opacity:M.value.includes(e.seriesIndex)?.5:1,segregate:()=>Z(e.seriesIndex),isSegregated:M.value.includes(e.seriesIndex),shape:`circle`}))),Fn=p(()=>({cy:`history-plot-div-legend`,backgroundColor:V.value.style.chart.legend.backgroundColor,color:V.value.style.chart.legend.color,fontSize:V.value.style.chart.legend.fontSize,paddingBottom:12,fontWeight:V.value.style.chart.legend.bold?`bold`:``}));function In({datapoint:e,plotIndex:t,seriesIndex:n}){V.value.events.datapointClick&&V.value.events.datapointClick({datapoint:{...e,plotIndex:t,seriesIndex:n},seriesIndex:n}),tn(`selectDatapoint`,e)}function Ln(e){tn(`selectLegend`,{...e,isSegregated:!e.isSegregated,opacity:e.isSegregated?1:.5})}function Rn(e){N.value=e,Gt.value+=1}let zn=x(null);function Bn({datapoint:e,plotIndex:t,seriesIndex:n}){V.value.events.datapointLeave&&V.value.events.datapointLeave({datapoint:{...e,plotIndex:t,seriesIndex:n},seriesIndex:n}),qt.value=!1,P.value=null}function Vn({datapoint:e,plotIndex:t,seriesIndex:n}){V.value.events.datapointEnter&&V.value.events.datapointEnter({datapoint:{...e,plotIndex:t,seriesIndex:n},seriesIndex:n}),zn.value={datapoint:e,seriesIndex:n,plotIndex:t,config:V.value,series:J.value},P.value=e;let r=V.value.style.chart.tooltip.customFormat;if(F.value=!1,le(r))try{let i=r({seriesIndex:n,datapoint:e,plotIndex:t,series:J.value,config:V.value});typeof i==`string`&&(Jt.value=i,F.value=!0)}catch{console.warn(`Custom format cannot be applied.`),F.value=!1}if(!F.value){let t=``;t+=`<div style="display:flex;flex-direction:row;gap:6px;align-items:center;border-bottom:1px solid ${V.value.style.chart.tooltip.borderColor};margin-bottom:3px;padding-bottom:6px;"><svg viewBox="0 0 12 12" height="14" width="14"><circle cx="6" cy="6" r="6" stroke="none" fill="${e.color}"/></svg><span>${e.seriesName}</span></div>`,t+=`<div>${e.label}</div>`,t+=`<div>${V.value.style.chart.axes.x.name.text||`x`}: ${E(V.value.style.chart.axes.x.labels.formatter,e.valueX,C({p:V.value.style.chart.axes.x.labels.prefix,v:e.valueX,s:V.value.style.chart.axes.x.labels.suffix,r:V.value.style.chart.axes.x.labels.rounding}))}</div>`,t+=`<div>${V.value.style.chart.axes.y.name.text||`y`}: ${E(V.value.style.chart.axes.y.labels.formatter,e.valueY,C({p:V.value.style.chart.axes.y.labels.prefix,v:e.valueY,s:V.value.style.chart.axes.y.labels.suffix,r:V.value.style.chart.axes.y.labels.rounding}))}</div>`,Jt.value=`<div>${t}</div>`}qt.value=!0}p(()=>({head:X.value.map(e=>({name:e.name,color:e.color}))}));let Hn=p(()=>{let e=[V.value.table.columnNames.series,V.value.table.columnNames.datapoint,V.value.table.columnNames.x,V.value.table.columnNames.y];return{head:e,body:X.value.flatMap(e=>e.plots.map(e=>[{color:e.color,name:e.seriesName},e.label,E(V.value.style.chart.axes.x.labels.formatter,e.valueX,C({p:V.value.style.chart.axes.x.labels.prefix,v:e.valueX,s:V.value.style.chart.axes.x.labels.suffix,r:V.value.style.chart.axes.x.labels.rounding})),E(V.value.style.chart.axes.y.labels.formatter,e.valueY,C({p:V.value.style.chart.axes.y.labels.prefix,v:e.valueY,s:V.value.style.chart.axes.y.labels.suffix,r:V.value.style.chart.axes.y.labels.rounding}))])),config:{th:{backgroundColor:V.value.table.th.backgroundColor,color:V.value.table.th.color,outline:V.value.table.th.outline},td:{backgroundColor:V.value.table.td.backgroundColor,color:V.value.table.td.color,outline:V.value.table.td.outline},breakpoint:V.value.table.responsiveBreakpoint},colNames:e}});function Un(e=null){ce(()=>{let t=[[V.value.table.columnNames.series],[V.value.table.columnNames.datapoint],[V.value.table.columnNames.x],[V.value.table.columnNames.y]],n=X.value.flatMap(e=>e.plots.map(e=>[[e.seriesName],[e.label],[e.valueX],[e.valueY]])),r=ye([[V.value.style.chart.title.text],[V.value.style.chart.title.subtitle.text],t].concat(n));e?e(r):de({csvContent:r,title:V.value.style.chart.title.text||`vue-ui-history-plot`})})}let Wn=x(!1);function Gn(){Wn.value=!Wn.value}function Kn(){W.value.showTable=!W.value.showTable}function qn(){W.value.showTooltip=!W.value.showTooltip}function Jn(){return X.value}async function Yn({scale:e=2}={}){if(!O.value)return;let{width:t,height:n}=O.value.getBoundingClientRect(),r=t/n,{imageUri:i,base64:a}=await Fe({domElement:O.value,base64:!0,img:!0,scale:e});return{imageUri:i,base64:a,title:V.value.style.chart.title.text,width:t,height:n,aspectRatio:r}}Pe({timeLabelsEls:z,timeLabels:p(()=>Y.value.tickX),slicer:p(()=>({start:0,end:Y.value.tickX.length})),configRef:V,rotationPath:[`style`,`chart`,`axes`,`x`,`labels`,`rotation`],autoRotatePath:[`style`,`chart`,`axes`,`x`,`labels`,`autoRotate`,`enable`],isAutoSize:!1,width:yn,height:bn,targetClass:`.vue-ui-history-plot-x-axis-scale`,rotation:V.value.style.chart.axes.x.labels.autoRotate.angle});let $=p(()=>{let e=V.value.table.useDialog&&!V.value.table.show,t=W.value.showTable;return{component:e?It:qe,title:`${V.value.style.chart.title.text}${V.value.style.chart.title.subtitle.text?`: ${V.value.style.chart.title.subtitle.text}`:``}`,props:e?{backgroundColor:V.value.table.th.backgroundColor,color:V.value.table.th.color,headerColor:V.value.table.th.color,headerBg:V.value.table.th.backgroundColor,isFullscreen:N.value,fullscreenParent:O.value,forcedWidth:Math.min(800,window.innerWidth*.8)}:{hideDetails:!0,config:{open:t,maxHeight:1e4,body:{backgroundColor:V.value.style.chart.backgroundColor,color:V.value.style.chart.color},head:{backgroundColor:V.value.style.chart.backgroundColor,color:V.value.style.chart.color}}}}});v(()=>W.value.showTable,e=>{V.value.table.show||(e&&V.value.table.useDialog&&I.value?I.value.open():`close`in I.value&&I.value.close())});function Xn(){W.value.showTable=!1,Zt.value&&Zt.value.setTableIconState(!1)}let Zn=p(()=>V.value.style.chart.backgroundColor),Qn=p(()=>V.value.style.chart.legend),{exportSvg:$n,getSvg:er}=Me({svg:fn,title:p(()=>V.value.style.chart.title),legend:Qn,legendItems:Q,backgroundColor:Zn});async function tr({isCb:e}){R.value=!0,await ce();try{if(e){let{blob:e,url:t,text:n,dataUrl:r}=await er();await Promise.resolve(V.value.userOptions.callbacks.svg({blob:e,url:t,text:n,dataUrl:r}))}else await Promise.resolve($n())}finally{R.value=!1}}function nr(e){if(e?.stage===`start`){L.value=!0;return}if(e?.stage===`end`){L.value=!1;return}gn()}async function rr(){if(tn(`copyAlt`,{config:V.value,dataset:X.value}),!V.value.userOptions.callbacks.altCopy){console.warn("Vue Data UI - A callback must be set for `altCopy` in userOptions.");return}await Promise.resolve(V.value.userOptions.callbacks.altCopy({config:V.value,dataset:X.value}))}return Ue({getData:Jn,getImage:Yn,generatePdf:hn,generateCsv:Un,generateImage:gn,generateSvg:tr,hideSeries:Pn,showSeries:Nn,toggleTable:Kn,toggleTooltip:qn,toggleAnnotator:Gn,toggleFullscreen:Rn,copyAlt:rr}),(i,a)=>(o(),y(`div`,{id:`history_plot_${j.value}`,ref_key:`historyPlotChart`,ref:O,class:e({"vue-data-ui-component":!0,"vue-ui-history-plot":!0,"vue-data-ui-wrapper-fullscreen":N.value}),style:c(`background:${V.value.style.chart.backgroundColor};color:${V.value.style.chart.color};font-family:${V.value.style.fontFamily}; position: relative; ${V.value.responsive?`height: 100%`:``}`),onMouseenter:a[2]||=()=>r(un)(!0),onMouseleave:a[3]||=()=>r(un)(!1)},[u(i.$slots,`userConfig`,{},void 0,!0),V.value.userOptions.buttons.annotator?(o(),d(r(Ye),{key:0,svgRef:r(fn),backgroundColor:V.value.style.chart.backgroundColor,color:V.value.style.chart.color,active:Wn.value,isCursorPointer:H.value,onClose:Gn},{"annotator-action-close":g(()=>[u(i.$slots,`annotator-action-close`,{},void 0,!0)]),"annotator-action-color":g(({color:e})=>[u(i.$slots,`annotator-action-color`,m(s({color:e})),void 0,!0)]),"annotator-action-draw":g(({mode:e})=>[u(i.$slots,`annotator-action-draw`,m(s({mode:e})),void 0,!0)]),"annotator-action-undo":g(({disabled:e})=>[u(i.$slots,`annotator-action-undo`,m(s({disabled:e})),void 0,!0)]),"annotator-action-redo":g(({disabled:e})=>[u(i.$slots,`annotator-action-redo`,m(s({disabled:e})),void 0,!0)]),"annotator-action-delete":g(({disabled:e})=>[u(i.$slots,`annotator-action-delete`,m(s({disabled:e})),void 0,!0)]),_:3},8,[`svgRef`,`backgroundColor`,`color`,`active`,`isCursorPointer`])):t(``,!0),_n.value?(o(),y(`div`,{key:1,ref_key:`noTitle`,ref:Kt,class:`vue-data-ui-no-title-space`,style:`height:36px; width: 100%;background:transparent`},null,512)):t(``,!0),V.value.style.chart.title.text?(o(),y(`div`,{key:2,ref_key:`chartTitle`,ref:Bt,class:`vue-ui-xy-title`,style:c(`font-family:${V.value.style.fontFamily}`)},[(o(),d(Ie,{key:`title_${Vt.value}`,config:{title:{cy:`history-plot-div-title`,...V.value.style.chart.title},subtitle:{cy:`history-plot-div-subtitle`,...V.value.style.chart.title.subtitle}}},null,8,[`config`]))],4)):t(``,!0),b(`div`,{id:`legend-top-${j.value}`},null,8,et),V.value.userOptions.show&&B.value&&(r(dn)||r(ln))?(o(),d(r(Xe),{ref_key:`userOptionsRef`,ref:Zt,key:`user_option_${Gt.value}`,backgroundColor:V.value.style.chart.backgroundColor,color:V.value.style.chart.color,isPrinting:r(pn),isImaging:r(mn),uid:j.value,hasTooltip:V.value.style.chart.tooltip.show&&V.value.userOptions.buttons.tooltip,hasPdf:V.value.userOptions.buttons.pdf,hasImg:V.value.userOptions.buttons.img,hasSvg:V.value.userOptions.buttons.svg,hasXls:V.value.userOptions.buttons.csv,hasTable:V.value.userOptions.buttons.table,hasLabel:!1,hasFullscreen:V.value.userOptions.buttons.fullscreen,hasAltCopy:V.value.userOptions.buttons.altCopy,isFullscreen:N.value,chartElement:O.value,position:V.value.userOptions.position,isTooltip:W.value.showTooltip,titles:{...V.value.userOptions.buttonTitles},hasAnnotator:V.value.userOptions.buttons.annotator,isAnnotation:Wn.value,callbacks:V.value.userOptions.callbacks,printScale:V.value.userOptions.print.scale,tableDialog:V.value.table.useDialog,isCursorPointer:H.value,onToggleFullscreen:Rn,onGeneratePdf:r(hn),onGenerateCsv:Un,onGenerateImage:nr,onGenerateSvg:tr,onToggleTable:Kn,onToggleTooltip:qn,onToggleAnnotator:Gn,onCopyAlt:rr,style:c({visibility:r(dn)?r(ln)?`visible`:`hidden`:`visible`})},re({_:2},[i.$slots.menuIcon?{name:`menuIcon`,fn:g(({isOpen:e,color:t})=>[u(i.$slots,`menuIcon`,m(s({isOpen:e,color:t})),void 0,!0)]),key:`0`}:void 0,i.$slots.optionTooltip?{name:`optionTooltip`,fn:g(()=>[u(i.$slots,`optionTooltip`,{},void 0,!0)]),key:`1`}:void 0,i.$slots.optionPdf?{name:`optionPdf`,fn:g(()=>[u(i.$slots,`optionPdf`,{},void 0,!0)]),key:`2`}:void 0,i.$slots.optionCsv?{name:`optionCsv`,fn:g(()=>[u(i.$slots,`optionCsv`,{},void 0,!0)]),key:`3`}:void 0,i.$slots.optionImg?{name:`optionImg`,fn:g(()=>[u(i.$slots,`optionImg`,{},void 0,!0)]),key:`4`}:void 0,i.$slots.optionSvg?{name:`optionSvg`,fn:g(()=>[u(i.$slots,`optionSvg`,{},void 0,!0)]),key:`5`}:void 0,i.$slots.optionTable?{name:`optionTable`,fn:g(()=>[u(i.$slots,`optionTable`,{},void 0,!0)]),key:`6`}:void 0,i.$slots.optionFullscreen?{name:`optionFullscreen`,fn:g(({toggleFullscreen:e,isFullscreen:t})=>[u(i.$slots,`optionFullscreen`,m(s({toggleFullscreen:e,isFullscreen:t})),void 0,!0)]),key:`7`}:void 0,i.$slots.optionAnnotator?{name:`optionAnnotator`,fn:g(({toggleAnnotator:e,isAnnotator:t})=>[u(i.$slots,`optionAnnotator`,m(s({toggleAnnotator:e,isAnnotator:t})),void 0,!0)]),key:`8`}:void 0,i.$slots.optionAltCopy?{name:`optionAltCopy`,fn:g(({altCopy:e})=>[u(i.$slots,`optionAltCopy`,m(s({altCopy:e})),void 0,!0)]),key:`9`}:void 0]),1032,`backgroundColor.color.isPrinting.isImaging.uid.hasTooltip.hasPdf.hasImg.hasSvg.hasXls.hasTable.hasFullscreen.hasAltCopy.isFullscreen.chartElement.position.isTooltip.titles.hasAnnotator.isAnnotation.callbacks.printScale.tableDialog.isCursorPointer.onGeneratePdf.style`.split(`.`))):t(``,!0),(o(),y(`svg`,{ref_key:`svgRef`,ref:fn,xmlns:r(be),viewBox:`0 0 ${G.value.width<0?.1:G.value.width} ${G.value.height<0?.1:G.value.height}`,style:c(`max-width:100%;overflow:visible;background:transparent;color:${V.value.style.chart.color}`)},[ee(r(Qe)),i.$slots[`chart-background`]?(o(),y(`foreignObject`,{key:0,x:K.value.left,y:K.value.top,width:K.value.width<=0?10:K.value.width,height:K.value.height<=0?10:K.value.height,style:{pointerEvents:`none`}},[u(i.$slots,`chart-background`,{},void 0,!0)],8,nt)):t(``,!0),V.value.style.chart.plots.gradient.show?(o(),y(`defs`,rt,[(o(!0),y(_,null,f(X.value,(e,t)=>(o(),y(`radialGradient`,{id:`gradient_${t}_${j.value}`,fy:`30%`},[b(`stop`,{offset:`10%`,"stop-color":r(Ce)(e.color,V.value.style.chart.plots.gradient.intensity/100)},null,8,at),b(`stop`,{offset:`90%`,"stop-color":r(he)(e.color,.1)},null,8,ot),b(`stop`,{offset:`100%`,"stop-color":e.color},null,8,st)],8,it))),256))])):t(``,!0),V.value.style.chart.grid.verticalLines.show?(o(),y(`g`,ct,[(o(!0),y(_,null,f(Y.value.tickX,e=>(o(),y(`line`,{x1:e.x,x2:e.x,y1:e.y1,y2:e.y2,stroke:V.value.style.chart.grid.verticalLines.stroke,"stroke-width":V.value.style.chart.grid.verticalLines.strokeWidth,"stroke-linecap":`round`},null,8,lt))),256))])):t(``,!0),V.value.style.chart.axes.y.labels.show?(o(),y(`g`,ut,[(o(!0),y(_,null,f(Y.value.tickY,e=>(o(),y(`line`,{stroke:V.value.style.chart.grid.verticalLines.stroke,"stroke-width":V.value.style.chart.grid.verticalLines.strokeWidth,"stroke-linecap":`round`,x1:K.value.left-5,x2:K.value.left,y1:e.y,y2:e.y},null,8,dt))),256))])):t(``,!0),V.value.style.chart.axes.y.labels.show?(o(),y(`g`,{key:4,ref_key:`yAxisScales`,ref:en},[(o(!0),y(_,null,f(Y.value.tickY,e=>(o(),y(`text`,{x:K.value.left+V.value.style.chart.axes.y.labels.offsetX-4-V.value.style.chart.plots.radius,y:e.y+q.value.yAxisLabels/3,fill:V.value.style.chart.axes.y.labels.color,"font-size":q.value.yAxisLabels,"text-anchor":`end`},l(r(E)(V.value.style.chart.axes.y.labels.formatter,e.value,r(C)({p:V.value.style.chart.axes.y.labels.prefix,v:e.value,s:V.value.style.chart.axes.y.labels.suffix,r:V.value.style.chart.axes.y.labels.rounding}))),9,ft))),256))],512)):t(``,!0),V.value.style.chart.axes.y.name.text?(o(),y(`text`,{key:5,ref_key:`yAxisLabel`,ref:$t,transform:`translate(${q.value.yAxisName}, ${G.value.height/2+V.value.style.chart.axes.y.name.offsetY}), rotate(-90)`,"font-size":q.value.yAxisName,fill:V.value.style.chart.axes.y.name.color,"font-weight":V.value.style.chart.axes.y.name.bold?`bold`:`normal`,"text-anchor":`middle`},l(V.value.style.chart.axes.y.name.text),9,pt)):t(``,!0),V.value.style.chart.grid.horizontalLines.show?(o(),y(`g`,mt,[(o(!0),y(_,null,f(Y.value.tickY,e=>(o(),y(`line`,{x1:e.x1,x2:e.x2,y1:e.y,y2:e.y,stroke:V.value.style.chart.grid.horizontalLines.stroke,"stroke-width":V.value.style.chart.grid.horizontalLines.strokeWidth,"stroke-linecap":`round`},null,8,ht))),256))])):t(``,!0),V.value.style.chart.axes.x.labels.show?(o(),y(`g`,gt,[(o(!0),y(_,null,f(Y.value.tickX,e=>(o(),y(`line`,{stroke:V.value.style.chart.grid.verticalLines.stroke,"stroke-width":V.value.style.chart.grid.verticalLines.strokeWidth,"stroke-linecap":`round`,x1:e.x,x2:e.x,y1:K.value.bottom,y2:K.value.bottom+5},null,8,_t))),256))])):t(``,!0),V.value.style.chart.axes.x.labels.show?(o(),y(`g`,{key:8,ref_key:`xAxisScales`,ref:z},[(o(!0),y(_,null,f(Y.value.tickX,e=>(o(),y(`text`,{class:`vue-ui-history-plot-x-axis-scale`,transform:`translate(${e.x}, ${K.value.bottom+V.value.style.chart.axes.x.labels.offsetY+q.value.xAxisLabels+V.value.style.chart.plots.radius}), rotate(${V.value.style.chart.axes.x.labels.rotation})`,fill:V.value.style.chart.axes.x.labels.color,"font-size":q.value.xAxisLabels,"text-anchor":V.value.style.chart.axes.x.labels.rotation>0?`start`:V.value.style.chart.axes.x.labels.rotation<0?`end`:`middle`},l(r(E)(V.value.style.chart.axes.x.labels.formatter,e.value,r(C)({p:V.value.style.chart.axes.x.labels.prefix,v:e.value,s:V.value.style.chart.axes.x.labels.suffix,r:V.value.style.chart.axes.x.labels.rounding}))),9,vt))),256))],512)):t(``,!0),V.value.style.chart.axes.x.name.text?(o(),y(`text`,{key:9,ref_key:`xAxisLabel`,ref:Qt,x:G.value.width/2+V.value.style.chart.axes.x.name.offsetX,y:G.value.height,"font-size":q.value.xAxisName,fill:V.value.style.chart.axes.x.name.color,"font-weight":V.value.style.chart.axes.x.name.bold?`bold`:`normal`,"text-anchor":`middle`},l(V.value.style.chart.axes.x.name.text),9,yt)):t(``,!0),V.value.style.chart.grid.xAxis.show?(o(),y(`line`,{key:10,x1:K.value.left,x2:K.value.left+K.value.width,y1:K.value.bottom,y2:K.value.bottom,stroke:V.value.style.chart.grid.xAxis.stroke,"stroke-width":V.value.style.chart.grid.xAxis.strokeWidth,"stroke-linecap":`round`},null,8,bt)):t(``,!0),V.value.style.chart.grid.yAxis.show?(o(),y(`line`,{key:11,x1:K.value.left,x2:K.value.left,y1:K.value.top,y2:K.value.bottom,stroke:V.value.style.chart.grid.yAxis.stroke,"stroke-width":V.value.style.chart.grid.yAxis.strokeWidth,"stroke-linecap":`round`},null,8,xt)):t(``,!0),(o(!0),y(_,null,f(X.value,(n,i)=>(o(),y(`g`,null,[V.value.style.chart.paths.show?(o(),y(`g`,{key:0,style:c({opacity:P.value===null?1:.3})},[b(`path`,{d:n.path,stroke:V.value.style.chart.backgroundColor,"stroke-width":V.value.style.chart.paths.strokeWidth+4,fill:`none`,"stroke-linecap":`round`,"stroke-linejoin":`round`,class:e({animated:V.value.useCssAnimation&&!r(U)})},null,10,St),b(`path`,{d:n.path,stroke:V.value.style.chart.paths.useSerieColor?n.color:V.value.style.chart.paths.stroke,"stroke-width":V.value.style.chart.paths.strokeWidth,fill:`none`,"stroke-linecap":`round`,"stroke-linejoin":`round`,class:e({animated:V.value.useCssAnimation&&!r(U)})},null,10,Ct)],4)):t(``,!0),(o(!0),y(_,null,f(n.plots,e=>(o(),y(`circle`,{cx:e.x,cy:e.y,fill:V.value.style.chart.backgroundColor,r:q.value.plots,stroke:`none`},null,8,wt))),256)),(o(!0),y(_,null,f(n.plots,t=>(o(),y(`circle`,{cx:t.x,cy:t.y,fill:V.value.style.chart.plots.gradient.show?`url(#gradient_${i}_${j.value})`:t.color,r:q.value.plots,stroke:V.value.style.chart.plots.stroke,"stroke-width":V.value.style.chart.plots.strokeWidth,class:e({animated:V.value.useCssAnimation&&!r(U)}),style:c({opacity:P.value===null||P.value.id===t.id?1:.3,transition:`opacity 0.2s ease-in-out`})},null,14,Tt))),256)),V.value.style.chart.plots.labels.show?(o(),y(`g`,Et,[(o(!0),y(_,null,f(n.plots,t=>(o(),y(`g`,null,[String(t.label).includes(`
`)?(o(),y(`text`,{key:1,x:t.x+V.value.style.chart.plots.labels.offsetX,y:t.y+V.value.style.chart.plots.labels.offsetY+q.value.plots+q.value.labels,"font-size":q.value.labels,fill:V.value.style.chart.plots.labels.color,"font-weight":V.value.style.chart.plots.labels.bold?`bold`:`normal`,"text-anchor":`middle`,class:e({animated:V.value.useCssAnimation&&!r(U)}),style:c({opacity:P.value===null||P.value.id===t.id?1:.3,transition:`opacity 0.2s ease-in-out`}),innerHTML:r(ue)({content:String(t.label),fontSize:q.value.labels,fill:V.value.style.chart.plots.labels.color,x:t.x+V.value.style.chart.plots.labels.offsetX,y:t.y+V.value.style.chart.plots.labels.offsetY+q.value.plots+q.value.labels})},null,14,Ot)):(o(),y(`text`,{key:0,x:t.x+V.value.style.chart.plots.labels.offsetX,y:t.y+V.value.style.chart.plots.labels.offsetY+q.value.plots+q.value.labels,"font-size":q.value.labels,fill:V.value.style.chart.plots.labels.color,"font-weight":V.value.style.chart.plots.labels.bold?`bold`:`normal`,"text-anchor":`middle`,class:e({animated:V.value.useCssAnimation&&!r(U)}),style:c({opacity:P.value===null||P.value.id===t.id?1:.3,transition:`opacity 0.2s ease-in-out`})},l(t.label),15,Dt))]))),256))])):t(``,!0),V.value.style.chart.plots.indexLabels.show?(o(),y(`g`,kt,[(o(!0),y(_,null,f(n.plots,(t,i)=>(o(),y(`text`,{x:t.x+V.value.style.chart.plots.indexLabels.offsetX,y:t.y+V.value.style.chart.plots.indexLabels.offsetY+q.value.indexLabels/3,"font-size":q.value.indexLabels,"font-weight":V.value.style.chart.plots.indexLabels.bold?`bold`:`normal`,fill:V.value.style.chart.plots.indexLabels.adaptColorToBackground?r(me)(n.color):V.value.style.chart.plots.indexLabels.color,"text-anchor":`middle`,class:e({animated:V.value.useCssAnimation&&!r(U)}),style:c({opacity:P.value===null||P.value.id===t.id?1:.3,transition:`opacity 0.2s ease-in-out`})},l(V.value.style.chart.plots.indexLabels.startAtZero?i:i+1),15,At))),256))])):t(``,!0)]))),256)),(o(!0),y(_,null,f(X.value,e=>(o(),y(`g`,null,[(o(!0),y(_,null,f(e.plots,(t,n)=>(o(),y(`circle`,{cx:t.x,cy:t.y,fill:`transparent`,r:q.value.plots,stroke:`none`,onMouseenter:r=>Vn({datapoint:t,plotIndex:n,seriesIndex:e.seriesIndex}),onMouseleave:r=>Bn({datapoint:t,plotIndex:n,seriesIndex:e.seriesIndex}),onClick:r=>In({datapoint:t,plotIndex:n,seriesIndex:e.seriesIndex})},null,40,jt))),256))]))),256)),u(i.$slots,`svg`,{svg:{...G.value,isPrintingImg:r(pn)|r(mn)|L.value,isPrintingSvg:R.value}},void 0,!0)],12,tt)),i.$slots.watermark?(o(),y(`div`,Mt,[u(i.$slots,`watermark`,m(s({isPrinting:r(pn)||r(mn)||L.value||R.value})),void 0,!0)])):t(``,!0),b(`div`,{id:`legend-bottom-${j.value}`},null,8,Nt),Xt.value?(o(),d(ae,{key:5,to:V.value.style.chart.legend.position===`top`?`#legend-top-${j.value}`:`#legend-bottom-${j.value}`},[b(`div`,{ref_key:`chartLegend`,ref:Ht},[V.value.style.chart.legend.show&&B.value?(o(),d(He,{key:`legend_${Ut.value}`,legendSet:Q.value,config:Fn.value,isCursorPointer:H.value,onClickMarker:a[0]||=({legend:e})=>{Z(e.seriesIndex),Ln(e)}},{item:g(({legend:e,index:t})=>[b(`div`,{onClick:t=>{e.segregate(),Ln(e)},style:c(`opacity:${M.value.includes(e.seriesIndex)?.5:1}`)},l(e.name),13,Pt)]),legendToggle:g(()=>[Q.value.length>2&&V.value.style.chart.legend.selectAllToggle.show&&!r(U)?(o(),d(ze,{key:0,backgroundColor:V.value.style.chart.legend.selectAllToggle.backgroundColor,color:V.value.style.chart.legend.selectAllToggle.color,fontSize:V.value.style.chart.legend.fontSize,checked:M.value.length>0,isCursorPointer:H.value,onToggle:jn},null,8,[`backgroundColor`,`color`,`fontSize`,`checked`,`isCursorPointer`])):t(``,!0)]),_:1},8,[`legendSet`,`config`,`isCursorPointer`])):u(i.$slots,`legend`,{key:1,legend:Q.value},void 0,!0)],512)],8,[`to`])):t(``,!0),i.$slots.source?(o(),y(`div`,{key:6,ref_key:`source`,ref:Yt,dir:`auto`},[u(i.$slots,`source`,{},void 0,!0)],512)):t(``,!0),ee(r(Ge),{teleportTo:V.value.style.chart.tooltip.teleportTo,show:W.value.showTooltip&&qt.value,backgroundColor:V.value.style.chart.tooltip.backgroundColor,color:V.value.style.chart.tooltip.color,fontSize:V.value.style.chart.tooltip.fontSize,borderRadius:V.value.style.chart.tooltip.borderRadius,borderColor:V.value.style.chart.tooltip.borderColor,borderWidth:V.value.style.chart.tooltip.borderWidth,backgroundOpacity:V.value.style.chart.tooltip.backgroundOpacity,position:V.value.style.chart.tooltip.position,offsetY:V.value.style.chart.tooltip.offsetY,parent:O.value,content:Jt.value,isCustom:F.value,isFullscreen:N.value,smooth:V.value.style.chart.tooltip.smooth,backdropFilter:V.value.style.chart.tooltip.backdropFilter,smoothForce:V.value.style.chart.tooltip.smoothForce,smoothSnapThreshold:V.value.style.chart.tooltip.smoothSnapThreshold},{"tooltip-before":g(()=>[u(i.$slots,`tooltip-before`,m(s({...zn.value})),void 0,!0)]),"tooltip-after":g(()=>[u(i.$slots,`tooltip-after`,m(s({...zn.value})),void 0,!0)]),_:3},8,[`teleportTo`,`show`,`backgroundColor`,`color`,`fontSize`,`borderRadius`,`borderColor`,`borderWidth`,`backgroundOpacity`,`position`,`offsetY`,`parent`,`content`,`isCustom`,`isFullscreen`,`smooth`,`backdropFilter`,`smoothForce`,`smoothSnapThreshold`]),B.value&&V.value.userOptions.buttons.table?(o(),d(oe($.value.component),te({key:7},$.value.props,{ref_key:`tableUnit`,ref:I,onClose:Xn}),re({content:g(()=>[(o(),d(r(Je),{key:`table_${Wt.value}`,colNames:Hn.value.colNames,head:Hn.value.head,body:Hn.value.body,config:Hn.value.config,title:V.value.table.useDialog?``:$.value.title,withCloseButton:!V.value.table.useDialog,isCursorPointer:H.value,onClose:Xn},{th:g(({th:e})=>[b(`div`,{innerHTML:e,style:{display:`flex`,"align-items":`center`}},null,8,Ft)]),td:g(({td:e})=>[n(l(e.name||e),1)]),_:1},8,[`colNames`,`head`,`body`,`config`,`title`,`withCloseButton`,`isCursorPointer`]))]),_:2},[V.value.table.useDialog?{name:`title`,fn:g(()=>[n(l($.value.title),1)]),key:`0`}:void 0,V.value.table.useDialog?{name:`actions`,fn:g(()=>[b(`button`,{tabindex:`0`,class:`vue-ui-user-options-button`,onClick:a[1]||=e=>Un(V.value.userOptions.callbacks.csv),style:c({cursor:H.value?`pointer`:`default`})},[ee(r(Ke),{name:`fileCsv`,stroke:$.value.props.color},null,8,[`stroke`])],4)]),key:`1`}:void 0]),1040)):t(``,!0),u(i.$slots,`skeleton`,{},()=>[r(U)?(o(),d(Ae,{key:0})):t(``,!0)],!0)],46,$e))}},[[`__scopeId`,`data-v-e7c471f3`]]),Lt=Object.freeze(Object.defineProperty({__proto__:null,default:It},Symbol.toStringTag,{value:`Module`}));export{Qe as a,Lt as b};