const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./CbFHGlY2.js","./BLt7TXlb.js","./Cf-0F-2c.js","./CH8pva4p.js","./xh7dz5-d.js","./CWNsAIol.js","./C0O4I1kb.js","./DHC76net.js","./BDmUravP.js","./D7-tWLRc.js","./DuIAB7Tu.js","./ouuS7bD_.js","./C66xQW7K.js","./BIodG7vT.js"])))=>i.map(i=>d[i]);
import{At as e,C as t,D as n,Dt as r,G as i,H as a,J as o,M as s,Mt as c,Nt as l,O as u,Q as d,R as ee,S as f,St as te,T as ne,Tt as re,_ as ie,b as p,et as ae,it as oe,jt as m,k as se,lt as h,ot as g,st as ce,w as le,x as _,yt as v,z as ue}from"./BLt7TXlb.js";import{t as de}from"./YZkb6lnT.js";import{Et as fe,F as pe,It as me,Mt as y,N as he,Nt as ge,Ot as _e,P as ve,V as ye,_ as be,_t as xe,a as Se,dt as Ce,h as we,it as b,j as Te,pt as Ee,v as De,vt as Oe,wt as ke,y as Ae}from"./Cf-0F-2c.js";import{n as je,r as Me,t as Ne}from"./tZv40UlZ.js";import{n as Pe,t as Fe}from"./8DvoFuCx.js";import{t as Ie}from"./Cme7ewGR.js";import{t as Le}from"./CWNsAIol.js";import{n as Re,t as ze}from"./D4ushAer.js";import{t as Be}from"./BwaPX4qL.js";import{t as Ve}from"./BDmUravP.js";import{t as He}from"./BIZzPpPz.js";import{a as Ue,c as We,i as x,l as Ge,n as Ke,o as qe,r as Je,s as Ye,t as S}from"./D4v1zV2y.js";import{t as Xe}from"./xh7dz5-d.js";import{t as Ze}from"./Cpd__yay.js";import{t as Qe}from"./CRSLCJ2m.js";import{t as $e}from"./CB2Wh4RA.js";import{t as et}from"./BEpjx3T_.js";import{t as tt}from"./DMqKe8aR.js";import{t as nt}from"./CMjlbb0z.js";var rt={userOptions:{show:!1},style:{chart:{zoom:{minimap:{show:!0}},legend:{show:!1},bar:{gradient:{show:!1}}}}},it={userOptions:{show:!1},style:{chart:{backgroundColor:`#1A1A1A`,color:`#CCCCCC`,zoom:{color:`#4A4A4A`,highlightColor:`#9A9A9A`,minimap:{show:!0,selectedColor:`#8A8A8A`,lineColor:`#424242`,indicatorColor:`#CCCCCC`}},selector:{color:`#CCCCCC`},legend:{show:!1,backgroundColor:`#1A1A1A`,color:`#CCCCCC`,selectAllToggle:{backgroundColor:`#3A3A3A`,color:`#CCCCCC`}},title:{color:`#CCCCCC`,subtitle:{color:`#757575`}},tooltip:{backgroundColor:`#1A1A1A`,backgroundOpacity:70,color:`#CCCCCC`,borderColor:`#3A3A3A`},grid:{y:{axisColor:`#5A5A5A`,axisLabels:{color:`#CCCCCC`},verticalLines:{color:`#4A4A4A`}},x:{axisColor:`#5A5A5A`,horizontalLines:{color:`#4A4A4A`},timeLabels:{color:`#CCCCCC`}},zeroLine:{color:`#5A5A5A`}},dataLabels:{color:`#CCCCCC`},bar:{gradient:{show:!1}}}},table:{th:{backgroundColor:`#1A1A1A`,color:`#CCCCCC`},td:{backgroundColor:`#1A1A1A`,color:`#CCCCCC`}}},at={style:{chart:{backgroundColor:`#1A1A1A`,color:`#CCCCCC`,zoom:{color:`#4A4A4A`,highlightColor:`#9A9A9A`,minimap:{selectedColor:`#8A8A8A`,lineColor:`#424242`,indicatorColor:`#CCCCCC`}},selector:{color:`#CCCCCC`},legend:{backgroundColor:`#1A1A1A`,color:`#CCCCCC`,selectAllToggle:{backgroundColor:`#3A3A3A`,color:`#CCCCCC`}},title:{color:`#CCCCCC`,subtitle:{color:`#757575`}},tooltip:{backgroundColor:`#1A1A1A`,backgroundOpacity:70,color:`#CCCCCC`,borderColor:`#5A5A5A`},grid:{y:{axisColor:`#5A5A5A`,axisLabels:{color:`#CCCCCC`},verticalLines:{color:`#4A4A4A`}},x:{axisColor:`#5A5A5A`,horizontalLines:{color:`#4A4A4A`},timeLabels:{color:`#CCCCCC`}},zeroLine:{color:`#5A5A5A`}},dataLabels:{color:`#CCCCCC`}}},table:{th:{backgroundColor:`#1A1A1A`,color:`#CCCCCC`},td:{backgroundColor:`#1A1A1A`,color:`#CCCCCC`}}},ot={style:{chart:{backgroundColor:`#FFF8E1`,color:`#424242`,zoom:{color:`#5D4037`,highlightColor:`#FF8A65`},selector:{color:`#5D4037`},legend:{backgroundColor:`#FFF8E1`,color:`#424242`,selectAllToggle:{backgroundColor:`#5D4037`,color:`#FFF8E1`}},title:{color:`#424242`,subtitle:{color:`#757575`}},tooltip:{backgroundColor:`#FFECB3`,backgroundOpacity:30,color:`#424242`,borderColor:`#FF8A65`},grid:{y:{axisColor:`#5D4037`,axisLabels:{color:`#424242`},verticalLines:{show:!1}},x:{axisColor:`#5D4037`,horizontalLines:{color:`#9A9A9A`},timeLabels:{color:`#424242`}},zeroLine:{color:`#424242`}},dataLabels:{color:`#424242`}}},table:{th:{backgroundColor:`#FFF8E1`,color:`#424242`},td:{backgroundColor:`#FFF8E1`,color:`#424242`}}},st={style:{chart:{backgroundColor:`#1E1E1E`,color:`#BDBDBD`,zoom:{color:`#5D4037`,highlightColor:`#FF8A65`},selector:{color:`#BDBDBD`},legend:{backgroundColor:`#1E1E1E`,color:`#BDBDBD`,selectAllToggle:{backgroundColor:`#3A3A3A`,color:`#BDBDBD`}},title:{color:`#FFF8E1`,subtitle:{color:`#BDBDBD`}},tooltip:{backgroundColor:`#1E1E1E`,backgroundOpacity:30,color:`#FFF8E1`,borderColor:`#FF8A65`},grid:{y:{axisColor:`#5D4037`,axisLabels:{color:`#BDBDBD`},verticalLines:{show:!1}},x:{axisColor:`#5D4037`,horizontalLines:{color:`#3A3A3A`},timeLabels:{color:`#BDBDBD`}},zeroLine:{color:`#5D4037`}},dataLabels:{color:`#BDBDBD`}}},table:{th:{backgroundColor:`#1E1E1E`,color:`#BDBDBD`},td:{backgroundColor:`#1E1E1E`,color:`#BDBDBD`}}},ct={style:{chart:{backgroundColor:`#1A1A1A`,color:`#99AA99`,zoom:{color:`#5F6A5F`,highlightColor:`#66CC66`},selector:{color:`#66CC66`},legend:{backgroundColor:`#1A1A1A`,color:`#99AA99`,selectAllToggle:{backgroundColor:`#3A3A3A`,color:`#99AA99`}},title:{color:`#66CC66`,subtitle:{color:`#99AA99`}},tooltip:{backgroundColor:`#2A2F2A`,color:`#AACCAA`,borderColor:`#66CC66`,borderRadius:0},grid:{y:{axisColor:`#5F6A5F`,axisLabels:{color:`#99AA99`},verticalLines:{show:!1}},x:{axisColor:`#5F6A5F`,horizontalLines:{color:`#3A3A3A`},timeLabels:{color:`#99AA99`}},zeroLine:{color:`#444444`}},dataLabels:{color:`#99AA99`}}},table:{th:{backgroundColor:`#1A1A1A`,color:`#99AA99`},td:{backgroundColor:`#1A1A1A`,color:`#AACCAA`}}},lt={style:{chart:{backgroundColor:`#fbfafa`,color:`#8A9892`,zoom:{color:`#E0CFC3`,highlightColor:`#8F837A`},selector:{color:`#8F837A`},legend:{backgroundColor:`#fbfafa`,color:`#99AA99`,selectAllToggle:{backgroundColor:`#E0CFC3`,color:`#8F837A`}},title:{color:`#8A9892`,subtitle:{color:`#99AA99`}},tooltip:{backgroundColor:`#fbfafa`,color:`#8A9892`},grid:{y:{axisColor:`#8F837A`,axisLabels:{color:`#8F837A`},verticalLines:{show:!1}},x:{axisColor:`#8F837A`,horizontalLines:{show:!1,alternate:!1},timeLabels:{color:`#8F837A`}},zeroLine:{color:`#444444`}},dataLabels:{color:`#8F837A`}}},table:{th:{backgroundColor:`#fbfafa`,color:`#8F837A`},td:{backgroundColor:`#fbfafa`,color:`#8F837A`}}},ut={style:{chart:{backgroundColor:`#f6f6fb`,color:`#50606C`,zoom:{color:`#92B0AB`,highlightColor:`#50606C`},selector:{color:`#7DA9B5`},legend:{backgroundColor:`#f6f6fb`,color:`#61747E`,selectAllToggle:{backgroundColor:`#50606C`,color:`#f6f6fb`}},title:{color:`#50606C`,subtitle:{color:`#718890`}},tooltip:{backgroundColor:`#f6f6fb`,color:`#50606C`},grid:{y:{axisColor:`#829C98`,axisLabels:{color:`#50606C`},verticalLines:{show:!1}},x:{axisColor:`#829C98`,timeLabels:{color:`#50606C`}},zeroLine:{color:`#444444`}},dataLabels:{color:`#50606C`}}},table:{th:{backgroundColor:`#f6f6fb`,color:`#50606C`},td:{backgroundColor:`#f6f6fb`,color:`#50606C`}}},dt={default:{},minimal:rt,minimalDark:it,dark:at,celebration:ot,celebrationNight:st,hack:ct,zen:lt,concrete:ut},ft=Object.freeze(Object.defineProperty({__proto__:null,celebration:ot,celebrationNight:st,concrete:ut,dark:at,default:dt,hack:ct,minimal:rt,minimalDark:it,zen:lt},Symbol.toStringTag,{value:`Module`})),pt=[`id`],mt=[`id`],ht=[`id`],gt=[`onClick`],_t={key:4,class:`vue-data-ui-watermark`},vt=[`innerHTML`],yt=Le({__name:`vue-ui-xy-canvas`,props:{dataset:{type:Array,default(){return[]}},config:{type:Object,default(){return{}}},selectedXIndex:{type:Number,default:void 0}},emits:[`selectLegend`,`selectX`,`copyAlt`],setup(Le,{expose:rt,emit:it}){let at=se(()=>de(()=>import(`./CbFHGlY2.js`),__vite__mapDeps([0,1,2]),import.meta.url)),ot=se(()=>de(()=>import(`./CH8pva4p.js`),__vite__mapDeps([3,1,4,5,2,6]),import.meta.url)),st=se(()=>de(()=>import(`./DHC76net.js`),__vite__mapDeps([7,1,4,5,2,8,9,10]),import.meta.url)),ct=se(()=>de(()=>import(`./ouuS7bD_.js`),__vite__mapDeps([11,1,4,5,2,12,10]),import.meta.url)),lt=se(()=>de(()=>import(`./BIodG7vT.js`),__vite__mapDeps([13,1,4,5,2]),import.meta.url)),{vue_ui_xy_canvas:ut}=Fe(),{isThemeValid:ft,warnInvalidTheme:yt}=Be(),C=Le,w=v(ge()),T=v(null),bt=v(null),E=v(null),D=v(1),O=v(1),xt=v(!1),k=v(null),St=v(``),Ct=v(null),A=v([]),j=v(1),M=v(!0),N=v(!0),wt=v(null),Tt=v(0),Et=v(!1),Dt=v(null),Ot=v(null),P=v(null),kt=v(null),At=v(0),jt=v(0),Mt=v(0),F=v(null),Nt=v(!1),Pt=v(null),Ft=v(null),It=v(!1),Lt=v(!1),Rt=v(!1),I=v(null),zt=v(!1),L=p(()=>Array.isArray(Gt.value)&&Gt.value.length>0),Bt=it,Vt=oe();i(()=>{Vt[`chart-background`]&&console.warn(`VueUiXyCanvas does not support the #chart-background slot.`)});let R=v(Zt()),z=p(()=>R.value.userOptions.useCursorPointer),Ht=p(()=>!!R.value.debug),Ut=p(()=>ve({defaultConfig:{userOptions:{show:!1},table:{show:!1},style:{chart:{backgroundColor:`#99999930`,grid:{x:{axisColor:`#6A6A6A`,timeLabels:{show:!1},axisName:``,horizontalLines:{color:`#6A6A6A`}},y:{axisColor:`#6A6A6A`,axisLabels:{show:!1},axisName:``,verticalLines:{color:`#6A6A6A`}},zeroLine:{color:`#6A6A6A`}},legend:{backgroundColor:`#99999930`},paddingProportions:{left:.05},scale:{max:null,min:null},zoom:{endIndex:null,startIndex:null}}}},userConfig:R.value.skeletonConfig??{}})),{loading:Wt,FINAL_DATASET:Gt}=ze({...re(C),FINAL_CONFIG:R,prepareConfig:Zt,skeletonDataset:C.config?.skeletonDataset??[{name:``,series:[0,1,2,3,5,8,13,21,34,55,89,134],type:`line`,smooth:!0,color:`#BABABA`},{name:``,series:[0,.5,1,1.5,2.5,4,6.5,10.5,17,27.5,44.5,67],type:`bar`,color:`#AAAAAA`}],skeletonConfig:ve({defaultConfig:R.value,userConfig:Ut.value})}),{userOptionsVisible:Kt,setUserOptionsVisibility:qt,keepUserOptionState:Jt}=tt({config:R.value}),{svgRef:B}=et({config:R.value.style.chart.title});function Yt(){qt(!0)}function Xt(){qt(!1),Bt(`selectX`,{seriesIndex:null,datapoint:null}),k.value=null}function Zt(){let e=Pe({userConfig:C.config,defaultConfig:ut}),t={},n=e.theme;if(n)if(!ft.value(e))yt(e),t=e;else{let r=Pe({userConfig:dt[n]||C.config,defaultConfig:e});t={...Pe({userConfig:C.config,defaultConfig:r}),customPalette:e.customPalette.length?e.customPalette:Ce[n]||b}}else t=e;return C.config&&De(C.config,`style.chart.grid.y.timeLabels`)&&(console.warn(`VueUiXyCanvas: you are using the deprecated config.style.chart.grid.y.timeLabels. It is recommended to move this configuration to config.style.chart.grid.x.timeLabels.`),t.style.chart.grid.x.timeLabels=Pe({defaultConfig:t.style.chart.grid.x.timeLabels,userConfig:C.config.style.chart.grid.y.timeLabels})),t}g(()=>C.config,e=>{Wt.value||(R.value=Zt()),Kt.value=!R.value.userOptions.showOnChartHover,ir(),At.value+=1,jt.value+=1,Mt.value+=1,V.value.showTable=R.value.table.show,V.value.showDataLabels=R.value.style.chart.dataLabels.show,V.value.stacked=R.value.style.chart.stacked,V.value.showTooltip=R.value.style.chart.tooltip.show},{deep:!0}),g(()=>C.dataset,async e=>{!Array.isArray(e)||e.length===0||(await ue(),B.value&&!E.value&&(E.value=B.value.getContext(`2d`,{willReadFrequently:!0})),M.value=!0,N.value=!0,await xn(),An(),At.value+=1,jt.value+=1,Mt.value+=1)},{deep:!0});let Qt=v(R.value.style.chart.aspectRatio),{isPrinting:$t,isImaging:en,generatePdf:tn,generateImage:nn}=Ie({elementId:`xy_canvas_${w.value}`,fileName:R.value.style.chart.title.text||`vue-ui-xy-canvas`,options:R.value.userOptions.print}),V=v({showTable:R.value.table.show,showDataLabels:R.value.style.chart.dataLabels.show,stacked:R.value.style.chart.stacked,showTooltip:R.value.style.chart.tooltip.show});function rn(e){Et.value=e,Tt.value+=1}let an=p(()=>Ae(R.value.customPalette)),on=p(()=>A.value.length===G.value.length),H=p(()=>G.value?Math.max(...G.value.filter((e,t)=>on.value?!0:!A.value.includes(e.absoluteIndex)).map(e=>e.series.length)):0);function sn(e){I.value=e,Z()}let cn=v(0),ln=v(0);function un(){if(!E.value||!R.value.style.chart.grid.x.timeLabels.show)return 0;let e=X.value||[],t=q.value.start??0,n=q.value.end??0;if(!Math.max(0,n-t))return 0;let r=Math.round(D.value/40*R.value.style.chart.grid.x.timeLabels.fontSizeRatio),i=`${R.value.style.chart.grid.x.timeLabels.bold?`bold `:``}${r}px ${R.value.style.fontFamily}`;E.value.save(),E.value.font=i;let a=0;for(let r=t;r<n;r+=1){let t=e[r]?.text??`${r+1}`,n=E.value.measureText(String(t));n.width>a&&(a=n.width)}E.value.restore();let o=(R.value.style.chart.grid.x.timeLabels.rotation||0)*Math.PI/180,s=r,c=Math.abs(Math.sin(o))*a+Math.abs(Math.cos(o))*s,l=R.value.style.chart.grid.x.timeLabels.offsetY||1,u=D.value/l;return Math.max(0,u+c+4)}function dn(){cn.value=un()}function fn(){ln.value&&cancelAnimationFrame(ln.value),ln.value=requestAnimationFrame(()=>{requestAnimationFrame(()=>{dn()})})}a(()=>{ln.value&&cancelAnimationFrame(ln.value)});let U=p(()=>{let e=D.value-D.value*(R.value.style.chart.paddingProportions.left+R.value.style.chart.paddingProportions.right),t=O.value*R.value.style.chart.paddingProportions.top,n=O.value*R.value.style.chart.paddingProportions.bottom,r=cn.value,i=O.value-n-r,a=O.value-(t+n)-r;return{canvasWidth:D.value,canvasHeight:O.value,left:D.value*R.value.style.chart.paddingProportions.left,top:t,right:D.value-D.value*R.value.style.chart.paddingProportions.right,bottom:i,width:e,height:a,slot:e/(q.value.end-q.value.start)}});function pn(e,t){return e/t}function mn({hasAutoScale:e,series:t,min:n,max:r,scale:i,yOffset:a,individualHeight:o,stackIndex:s=null}){return t.map((t,n)=>{let r=i.min<0?Math.abs(i.min):0,c=pn(t+r,r+i.max),l,u;e&&(l=i.min,u=pn(t-l,i.max-l));let d=0;return d=s===null?U.value.bottom-U.value.height*(e?u:c):U.value.bottom-a-o*(e?u:c),{x:U.value.left+U.value.slot*n+U.value.slot/2,y:d,value:t}})}let W=p(()=>{let e=R.value.style.chart.scale.min===null?Math.min(...G.value.filter((e,t)=>!A.value.includes(e.absoluteIndex)).flatMap(e=>e.series.slice(q.value.start,q.value.end))):R.value.style.chart.scale.min,t=R.value.style.chart.scale.max===null?Math.max(...G.value.filter((e,t)=>!A.value.includes(e.absoluteIndex)).flatMap(e=>e.series.slice(q.value.start,q.value.end))):R.value.style.chart.scale.max,n=be(e<0?e:0,t===e?e+1<0?0:e+1:t<0?0:t,R.value.style.chart.scale.ticks),r=n.min<0?Math.abs(n.min):0,i=U.value.bottom-U.value.height*(r/(n.max+r));return{absoluteMin:r,max:t,min:e,scale:n,yLabels:n.ticks.map(e=>({y:U.value.bottom-U.value.height*((e+r)/(n.max+r)),x:U.value.left-8,value:e})),zero:i}}),hn=p(()=>K.value.map(e=>`
            <div style="display:flex;flex-direction:row;gap:6px;align-items:center;">
                <svg viewBox="0 0 10 10" height="12" width="12">
                    <circle cx="5" cy="5" r="5" fill="${e.color}"/>
                </svg>
                <span>${e.name?e.name+`: `:``}</span>
                <span>${ke(R.value.style.chart.dataLabels.formatter,e.series[k.value]??`-`,y({p:e.prefix||``,v:e.series[k.value]??`-`,s:e.suffix||``,r:e.rounding||0}),{datapoint:e,seriesIndex:k.value})}</span>
            </div>
        `)),gn=p(()=>R.value.style.chart.line.cutNullValues),G=p(()=>Gt.value.map((e,t)=>({...e,series:fe({data:_e(e.series,[],gn.value),threshold:R.value.downsample.threshold}),absoluteIndex:t,color:xe(e.color||an.value[t]||b[t]||b[t%b.length])}))),_n=p(()=>{if(!R.value.style.chart.zoom.minimap.show)return[];let e=G.value.filter(e=>!A.value.includes(e.absoluteIndex)),t=Math.max(...e.map(e=>e.series.length)),n=[];for(let r=0;r<t;r+=1)n.push(e.map(e=>e.series[r]||0).reduce((e,t)=>(e||0)+(t||0),0));let r=Math.min(...n);return n.map(e=>e+(r<0?Math.abs(r):0))}),vn=p(()=>R.value.style.chart.zoom.minimap.show?G.value.map(e=>({...e,isVisible:!A.value.includes(e.absoluteIndex)})):[]);g(H,e=>{e&&xn()});let K=p(()=>me(G.value.filter((e,t)=>!A.value.includes(e.absoluteIndex))).map((e,t)=>({...e,series:e.series.slice(q.value.start,q.value.end)})).map((e,t)=>{let n=[null,void 0].includes(e.scaleMin)?Math.min(...e.series)||0:e.scaleMin,r=[null,void 0].includes(e.scaleMax)?Math.max(...e.series)||1:e.scaleMax;n===r&&(n=n>=0?r-1:n,r=r>=0?r:n+1),e.series.filter(e=>![null,void 0].includes(e)).map(e=>(e-n)/(r-n));let i={valueMin:n,valueMax:r},a=e.scaleSteps||R.value.style.chart.scale.ticks,o;o=e.autoScaling?be(i.valueMin,i.valueMax,a):be(i.valueMin<0?i.valueMin:0,i.valueMax<=0?0:i.valueMax,a);let s=V.value.stacked?U.value.height*(1-e.cumulatedStackRatio):0,c=V.value.stacked?U.value.height/R.value.style.chart.stackGap:0,l=V.value.stacked?U.value.height*e.stackRatio-c:U.value.height,u=o.min<0?Math.abs(o.min):0,d;d=e.autoScaling&&V.value.stacked&&r<=0?U.value.bottom-s-l:U.value.bottom-s-l*(u/(o.max+u));let ee=o.ticks.map((e,t)=>({y:U.value.bottom-s-l*(t/(o.ticks.length-1)),x:U.value.left-8,value:e})),f=mn({hasAutoScale:V.value.stacked&&e.autoScaling,series:e.series,min:V.value.stacked?n:W.value.min,max:V.value.stacked?r:W.value.max,scale:V.value.stacked?o:W.value.scale,yOffset:s,individualHeight:l,stackIndex:V.value.stacked?t:null});return{...e,coordinatesLine:f,min:n,max:r,localScale:o,localZero:d,localMin:u,localYLabels:ee,yOffset:s,individualHeight:l}})),q=v({start:0,end:H.value}),J=v({start:0,end:H.value}),yn=v(null);function bn(){return new Promise(e=>requestAnimationFrame(()=>requestAnimationFrame(()=>e())))}a(()=>{yn.value&&cancelAnimationFrame(yn.value)});async function xn(){wn(),await ue(),yn.value&&cancelAnimationFrame(yn.value),yn.value=requestAnimationFrame(async()=>{await bn(),wn()})}let Sn=p(()=>R.value.style.chart.zoom.preview.enable&&(J.value.start!==q.value.start||J.value.end!==q.value.end));function Cn(e,t){J.value[e]=t}async function wn(){if(!It.value){It.value=!0;try{let{startIndex:e,endIndex:t}=R.value.style.chart.zoom,n=Math.max(...G.value.map(e=>e.series.length)),r=e??0,i=t==null?n:Math.min(Dn(t+1),n);Rt.value=!0,q.value.start=r,q.value.end=i,J.value.start=r,J.value.end=i,On(),Lt.value=!0,await ue(),P.value&&(P.value.setStartValue(q.value.start),P.value.setEndValue(q.value.end))}finally{queueMicrotask(()=>{Rt.value=!1}),It.value=!1}}}function Tn(e){It.value||Rt.value||e!==q.value.start&&(q.value.start=e,J.value.start=e,On())}function En(e){if(It.value||Rt.value)return;let t=Dn(e);t!==q.value.end&&(q.value.end=t,J.value.end=t,On())}function Dn(e){let t=H.value;return e>t?t:e<0||e<q.value.start?R.value.style.chart.zoom.startIndex===null?1:R.value.style.chart.zoom.startIndex+1:e}function On(){let e=Math.max(1,Math.max(...G.value.map(e=>e.series.length))),t=Math.max(0,Math.min(q.value.start??0,e-1)),n=Math.max(t+1,Math.min(q.value.end??e,e));(!Number.isFinite(t)||!Number.isFinite(n)||n<=t)&&(t=0,n=e),q.value={start:t,end:n},J.value.start=t,J.value.end=n,P.value&&(P.value.setStartValue(t),P.value.setEndValue(n))}let kn=p(()=>K.value.filter(e=>[`line`,`plot`,void 0].includes(e.type))),Y=p(()=>K.value.filter(e=>e.type===`bar`));function An(){if(!B.value||!bt.value)return;let e=bt.value.offsetWidth,t=bt.value.offsetHeight;B.value.width=e*j.value*2,B.value.height=t*j.value*2,D.value=e*j.value*2,O.value=t*j.value*2,E.value?.scale(j.value,j.value),Z()}g(L,async e=>{if(!e){wt.value=null,xt.value=!1,k.value=null,F.value=null;return}await ue(),B.value&&!E.value&&(E.value=B.value.getContext(`2d`,{willReadFrequently:!0})),M.value=!0,N.value=!0,await xn(),An(),Z()});function jn(){if(E.value&&(E.value.clearRect(0,0,1e4,1e4),E.value.fillStyle=R.value.style.chart.backgroundColor,E.value.fillRect(0,0,U.value.canvasWidth,U.value.canvasHeight),L.value)){if(V.value.stacked)R.value.style.chart.grid.y.verticalLines.show&&q.value.end-q.value.start<R.value.style.chart.grid.y.verticalLines.hideUnderXLength?K.value.forEach(e=>{for(let t=0;t<q.value.end-q.value.start+1;t+=1)x(E.value,[{x:U.value.left+U.value.slot*t,y:U.value.bottom-e.yOffset-e.individualHeight},{x:U.value.left+U.value.slot*t,y:U.value.bottom-e.yOffset}],{color:R.value.style.chart.grid.y.verticalLines.color})}):R.value.style.chart.grid.y.verticalLines.show&&q.value.end-q.value.start>=R.value.style.chart.grid.y.verticalLines.hideUnderXLength&&K.value.forEach(e=>{for(let t=q.value.start;t<q.value.end;t+=1)t%Math.floor((q.value.end-q.value.start)/R.value.style.chart.grid.x.timeLabels.modulo)===0&&x(E.value,[{x:U.value.left+U.value.slot*(t-q.value.start)+U.value.slot/2,y:U.value.bottom-e.yOffset-e.individualHeight},{x:U.value.left+U.value.slot*(t-q.value.start)+U.value.slot/2,y:U.value.bottom-e.yOffset}],{color:R.value.style.chart.grid.y.verticalLines.color})}),R.value.style.chart.grid.x.horizontalLines.show&&(R.value.style.chart.grid.x.horizontalLines.alternate?K.value.forEach(e=>{e.localYLabels.forEach((t,n)=>{n<e.localYLabels.length-1&&qe(E.value,[{x:U.value.left,y:t.y},{x:U.value.right,y:t.y},{x:U.value.right,y:e.localYLabels[n+1].y},{x:U.value.left,y:e.localYLabels[n+1].y}],{fillColor:n%2==0?`transparent`:Oe(R.value.style.chart.grid.x.horizontalLines.color,R.value.style.chart.grid.x.horizontalLines.opacity),strokeColor:`transparent`})})}):K.value.forEach(e=>{e.localYLabels.slice(q.value.start,q.value.end).forEach(e=>{x(E.value,[{x:U.value.left,y:e.y},{x:U.value.right,y:e.y}],{color:R.value.style.chart.grid.x.horizontalLines.color})})})),R.value.style.chart.grid.zeroLine.show&&K.value.forEach(e=>{x(E.value,[{x:U.value.left,y:e.localZero},{x:U.value.right,y:e.localZero}],{color:R.value.style.chart.grid.zeroLine.color,lineDash:R.value.style.chart.grid.zeroLine.dashed?[10,10]:[0,0]})}),R.value.style.chart.grid.y.axisLabels.show&&K.value.forEach(e=>{x(E.value,[{x:U.value.left,y:U.value.bottom-e.yOffset},{x:U.value.left,y:U.value.bottom-e.yOffset-e.individualHeight}],{color:e.color}),x(E.value,[{x:U.value.right,y:U.value.bottom-e.yOffset},{x:U.value.right,y:U.value.bottom-e.yOffset-e.individualHeight}],{color:e.color})}),K.value.forEach(e=>{S(E.value,e.name,D.value/35,U.value.bottom-e.yOffset-e.individualHeight/2,{align:`center`,rotation:-90,color:e.color,font:`${Math.round(D.value/40*R.value.style.chart.grid.y.axisLabels.fontSizeRatio)}px ${R.value.style.fontFamily}`})});else{if(R.value.style.chart.grid.y.verticalLines.show&&q.value.end-q.value.start<R.value.style.chart.grid.y.verticalLines.hideUnderXLength)for(let e=0;e<q.value.end-q.value.start+1;e+=1)x(E.value,[{x:U.value.left+U.value.slot*e,y:U.value.top},{x:U.value.left+U.value.slot*e,y:U.value.bottom}],{color:R.value.style.chart.grid.y.verticalLines.color});else if(R.value.style.chart.grid.y.verticalLines.show&&q.value.end-q.value.start>=R.value.style.chart.grid.y.verticalLines.hideUnderXLength)for(let e=q.value.start;e<q.value.end;e+=1)e%Math.floor((q.value.end-q.value.start)/R.value.style.chart.grid.x.timeLabels.modulo)===0&&x(E.value,[{x:U.value.left+U.value.slot*(e-q.value.start)+U.value.slot/2,y:U.value.top},{x:U.value.left+U.value.slot*(e-q.value.start)+U.value.slot/2,y:U.value.bottom}],{color:R.value.style.chart.grid.y.verticalLines.color});R.value.style.chart.grid.x.horizontalLines.show&&(R.value.style.chart.grid.x.horizontalLines.alternate?W.value.yLabels.forEach((e,t)=>{t<W.value.yLabels.length-1&&qe(E.value,[{x:U.value.left,y:e.y},{x:U.value.right,y:e.y},{x:U.value.right,y:W.value.yLabels[t+1].y},{x:U.value.left,y:W.value.yLabels[t+1].y}],{fillColor:t%2==0?`transparent`:Oe(R.value.style.chart.grid.x.horizontalLines.color,R.value.style.chart.grid.x.horizontalLines.opacity),strokeColor:`transparent`})}):W.value.yLabels.forEach(e=>{x(E.value,[{x:U.value.left,y:e.y},{x:U.value.right,y:e.y}],{color:R.value.style.chart.grid.x.horizontalLines.color})})),R.value.style.chart.grid.y.showAxis&&x(E.value,[{x:U.value.left,y:U.value.top},{x:U.value.left,y:U.value.bottom}],{color:R.value.style.chart.grid.y.axisColor,lineWidth:R.value.style.chart.grid.y.axisThickness}),R.value.style.chart.grid.x.showAxis&&x(E.value,[{x:U.value.left,y:U.value.bottom},{x:U.value.right,y:U.value.bottom}],{color:R.value.style.chart.grid.x.axisColor,lineWidth:R.value.style.chart.grid.x.axisThickness}),R.value.style.chart.grid.zeroLine.show&&x(E.value,[{x:U.value.left,y:W.value.zero},{x:U.value.right,y:W.value.zero}],{color:R.value.style.chart.grid.zeroLine.color,lineDash:R.value.style.chart.grid.zeroLine.dashed?[10,10]:[0,0]})}R.value.style.chart.grid.y.axisName&&S(E.value,R.value.style.chart.grid.y.axisName,D.value-D.value/40*R.value.style.chart.grid.y.axisLabels.fontSizeRatio*1.2,U.value.bottom-U.value.height/2,{font:`${R.value.style.chart.grid.y.axisLabels.bold?`bold `:``}${Math.round(D.value/40*R.value.style.chart.grid.y.axisLabels.fontSizeRatio)}px ${R.value.style.fontFamily}`,color:R.value.style.chart.color,align:`center`,rotation:90}),R.value.style.chart.grid.x.axisName&&S(E.value,R.value.style.chart.grid.x.axisName,D.value/2,O.value,{font:`${R.value.style.chart.grid.y.axisLabels.bold?`bold `:``}${Math.round(D.value/40*R.value.style.chart.grid.y.axisLabels.fontSizeRatio)}px ${R.value.style.fontFamily}`,color:R.value.style.chart.color,align:`center`})}}function Mn(e){for(let t=0;t<e.coordinatesLine.length;t+=1){let n=(k.value===t||I.value===t?D.value/150:R.value.style.chart.line.plots.show||e.type===`plot`?D.value/200:0)*R.value.style.chart.line.plots.radiusRatio;Ge(E.value,{x:e.coordinatesLine[t].x,y:e.coordinatesLine[t].y},n,{color:R.value.style.chart.backgroundColor,fillStyle:e.color})}}function Nn(){K.value.forEach(e=>{e.showYMarker&&$n(e)&&S(E.value,ke(R.value.style.chart.dataLabels.formatter,$n(e).value,y({p:e.prefix||R.value.style.chart.grid.y.axisLabels.prefix||``,v:$n(e).value,s:e.suffix||R.value.style.chart.grid.y.axisLabels.suffix||``,r:e.rounding||R.value.style.chart.grid.y.axisLabels.rounding||0}),{datapoint:$n(e),seriesIndex:null}),U.value.left-8+R.value.style.chart.grid.y.axisLabels.offsetX,$n(e).y,{align:`right`,font:`${R.value.style.chart.grid.y.axisLabels.bold?`bold `:``}${Math.round(D.value/40*R.value.style.chart.grid.y.axisLabels.fontSizeRatio)}px ${R.value.style.fontFamily}`,color:e.color})})}function Pn(){R.value.style.chart.grid.y.axisLabels.show&&(V.value.stacked?K.value.forEach(e=>{e.localYLabels.forEach((t,n)=>{S(E.value,ke(R.value.style.chart.dataLabels.formatter,t.value,y({p:e.prefix||R.value.style.chart.grid.y.axisLabels.prefix||``,v:t.value,s:e.suffix||R.value.style.chart.grid.y.axisLabels.suffix||``,r:e.rounding||R.value.style.chart.grid.y.axisLabels.rounding||0}),{datapoint:t,seriesIndex:n}),t.x+R.value.style.chart.grid.y.axisLabels.offsetX,t.y,{align:`right`,font:`${R.value.style.chart.grid.y.axisLabels.bold?`bold `:``}${Math.round(D.value/40*R.value.style.chart.grid.y.axisLabels.fontSizeRatio)}px ${R.value.style.fontFamily}`,color:e.color,globalAlpha:e.showYMarker&&![null,void 0].includes(k.value??I.value)?.2:1})})}):W.value.yLabels.forEach((e,t)=>{S(E.value,ke(R.value.style.chart.dataLabels.formatter,e.value,y({p:R.value.style.chart.grid.y.axisLabels.prefix||``,v:e.value,s:R.value.style.chart.grid.y.axisLabels.suffix||``,r:R.value.style.chart.grid.y.axisLabels.rounding||0}),{datapoint:e,seriesIndex:t}),e.x+R.value.style.chart.grid.y.axisLabels.offsetX,e.y,{align:`right`,font:`${R.value.style.chart.grid.y.axisLabels.bold?`bold `:``}${Math.round(D.value/40*R.value.style.chart.grid.y.axisLabels.fontSizeRatio)}px ${R.value.style.fontFamily}`,color:R.value.style.chart.grid.y.axisLabels.color,globalAlpha:K.value.some(e=>e.showYMarker)&&![null,void 0].includes(k.value??I.value)?.2:1})}))}function Fn(e){for(let t=0;t<e.coordinatesLine.length;t+=1)S(E.value,ke(R.value.style.chart.dataLabels.formatter,e.coordinatesLine[t].value,y({p:e.prefix||``,v:e.coordinatesLine[t].value,s:e.suffix||``,r:e.rounding||0}),{datapoint:e.coordinatesLine[t],seriesIndex:t}),e.coordinatesLine[t].x,e.coordinatesLine[t].y+R.value.style.chart.dataLabels.offsetY,{align:`center`,font:`${R.value.style.chart.dataLabels.bold?`bold `:``}${Math.round(D.value/40*R.value.style.chart.dataLabels.fontSizeRatio)}px ${R.value.style.fontFamily}`,color:R.value.style.chart.dataLabels.useSerieColor?e.color:R.value.style.chart.dataLabels.color,strokeColor:R.value.style.chart.backgroundColor,lineWidth:.5})}let X=v([]),In=0;ce(()=>{let e=++In;(async()=>{let t=await je({values:R.value.style.chart.grid.x.timeLabels.values,maxDatapoints:H.value,formatter:R.value.style.chart.grid.x.timeLabels.datetimeFormatter,start:0,end:H.value});e===In&&(X.value=t)})()}),ce(()=>{R.value.style.chart.grid.x.timeLabels.show,R.value.style.chart.grid.x.timeLabels.rotation,R.value.style.chart.grid.x.timeLabels.offsetY,R.value.style.chart.grid.x.timeLabels.fontSizeRatio,R.value.style.chart.grid.x.timeLabels.bold,q.value.start,q.value.end,D.value,O.value,(X.value||[]).map(e=>e?.text??``).join(`|`),fn()},{flush:`post`});let Ln=v({months:[],shortMonths:[],days:[],shortDays:[]}),Rn=0;ce(()=>{let e=++Rn,t=R.value.style.chart.grid.x.timeLabels.datetimeFormatter;(async()=>{let n=await Me(t.locale).catch(()=>Me(`en`));e===Rn&&(Ln.value=n.data)})()});let zn=p(()=>{let e=R.value.style.chart.grid.x.timeLabels.datetimeFormatter,t=Ne({useUTC:e.useUTC,locale:Ln.value,januaryAsYear:e.januaryAsYear});return(e,n)=>{let r=R.value.style.chart.grid.x.timeLabels.values?.[e];return r==null?``:t.formatDate(new Date(r),n)}}),Bn=p(()=>(R.value.style.chart.grid.x.timeLabels.values||[]).map((e,t)=>({text:zn.value(t,R.value.style.chart.zoom.timeFormat),absoluteIndex:t}))),Vn=p(()=>(R.value.style.chart.grid.x.timeLabels.values||[]).map((e,t)=>({text:zn.value(t,R.value.style.chart.tooltip.timeFormat),absoluteIndex:t})));function Hn(){for(let e=q.value.start;e<q.value.end;e+=1)(q.value.end-q.value.start<R.value.style.chart.grid.x.timeLabels.modulo||q.value.end-q.value.start>=R.value.style.chart.grid.x.timeLabels.modulo&&(e%Math.floor((q.value.end-q.value.start)/R.value.style.chart.grid.x.timeLabels.modulo)===0||(e===k.value+q.value.start||e===I.value)&&R.value.style.chart.grid.x.timeLabels.showMarker))&&S(E.value,X.value[e]?X.value[e].text:e+1,U.value.left+U.value.slot*(e-q.value.start)+U.value.slot/2,U.value.bottom+D.value/R.value.style.chart.grid.x.timeLabels.offsetY,{align:R.value.style.chart.grid.x.timeLabels.rotation===0?`center`:R.value.style.chart.grid.x.timeLabels.rotation>0?`left`:`right`,font:`${R.value.style.chart.grid.x.timeLabels.bold?`bold `:``}${Math.round(D.value/40*R.value.style.chart.grid.x.timeLabels.fontSizeRatio)}px ${R.value.style.fontFamily}`,color:R.value.style.chart.grid.x.timeLabels.showMarker?Oe(R.value.style.chart.grid.x.timeLabels.color,k.value!==null||I.value!==null?k.value+q.value.start===e||I.value===e?100:20:100):R.value.style.chart.grid.x.timeLabels.color,rotation:R.value.style.chart.grid.x.timeLabels.rotation})}function Un(){x(E.value,[{x:U.value.left+U.value.slot*(k.value??I.value)+U.value.slot/2,y:U.value.top},{x:U.value.left+U.value.slot*(k.value??I.value)+U.value.slot/2,y:U.value.bottom}],{color:R.value.style.chart.selector.color,lineDash:R.value.style.chart.selector.dashed?[8,8]:[0,0],lineWidth:2})}function Wn(){F.value&&x(E.value,[{x:U.value.left,y:F.value},{x:U.value.right,y:F.value}],{color:R.value.style.chart.selector.color,lineDash:R.value.style.chart.selector.dashed?[8,8]:[0,0],lineWidth:2})}function Gn(){Y.value.forEach((e,t)=>{for(let n=0;n<e.coordinatesLine.length;n+=1)qe(E.value,[{x:U.value.left+U.value.slot*n+U.value.slot/10+(V.value.stacked?0:U.value.slot/Y.value.length*t-(t===0?0:U.value.slot/(5*Y.value.length)*t)),y:V.value.stacked?e.localZero:W.value.zero},{x:U.value.left+U.value.slot*n+U.value.slot/10+(V.value.stacked?0:U.value.slot/Y.value.length*t-(t===0?0:U.value.slot/(5*Y.value.length)*t))+U.value.slot*.8/(V.value.stacked?1:Y.value.length),y:V.value.stacked?e.localZero:W.value.zero},{x:U.value.left+U.value.slot*n+U.value.slot/10+(V.value.stacked?0:U.value.slot/Y.value.length*t-(t===0?0:U.value.slot/(5*Y.value.length)*t))+U.value.slot*.8/(V.value.stacked?1:Y.value.length),y:e.coordinatesLine[n].y},{x:U.value.left+U.value.slot*n+U.value.slot/10+(V.value.stacked?0:U.value.slot/Y.value.length*t-(t===0?0:U.value.slot/(5*Y.value.length)*t)),y:e.coordinatesLine[n].y}],{strokeColor:R.value.style.chart.backgroundColor,gradient:{type:`linear`,start:{x:e.coordinatesLine[n].x,y:e.coordinatesLine[n].y},end:{x:e.coordinatesLine[n].x,y:V.value.stacked?e.localZero:W.value.zero},stops:[{offset:0,color:e.color},{offset:1,color:R.value.style.chart.bar.gradient.show?Te(e.color,.5):e.color}]}}),V.value.showDataLabels&&[!0,void 0].includes(e.dataLabels)&&S(E.value,ke(R.value.style.chart.dataLabels.formatter,e.coordinatesLine[n].value,y({p:e.prefix||``,v:e.coordinatesLine[n].value,s:e.suffix||``,r:e.rounding||0}),{datapoint:e.coordinatesLine[n],seriesIndex:n}),U.value.left+U.value.slot*n+U.value.slot/10+(V.value.stacked?0:U.value.slot/Y.value.length*t-(t===0?0:U.value.slot/(5*Y.value.length)*t))+U.value.slot*.4/(V.value.stacked?1:Y.value.length),(e.coordinatesLine[n].value<0?V.value.stacked?e.localZero:W.value.zero:e.coordinatesLine[n].y)+R.value.style.chart.dataLabels.offsetY,{align:`center`,font:`${Math.round(D.value/40*R.value.style.chart.dataLabels.fontSizeRatio)}px ${R.value.style.fontFamily}`,color:R.value.style.chart.dataLabels.useSerieColor?e.color:R.value.style.chart.dataLabels.color,strokeColor:R.value.style.chart.backgroundColor,lineWidth:.8})})}function Kn(e,t){let n=e.coordinatesLine.map((t,n)=>e.series[n]!=null&&Number.isFinite(t?.y)?t:null),r=[],i=[],a=[];for(let e=0;e<n.length;e+=1){let o=n[e];if(o)a.push(o);else{if(a.length>=2){let e=a[0],n=a[a.length-1];r.push([{x:e.x,y:t},...a,{x:n.x,y:t}])}else a.length===1&&i.push(a[0]);a=[]}}if(a.length>=2){let e=a[0],n=a[a.length-1];r.push([{x:e.x,y:t},...a,{x:n.x,y:t}])}else a.length===1&&i.push(a[0]);return{polygons:r,singles:i}}function qn(e){let t=e.coordinatesLine.map((t,n)=>e.series[n]!=null&&Number.isFinite(t?.y)?t:null),n=[],r=[];for(let e=0;e<t.length;e+=1){let i=t[e];i?r.push(i):(r.length>=2&&n.push(r),r=[])}return r.length>=2&&n.push(r),n}function Jn(e){if(gn.value){let t=qn(e);for(let n of t)x(E.value,n,{color:e.color,lineWidth:3})}else x(E.value,e.coordinatesLine,{color:e.color,lineWidth:3})}function Yn(e){let t=!!gn.value;if(e.useArea){let n=V.value.stacked?e.localZero:W.value.zero;if(t){let{polygons:t,singles:r}=Kn(e,n);for(let n of t)Je(E.value,n,{fillColor:Oe(e.color,R.value.style.chart.area.opacity),strokeColor:`transparent`});let i=D.value/200*R.value.style.chart.line.plots.radiusRatio;for(let t of r)Ge(E.value,{x:t.x,y:t.y},i,{color:R.value.style.chart.backgroundColor,fillStyle:e.color})}else{let t={x:e.coordinatesLine[0].x,y:n},r={x:e.coordinatesLine.at(-1).x,y:n};Je(E.value,[t,...e.coordinatesLine,r],{fillColor:Oe(e.color,R.value.style.chart.area.opacity),strokeColor:`transparent`})}Jn(e);return}Jn(e)}function Xn(){K.value.forEach((e,t)=>{x(E.value,[{x:U.value.left,y:U.value.bottom-e.yOffset},{x:U.value.right,y:U.value.bottom-e.yOffset}],{color:R.value.style.chart.grid.x.horizontalLines.color,lineWidth:1})})}function Zn(){let{left:e,top:t,width:n,height:r}=U.value,i=q.value.start,a=q.value.end-i,o=n/a,s=J.value.start-i,c=J.value.end-i,l=Math.max(0,Math.min(a,s)),u=Math.max(0,Math.min(a,c));qe(E.value,[{x:e+l*o,y:t},{x:e+l*o+(u-l)*o,y:t},{x:e+l*o+(u-l)*o,y:t+r},{x:e+l*o,y:t+r}],{fillColor:R.value.style.chart.zoom.preview.fill,strokeColor:R.value.style.chart.zoom.preview.stroke,lineDash:[,,,,].fill(R.value.style.chart.zoom.preview.strokeDasharray),lineWidth:R.value.style.chart.zoom.preview.strokeWidth})}function Z(){!L.value||!B.value||!E.value||(jn(),M.value?((k.value!==null||I.value!==null)&&R.value.style.chart.selector.show&&Un(),Gn(),V.value.stacked&&R.value.style.chart.grid.x.showAxis&&Xn(),kn.value.forEach(e=>{(e.type===`line`||!e.type)&&Yn(e),N.value&&(Mn(e),V.value.showDataLabels&&[!0,void 0].includes(e.dataLabels)&&Fn(e))}),B.value&&(wt.value=We(B.value))):(wt.value&&(E.value.clearRect(0,0,1e4,1e4),E.value.drawImage(wt.value,0,0)),(k.value!==null||I.value!==null)&&R.value.style.chart.selector.show&&Un(),(k.value!==null||I.value!==null)&&K.value.forEach(e=>{let t=k.value??I.value,n=e.coordinatesLine[t];(e.type===`line`||!e.type||e.type===`plot`)&&n&&Number.isFinite(n.x)&&Number.isFinite(n.y)&&Ge(E.value,{x:n.x,y:n.y},D.value/150*R.value.style.chart.line.plots.radiusRatio,{color:R.value.style.chart.backgroundColor,fillStyle:e.color})})),R.value.style.chart.grid.x.timeLabels.show&&Hn(),R.value.style.chart.selector.show&&R.value.style.chart.selector.showHorizontalSelector&&Wn(),Pn(),Nn(),R.value.style.chart.zoom.preview.enable&&(q.value.start!==J.value.start||q.value.end!==J.value.end)&&Zn(),M.value=!1)}let Qn=Ye(()=>{N.value=!0,An()},H.value>200?10:1,!N.value);function $n(e){if([null,void 0].includes(k.value??I.value)||!e.coordinatesLine[k.value??I.value])return!1;let{y:t,value:n}=e.coordinatesLine[k.value??I.value];return{y:t,value:n}}function er(e){if(!L.value||!B.value||on.value)return;let{left:t,top:n}=B.value.getBoundingClientRect(),r=e.clientX-t;if(F.value=(e.clientY-n)*2,(F.value<U.value.top||F.value>U.value.bottom)&&(F.value=null),r*2<U.value.left||r*2>U.value.right){xt.value=!1,k.value=null;return}let i=r*2-U.value.left;if(k.value=Math.floor(i/U.value.slot),xt.value=!0,!N.value)return;let a=``,o=R.value.style.chart.tooltip.customFormat,s=K.value.map(e=>({shape:e.shape||null,name:e.name,color:e.color,type:e.type||`line`,value:e.series.find((e,t)=>t===k.value)}));tr({seriesIndex:k.value,datapoint:s}),pe(o)&&Ee(()=>o({seriesIndex:k.value,datapoint:s,series:K.value,config:R.value}))?St.value=o({seriesIndex:k.value,datapoint:s,series:K.value,config:R.value}):(R.value.style.chart.grid.x.timeLabels.values.slice(q.value.start,q.value.end)[k.value]?a+=`<div style="padding-bottom: 6px; margin-bottom: 4px; border-bottom: 1px solid ${R.value.style.chart.tooltip.borderColor}; width:100%">${R.value.style.chart.tooltip.useDefaultTimeFormat?X.value.slice(q.value.start,q.value.end)[k.value]?.text:Vn.value[k.value]?.text}</div>`:a+=`<div style="padding-bottom: 6px; margin-bottom: 4px; border-bottom: 1px solid ${R.value.style.chart.tooltip.borderColor}; width:100%">${X.value[k.value+q.value.start]?.text??``}</div>`,a+=hn.value.join(``),St.value=a),N.value=!1}function tr({seriesIndex:e,datapoint:t}){Bt(`selectX`,{dataset:t,index:q.value.start+e,indexLabel:``})}g(()=>C.selectedXIndex,e=>{if([null,void 0].includes(C.selectedXIndex)){k.value=null;return}let t=e-q.value.start;t<0||e>=q.value.end?k.value=null:k.value=t??null},{immediate:!0}),g(()=>k.value,e=>{Qn()}),g(()=>q.value,e=>{M.value=!0,Z()},{deep:!0}),g(()=>J.value,e=>{Z()},{deep:!0}),g(()=>V.value.showDataLabels,e=>{M.value=!0,Z()}),g(()=>F.value,e=>{e&&Z()}),g(()=>V.value.stacked,e=>{M.value=!0,N.value=!0,Qn()});function nr(){xt.value=!1,k.value=null,St.value=``,F.value=null,Z()}let Q=te(null),rr=te(null),$=te(null);i(()=>{Nt.value=!0,ir()});function ir(){if(ye(C.dataset)&&Ht.value&&we({componentName:`VueUiXyCanvas`,type:`dataset`}),ue(()=>{B.value&&!E.value&&(E.value=B.value.getContext(`2d`,{willReadFrequently:!0})),E.value&&L.value&&(M.value=!0,N.value=!0,An())}),R.value.responsive){let e=Ke(()=>{let{width:e,height:t}=Ue({chart:T.value,title:R.value.style.chart.title.text?Dt.value:null,legend:R.value.style.chart.legend.show?Ot.value:null,slicer:R.value.style.chart.zoom.show&&H.value>6?P.value?.$el:null,source:kt.value});requestAnimationFrame(()=>{Qt.value=`${e} / ${t}`})});Q.value&&(rr.value&&Q.value.unobserve(rr.value),Q.value.disconnect()),Q.value=new ResizeObserver(e),rr.value=T.value.parentNode,Q.value.observe(rr.value)}$.value&&$.value.disconnect(),$.value=new ResizeObserver(async e=>{for(let t of e)t.contentBoxSize&&bt.value&&(M.value=!0,Qn())}),$.value.observe(bt.value),xn()}a(()=>{$.value&&$.value.disconnect(),Q.value&&(rr.value&&Q.value.unobserve(rr.value),Q.value.disconnect())});function ar(){A.value.length?A.value=[]:ur.value.forEach((e,t)=>{A.value.push(t)}),M.value=!0,Qn()}function or(e){Bt(`selectLegend`,K.value.find(t=>t.absoluteIndex===e)),A.value.includes(e)?A.value=A.value.filter(t=>t!==e):A.value.push(e),M.value=!0,Qn()}function sr(e){return G.value.length?G.value.find(t=>t.name===e)||(R.value.debug&&console.warn(`VueUiXyCanvas - Series name not found "${e}"`),null):(R.value.debug&&console.warn(`VueUiXyCanvas - There are no series to show.`),null)}function cr(e){let t=sr(e);t!==null&&A.value.includes(t.absoluteIndex)&&or(t.absoluteIndex)}function lr(e){let t=sr(e);t!==null&&(A.value.includes(t.absoluteIndex)||or(t.absoluteIndex))}let ur=p(()=>G.value.map((e,t)=>({...e,name:e.name,color:xe(e.color)||an.value[t]||b[t]||b[t%b.length],shape:e.shape||`circle`,prefix:e.prefix||``,suffix:e.suffix||``,rounding:e.rounding||0})).map(e=>({...e,opacity:A.value.includes(e.absoluteIndex)?.5:1,segregate:()=>or(e.absoluteIndex),isSegregated:A.value.includes(e.absoluteIndex)}))),dr=p(()=>({cy:`donut-div-legend`,backgroundColor:R.value.style.chart.legend.backgroundColor,color:R.value.style.chart.legend.color,fontSize:R.value.style.chart.legend.fontSize,paddingBottom:12,fontWeight:R.value.style.chart.legend.bold?`bold`:``})),fr=p(()=>{let e=[``].concat(K.value.map(e=>e.name),` <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M18 16v2a1 1 0 0 1 -1 1h-11l6 -7l-6 -7h11a1 1 0 0 1 1 1v2" /></svg>`),t=[];for(let e=0;e<H.value;e+=1){let n=K.value.map(t=>t.series[e]??0).reduce((e,t)=>e+t,0);t.push([R.value.style.chart.grid.x.timeLabels.values.slice(q.value.start,q.value.end)[e]?X?.value?.slice(q.value.start,q.value.end)?.[e]?.text??e+1:e+1].concat(K.value.map(t=>(t.series[e]??0).toFixed(R.value.table.rounding)),(n??0).toFixed(R.value.table.rounding)))}let n={th:{backgroundColor:R.value.table.th.backgroundColor,color:R.value.table.th.color,outline:R.value.table.th.outline},td:{backgroundColor:R.value.table.td.backgroundColor,color:R.value.table.td.color,outline:R.value.table.td.outline},breakpoint:R.value.table.responsiveBreakpoint},r=[R.value.table.columnNames.period].concat(K.value.map(e=>e.name),R.value.table.columnNames.total);return{head:e,body:t.slice(0,q.value.end-q.value.start),config:n,colNames:r}}),pr=p(()=>{if(K.value.length===0)return{head:[],body:[],config:{},columnNames:[]};let e=K.value.map(e=>({label:e.name,color:e.color,type:e.type})),t=[];for(let e=q.value.start;e<q.value.end;e+=1){let n=[R.value.style.chart.grid.x.timeLabels.values[e]?X.value[e].text:e+1];K.value.forEach(t=>{n.push(Number((t.series[e]||0).toFixed(R.value.table.rounding)))}),t.push(n)}return{head:e,body:t}});function mr(e=null){let t=[[R.value.style.chart.title.text],[R.value.style.chart.title.subtitle.text],[``]],n=[``,...pr.value.head.map(e=>e.label)],r=pr.value.body,i=Se(t.concat([n]).concat(r));e?e(i):he({csvContent:i,title:R.value.style.chart.title.text||`vue-ui-xy-canvas`})}function hr(){return K.value}function gr(){V.value.showTable=!V.value.showTable}function _r(){V.value.showDataLabels=!V.value.showDataLabels}function vr(){V.value.stacked=!V.value.stacked}function yr(){V.value.showTooltip=!V.value.showTooltip}let br=v(!1);function xr(){br.value=!br.value}async function Sr({scale:e=2}={}){if(!T.value)return;let{width:t,height:n}=T.value.getBoundingClientRect(),r=t/n,{imageUri:i,base64:a}=await Ve({domElement:T.value,base64:!0,img:!0,scale:e});return{imageUri:i,base64:a,title:R.value.style.chart.title.text,width:t,height:n,aspectRatio:r}}let Cr=p(()=>{let e=R.value.table.useDialog&&!R.value.table.show,t=V.value.showTable;return{component:e?lt:Qe,title:`${R.value.style.chart.title.text}${R.value.style.chart.title.subtitle.text?`: ${R.value.style.chart.title.subtitle.text}`:``}`,props:e?{backgroundColor:R.value.table.th.backgroundColor,color:R.value.table.th.color,headerColor:R.value.table.th.color,headerBg:R.value.table.th.backgroundColor,isFullscreen:Et.value,fullscreenParent:T.value,forcedWidth:Math.min(800,window.innerWidth*.8),isCursorPointer:z.value}:{hideDetails:!0,config:{open:t,maxHeight:1e4,body:{backgroundColor:R.value.style.chart.backgroundColor,color:R.value.style.chart.color},head:{backgroundColor:R.value.style.chart.backgroundColor,color:R.value.style.chart.color}}}}});g(()=>V.value.showTable,e=>{R.value.table.show||(e&&R.value.table.useDialog&&Pt.value?Pt.value.open():`close`in Pt.value&&Pt.value.close())});function wr(){V.value.showTable=!1,Ft.value&&Ft.value.setTableIconState(!1)}function Tr(e){if(e?.stage===`start`){zt.value=!0;return}if(e?.stage===`end`){zt.value=!1;return}nn()}async function Er(){if(Bt(`copyAlt`,{config:R.value,dataset:K.value}),!R.value.userOptions.callbacks.altCopy){console.warn("Vue Data UI - A callback must be set for `altCopy` in userOptions.");return}await Promise.resolve(R.value.userOptions.callbacks.altCopy({config:R.value,dataset:K.value}))}return rt({getData:hr,getImage:Sr,generateCsv:mr,generatePdf:tn,generateImage:nn,hideSeries:lr,showSeries:cr,toggleTable:gr,toggleLabels:_r,toggleStack:vr,toggleTooltip:yr,toggleAnnotator:xr,toggleFullscreen:rn,copyAlt:Er}),(i,a)=>(o(),le(`div`,{style:c(`width:100%; position:relative; ${R.value.responsive?`height: 100%`:``}; background:${R.value.style.chart.backgroundColor};`),ref_key:`xy`,ref:T,id:`xy_canvas_${w.value}`,class:e(`vue-data-ui-component vue-ui-xy-canvas ${Et.value?`vue-data-ui-wrapper-fullscreen`:``}`),onMouseenter:Yt,onMouseleave:Xt},[R.value.style.chart.title.text?(o(),le(`div`,{key:0,ref_key:`chartTitle`,ref:Dt,style:c(`width:100%;background:${R.value.style.chart.backgroundColor};`)},[(o(),f(He,{key:`title_${At.value}`,config:{title:{cy:`xy-canvas-title`,...R.value.style.chart.title},subtitle:{cy:`xy-canvas-subtitle`,...R.value.style.chart.title.subtitle}}},null,8,[`config`]))],4)):t(``,!0),_(`div`,{id:`legend-top-${w.value}`},null,8,mt),R.value.userOptions.show&&L.value&&(r(Jt)||r(Kt))?(o(),f(r(st),{ref_key:`userOptionsRef`,ref:Ft,key:`user_option_${Tt.value}`,backgroundColor:R.value.style.chart.backgroundColor,color:R.value.style.chart.color,isPrinting:r($t),isImaging:r(en),uid:w.value,hasTooltip:R.value.userOptions.buttons.tooltip&&R.value.style.chart.tooltip.show,hasPdf:R.value.userOptions.buttons.pdf,hasImg:R.value.userOptions.buttons.img,hasXls:R.value.userOptions.buttons.csv,hasLabel:R.value.userOptions.buttons.labels,hasStack:Le.dataset.length>1&&R.value.userOptions.buttons.stack,hasFullscreen:R.value.userOptions.buttons.fullscreen,hasAltCopy:R.value.userOptions.buttons.altCopy,hasTable:q.value.end-q.value.start<=730&&R.value.userOptions.buttons.table,isFullscreen:Et.value,isTooltip:V.value.showTooltip,isStacked:V.value.stacked,titles:{...R.value.userOptions.buttonTitles},chartElement:T.value,position:R.value.userOptions.position,hasAnnotator:R.value.userOptions.buttons.annotator,isAnnotation:br.value,callbacks:R.value.userOptions.callbacks,printScale:R.value.userOptions.print.scale,tableDialog:R.value.table.useDialog,isCursorPointer:z.value,onToggleFullscreen:rn,onGeneratePdf:r(tn),onGenerateCsv:mr,onGenerateImage:Tr,onToggleTable:gr,onToggleLabels:_r,onToggleStack:vr,onToggleTooltip:yr,onToggleAnnotator:xr,onCopyAlt:Er,style:c({visibility:r(Jt)?r(Kt)?`visible`:`hidden`:`visible`})},ne({_:2},[i.$slots.menuIcon?{name:`menuIcon`,fn:h(({isOpen:e,color:t})=>[d(i.$slots,`menuIcon`,m(s({isOpen:e,color:t})),void 0,!0)]),key:`0`}:void 0,i.$slots.optionTooltip?{name:`optionTooltip`,fn:h(()=>[d(i.$slots,`optionTooltip`,{},void 0,!0)]),key:`1`}:void 0,i.$slots.optionPdf?{name:`optionPdf`,fn:h(()=>[d(i.$slots,`optionPdf`,{},void 0,!0)]),key:`2`}:void 0,i.$slots.optionCsv?{name:`optionCsv`,fn:h(()=>[d(i.$slots,`optionCsv`,{},void 0,!0)]),key:`3`}:void 0,i.$slots.optionImg?{name:`optionImg`,fn:h(()=>[d(i.$slots,`optionImg`,{},void 0,!0)]),key:`4`}:void 0,i.$slots.optionTable?{name:`optionTable`,fn:h(()=>[d(i.$slots,`optionTable`,{},void 0,!0)]),key:`5`}:void 0,i.$slots.optionLabels?{name:`optionLabels`,fn:h(()=>[d(i.$slots,`optionLabels`,{},void 0,!0)]),key:`6`}:void 0,i.$slots.optionStack?{name:`optionStack`,fn:h(()=>[d(i.$slots,`optionStack`,{},void 0,!0)]),key:`7`}:void 0,i.$slots.optionFullscreen?{name:`optionFullscreen`,fn:h(({toggleFullscreen:e,isFullscreen:t})=>[d(i.$slots,`optionFullscreen`,m(s({toggleFullscreen:e,isFullscreen:t})),void 0,!0)]),key:`8`}:void 0,i.$slots.optionAnnotator?{name:`optionAnnotator`,fn:h(({toggleAnnotator:e,isAnnotator:t})=>[d(i.$slots,`optionAnnotator`,m(s({toggleAnnotator:e,isAnnotator:t})),void 0,!0)]),key:`9`}:void 0,i.$slots.optionAltCopy?{name:`optionAltCopy`,fn:h(({altCopy:e})=>[d(i.$slots,`optionAltCopy`,m(s({altCopy:e})),void 0,!0)]),key:`10`}:void 0]),1032,`backgroundColor.color.isPrinting.isImaging.uid.hasTooltip.hasPdf.hasImg.hasXls.hasLabel.hasStack.hasFullscreen.hasAltCopy.hasTable.isFullscreen.isTooltip.isStacked.titles.chartElement.position.hasAnnotator.isAnnotation.callbacks.printScale.tableDialog.isCursorPointer.onGeneratePdf.style`.split(`.`))):t(``,!0),_(`div`,{class:`vue-ui-xy-canvas`,style:c(`position: relative; aspect-ratio: ${Qt.value}`),ref_key:`container`,ref:bt},[_(`canvas`,{ref_key:`canvas`,ref:B,style:{width:`100%`,height:`100%`},onMousemove:a[0]||=e=>er(e),onMouseleave:nr},null,544),d(i.$slots,`skeleton`,{},()=>[r(Wt)?(o(),f(Re,{key:0})):t(``,!0)],!0),u(r(at),{teleportTo:R.value.style.chart.tooltip.teleportTo,show:V.value.showTooltip&&xt.value,backgroundColor:R.value.style.chart.tooltip.backgroundColor,color:R.value.style.chart.tooltip.color,fontSize:R.value.style.chart.tooltip.fontSize,borderRadius:R.value.style.chart.tooltip.borderRadius,borderColor:R.value.style.chart.tooltip.borderColor,borderWidth:R.value.style.chart.tooltip.borderWidth,position:R.value.style.chart.tooltip.position,offsetY:R.value.style.chart.tooltip.offsetY,parent:r(B),content:St.value,isFullscreen:Et.value,backgroundOpacity:R.value.style.chart.tooltip.backgroundOpacity,isCustom:r(pe)(R.value.style.chart.tooltip.customFormat),smooth:R.value.style.chart.tooltip.smooth,backdropFilter:R.value.style.chart.tooltip.backdropFilter,smoothForce:R.value.style.chart.tooltip.smoothForce,smoothSnapThreshold:R.value.style.chart.tooltip.smoothSnapThreshold},{"tooltip-before":h(()=>[d(i.$slots,`tooltip-before`,m(s({...Ct.value})),void 0,!0)]),"tooltip-after":h(()=>[d(i.$slots,`tooltip-after`,m(s({...Ct.value})),void 0,!0)]),_:3},8,[`teleportTo`,`show`,`backgroundColor`,`color`,`fontSize`,`borderRadius`,`borderColor`,`borderWidth`,`position`,`offsetY`,`parent`,`content`,`isFullscreen`,`backgroundOpacity`,`isCustom`,`smooth`,`backdropFilter`,`smoothForce`,`smoothSnapThreshold`])],4),R.value.style.chart.zoom.show&&H.value>6&&L.value&&Lt.value&&!r(Wt)?(o(),f(Ze,{key:2,ref_key:`chartSlicer`,ref:P,allMinimaps:vn.value,background:R.value.style.chart.zoom.color,borderColor:R.value.style.chart.backgroundColor,customFormat:R.value.style.chart.zoom.customFormat,cutNullValues:gn.value,enableRangeHandles:R.value.style.chart.zoom.enableRangeHandles,enableSelectionDrag:R.value.style.chart.zoom.enableSelectionDrag,end:q.value.end,focusOnDrag:R.value.style.chart.zoom.focusOnDrag,focusRangeRatio:R.value.style.chart.zoom.focusRangeRatio,fontSize:R.value.style.chart.zoom.fontSize,immediate:!R.value.style.chart.zoom.preview.enable,inputColor:R.value.style.chart.zoom.color,isPreview:Sn.value,labelLeft:R.value.style.chart.grid.x.timeLabels.values[q.value.start]?X.value[q.value.start]?.text:``,labelRight:R.value.style.chart.grid.x.timeLabels.values[q.value.end-1]?X.value[q.value.end-1]?.text:``,max:H.value,min:0,minimap:_n.value,minimapCompact:R.value.style.chart.zoom.minimap.compact,minimapFrameColor:R.value.style.chart.zoom.minimap.frameColor,minimapIndicatorColor:R.value.style.chart.zoom.minimap.indicatorColor,minimapLineColor:R.value.style.chart.zoom.minimap.lineColor,minimapMerged:R.value.style.chart.zoom.minimap.merged,minimapSelectedColor:R.value.style.chart.zoom.minimap.selectedColor,minimapSelectedColorOpacity:R.value.style.chart.zoom.minimap.selectedColorOpacity,minimapSelectedIndex:k.value,minimapSelectionRadius:R.value.style.chart.zoom.minimap.selectionRadius,preciseLabels:Bn.value?.length?Bn.value:X.value,refreshEndPoint:R.value.style.chart.zoom.endIndex===null?H.value:R.value.style.chart.zoom.endIndex+1,refreshStartPoint:R.value.style.chart.zoom.startIndex===null?0:R.value.style.chart.zoom.startIndex,selectColor:R.value.style.chart.zoom.highlightColor,selectedSeries:G.value,smoothMinimap:R.value.style.chart.zoom.minimap.smooth,start:q.value.start,timeLabels:X.value,usePreciseLabels:R.value.style.chart.grid.x.timeLabels.datetimeFormatter.enable&&!R.value.style.chart.zoom.useDefaultFormat,textColor:R.value.style.chart.color,useResetSlot:R.value.style.chart.zoom.useResetSlot,valueEnd:q.value.end,valueStart:q.value.start,verticalHandles:R.value.style.chart.zoom.minimap.verticalHandles,maxWidth:R.value.style.chart.zoom.maxWidth,additionalMinimapHeight:R.value.style.chart.zoom.minimap.additionalHeight,handleType:R.value.style.chart.zoom.minimap.handleType,handleIconColor:R.value.style.chart.zoom.minimap.handleIconColor,handleBorderWidth:R.value.style.chart.zoom.minimap.handleBorderWidth,handleBorderColor:R.value.style.chart.zoom.minimap.handleBorderColor,handleFill:R.value.style.chart.zoom.minimap.handleFill,handleWidth:R.value.style.chart.zoom.minimap.handleWidth,onFutureEnd:a[1]||=e=>Cn(`end`,e),onFutureStart:a[2]||=e=>Cn(`start`,e),onReset:xn,onTrapMouse:sn,"onUpdate:end":En,"onUpdate:start":Tn},{"reset-action":h(({reset:e})=>[d(i.$slots,`reset-action`,m(s({reset:e})),void 0,!0)]),_:3},8,`allMinimaps.background.borderColor.customFormat.cutNullValues.enableRangeHandles.enableSelectionDrag.end.focusOnDrag.focusRangeRatio.fontSize.immediate.inputColor.isPreview.labelLeft.labelRight.max.minimap.minimapCompact.minimapFrameColor.minimapIndicatorColor.minimapLineColor.minimapMerged.minimapSelectedColor.minimapSelectedColorOpacity.minimapSelectedIndex.minimapSelectionRadius.preciseLabels.refreshEndPoint.refreshStartPoint.selectColor.selectedSeries.smoothMinimap.start.timeLabels.usePreciseLabels.textColor.useResetSlot.valueEnd.valueStart.verticalHandles.maxWidth.additionalMinimapHeight.handleType.handleIconColor.handleBorderWidth.handleBorderColor.handleFill.handleWidth`.split(`.`))):t(``,!0),_(`div`,{id:`legend-bottom-${w.value}`},null,8,ht),Nt.value?(o(),f(ie,{key:3,to:R.value.style.chart.legend.position===`top`?`#legend-top-${w.value}`:`#legend-bottom-${w.value}`},[_(`div`,{ref_key:`chartLegend`,ref:Ot},[R.value.style.chart.legend.show&&L.value?(o(),f(nt,{legendSet:ur.value,config:dr.value,key:`legend_${Mt.value}`,isCursorPointer:z.value,onClickMarker:a[3]||=({i:e})=>or(e)},{item:h(({legend:e,index:t})=>[_(`div`,{onClick:t=>e.segregate(),style:c(`opacity:${A.value.includes(t)?.5:1}`)},l(e.name),13,gt)]),legendToggle:h(()=>[ur.value.length>2&&R.value.style.chart.legend.selectAllToggle.show&&!r(Wt)?(o(),f($e,{key:0,backgroundColor:R.value.style.chart.legend.selectAllToggle.backgroundColor,color:R.value.style.chart.legend.selectAllToggle.color,fontSize:R.value.style.chart.legend.fontSize,checked:A.value.length>0,isCursorPointer:z.value,onToggle:ar},null,8,[`backgroundColor`,`color`,`fontSize`,`checked`,`isCursorPointer`])):t(``,!0)]),_:1},8,[`legendSet`,`config`,`isCursorPointer`])):d(i.$slots,`legend`,{key:1,legend:ur.value},void 0,!0)],512)],8,[`to`])):t(``,!0),i.$slots.watermark?(o(),le(`div`,_t,[d(i.$slots,`watermark`,m(s({isPrinting:r($t)||r(en)||zt.value})),void 0,!0)])):t(``,!0),i.$slots.source?(o(),le(`div`,{key:5,ref_key:`source`,ref:kt,dir:`auto`},[d(i.$slots,`source`,{},void 0,!0)],512)):t(``,!0),L.value&&R.value.userOptions.buttons.table?(o(),f(ae(Cr.value.component),ee({key:6},Cr.value.props,{ref_key:`tableUnit`,ref:Pt,onClose:wr}),ne({content:h(()=>[(o(),f(r(ot),{key:`table_${jt.value}`,colNames:fr.value.colNames,head:fr.value.head,body:fr.value.body,config:fr.value.config,title:R.value.table.useDialog?``:Cr.value.title,withCloseButton:!R.value.table.useDialog,isCursorPointer:z.value,onClose:wr},{th:h(({th:e})=>[_(`div`,{innerHTML:e},null,8,vt)]),td:h(({td:e})=>[n(l(e),1)]),_:1},8,[`colNames`,`head`,`body`,`config`,`title`,`withCloseButton`,`isCursorPointer`]))]),_:2},[R.value.table.useDialog?{name:`title`,fn:h(()=>[n(l(Cr.value.title),1)]),key:`0`}:void 0,R.value.table.useDialog?{name:`actions`,fn:h(()=>[_(`button`,{tabindex:`0`,class:`vue-ui-user-options-button`,onClick:a[4]||=e=>mr(R.value.userOptions.callbacks.csv),style:c({cursor:z.value?`pointer`:`default`})},[u(Xe,{name:`fileCsv`,stroke:Cr.value.props.color},null,8,[`stroke`])],4)]),key:`1`}:void 0]),1040)):t(``,!0),R.value.userOptions.buttons.annotator&&K.value.length?(o(),f(r(ct),{key:7,parent:T.value,backgroundColor:R.value.style.chart.backgroundColor,color:R.value.style.chart.color,active:br.value,isCursorPointer:z.value,onClose:xr},null,8,[`parent`,`backgroundColor`,`color`,`active`,`isCursorPointer`])):t(``,!0)],46,pt))}},[[`__scopeId`,`data-v-e0eee1ba`]]),C=Object.freeze(Object.defineProperty({__proto__:null,default:yt},Symbol.toStringTag,{value:`Module`}));export{ft as a,C as b};