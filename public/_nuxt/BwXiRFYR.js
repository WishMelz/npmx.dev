const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./DHC76net.js","./BLt7TXlb.js","./xh7dz5-d.js","./CWNsAIol.js","./Cf-0F-2c.js","./BDmUravP.js","./D7-tWLRc.js","./DuIAB7Tu.js"])))=>i.map(i=>d[i]);
import{At as e,C as t,Dt as n,G as r,J as i,M as a,Mt as o,O as ee,Q as s,R as c,S as l,T as u,Z as d,b as f,it as p,jt as m,k as te,lt as h,m as g,o as ne,ot as re,w as _,x as v,yt as y,z as ie}from"./BLt7TXlb.js";import{t as ae}from"./YZkb6lnT.js";import{E as oe,N as se,Nt as b,St as ce,V as le,a as ue,h as de,p as fe}from"./Cf-0F-2c.js";import{n as x,t as pe}from"./8DvoFuCx.js";import{t as me}from"./Cme7ewGR.js";import{t as S}from"./CWNsAIol.js";import{t as he}from"./BwaPX4qL.js";import{t as ge}from"./C0O4I1kb.js";import{t as _e}from"./DMqKe8aR.js";var C={style:{backgroundColor:`#1A1A1A`,color:`#CCCCCC`},table:{head:{backgroundColor:`#1A1A1A`,color:`#CCCCCC`}}},w={style:{backgroundColor:`#FFF8E1`,color:`#424242`,heatmapColors:{min:`#FFECB3`,max:`#D32F2F`}},table:{head:{backgroundColor:`#FFF8E1`,color:`#424242`}}},T={style:{backgroundColor:`#1A1A1A`,color:`#99AA99`,heatmapColors:{min:`#333333`,max:`#66CC66`}},table:{head:{backgroundColor:`#1A1A1A`,color:`#99AA99`}}},E={style:{backgroundColor:`#fbfafa`,color:`#8A9892`,heatmapColors:{max:`#C09E85`,min:`#DCDFE7`}},table:{head:{backgroundColor:`#fbfafa`,color:`#8A9892`}}},D={style:{backgroundColor:`#f6f6fb`,color:`#50606C`,heatmapColors:{max:`#4A6A75`,min:`#EFECEC`}},table:{head:{backgroundColor:`#f6f6fb`,color:`#50606C`}}},O={default:{},dark:C,celebration:w,hack:T,zen:E,concrete:D},k=Object.freeze(Object.defineProperty({__proto__:null,celebration:w,concrete:D,dark:C,default:O,hack:T,zen:E},Symbol.toStringTag,{value:`Module`})),A=[`id`],j={role:`cell`},M={role:`row`},N=[`data-cell`],P={key:0,style:{display:`flex`,"flex-direction":`row`,gap:`2px`,"align-items":`center`}},F=[`height`,`width`],I={key:0,role:`cell`,"data-cell":`sum`},ve={key:1,role:`cell`,"data-cell":`average`},ye={key:2,role:`cell`,"data-cell":`median`},be={key:1,ref:`source`,dir:`auto`},L=S({__name:`vue-ui-table-heatmap`,props:{config:{type:Object,default(){return{}}},dataset:{type:Array,default(){return[]}}},setup(S,{expose:C}){ne(e=>({v7bb1d4dc:Oe.value,v4b487b6d:De.value}));let w=te(()=>ae(()=>import(`./DHC76net.js`),__vite__mapDeps([0,1,2,3,4,5,6,7]),import.meta.url)),{vue_ui_table_heatmap:T}=pe(),{isThemeValid:E,warnInvalidTheme:D}=he(),k=S,L=y(b()),R=y(!1),z=y(null),B=y(!1),V=y(0),xe=p();r(()=>{xe[`chart-background`]&&console.warn(`VueUiTableHeatmap does not support the #chart-background slot.`)});let H=f({get:()=>K(),set:e=>e}),{userOptionsVisible:U,setUserOptionsVisibility:W,keepUserOptionState:G}=_e({config:H.value});function K(){let e=x({userConfig:k.config,defaultConfig:T}),t=e.theme;if(!t)return e;if(!E.value(e))return D(e),e;let n=x({userConfig:O[t]||k.config,defaultConfig:e});return x({userConfig:k.config,defaultConfig:n})}re(()=>k.config,e=>{H.value=K(),U.value=!H.value.userOptions.showOnChartHover,Y()},{deep:!0});let{isPrinting:Se,isImaging:Ce,generatePdf:q,generateImage:J}=me({elementId:`table_heatmap_${L.value}`,fileName:`vue-ui-table-heatmap`,options:H.value.userOptions.print}),we=f(()=>H.value.table.responsiveBreakpoint),Te=f(()=>!!k.dataset&&k.dataset.length);r(()=>{Y()});function Y(){le(k.dataset)&&de({componentName:`VueUiTableHeatmap`,type:`dataset`});let e=new ResizeObserver(e=>{e.forEach(e=>{R.value=e.contentRect.width<we.value})});z.value&&e.observe(z.value)}let X=f(()=>k.dataset.map(e=>{let t=e.values.map(e=>isNaN(e)?0:e),n=t.reduce((e,t)=>e+t,0);return{...e,values:t,serieExtremes:{max:Math.max(...t),min:Math.min(...t)},sum:n,average:n/t.length,median:fe(t),displayValues:[e.name,...e.values],id:b()}})),Z=f(()=>{let e=X.value.flatMap(e=>e.values);return{min:Math.min(...e),max:Math.max(...e)}});function Ee(e,t){let n=H.value.style.heatmapColors.useIndividualScale;return oe(H.value.style.heatmapColors.min,H.value.style.heatmapColors.max,n?t.min:Z.value.min,n?t.max:Z.value.max,e)}let Q=f(()=>X.value.map(e=>({...e,colors:e.displayValues.map(t=>isNaN(t)?H.value.style.backgroundColor:Ee(t,e.serieExtremes))}))),De=f(()=>H.value.style.backgroundColor),Oe=f(()=>`${H.value.table.borderWidth}px`);function $(e=null){ie(()=>{let t=Q.value.map(e=>[[e.name],e.displayValues,[e.sum],[e.average],[e.median]]),n=ue([[[``],H.value.table.head.values,[`sum`],[`average`],[`median`]]].concat(t));e?e(n):se({csvContent:n,title:`vue-ui-table-heatmap`})})}function ke(e){B.value=e,V.value+=1}return C({generatePdf:q,generateCsv:$,generateImage:J}),(r,f)=>(i(),_(`div`,{ref_key:`tableContainer`,ref:z,style:o(`width:100%; overflow-x:auto; container-type: inline-size;padding-top:${H.value.userOptions.show?`36px`:``}; ${B.value?`vue-data-ui-wrapper-fullscreen`:``}; position:relative;`),class:e({"vue-data-ui-component":!0,"vue-ui-responsive":R.value}),id:`table_heatmap_${L.value}`,onMouseenter:f[0]||=()=>n(W)(!0),onMouseleave:f[1]||=()=>n(W)(!1)},[H.value.userOptions.show&&Te.value&&(n(G)||n(U))?(i(),l(n(w),{ref:`details`,key:`user_option_${V.value}`,backgroundColor:H.value.style.backgroundColor,color:H.value.style.color,isPrinting:n(Se),isImaging:n(Ce),uid:L.value,hasPdf:H.value.userOptions.buttons.pdf,hasXls:H.value.userOptions.buttons.csv,hasImg:H.value.userOptions.buttons.img,hasFullscreen:H.value.userOptions.buttons.fullscreen,isFullscreen:B.value,titles:{...H.value.userOptions.buttonTitles},chartElement:z.value,position:H.value.userOptions.position,callbacks:H.value.userOptions.callbacks,printScale:H.value.userOptions.print.scale,onToggleFullscreen:ke,onGeneratePdf:n(q),onGenerateCsv:$,onGenerateImage:n(J),style:o({visibility:n(G)?n(U)?`visible`:`hidden`:`visible`})},u({_:2},[r.$slots.menuIcon?{name:`menuIcon`,fn:h(({isOpen:e,color:t})=>[s(r.$slots,`menuIcon`,m(a({isOpen:e,color:t})),void 0,!0)]),key:`0`}:void 0,r.$slots.optionPdf?{name:`optionPdf`,fn:h(()=>[s(r.$slots,`optionPdf`,{},void 0,!0)]),key:`1`}:void 0,r.$slots.optionCsv?{name:`optionCsv`,fn:h(()=>[s(r.$slots,`optionCsv`,{},void 0,!0)]),key:`2`}:void 0,r.$slots.optionImg?{name:`optionImg`,fn:h(()=>[s(r.$slots,`optionImg`,{},void 0,!0)]),key:`3`}:void 0,r.$slots.optionFullscreen?{name:`optionFullscreen`,fn:h(({toggleFullscreen:e,isFullscreen:t})=>[s(r.$slots,`optionFullscreen`,m(a({toggleFullscreen:e,isFullscreen:t})),void 0,!0)]),key:`4`}:void 0]),1032,[`backgroundColor`,`color`,`isPrinting`,`isImaging`,`uid`,`hasPdf`,`hasXls`,`hasImg`,`hasFullscreen`,`isFullscreen`,`titles`,`chartElement`,`position`,`callbacks`,`printScale`,`onGeneratePdf`,`onGenerateImage`,`style`])):t(``,!0),v(`table`,{class:e({"vue-ui-table-heatmap":!0}),style:o(`width:100%;font-family:${H.value.style.fontFamily};background:${H.value.style.backgroundColor};`)},[v(`caption`,null,[s(r.$slots,`caption`,{},void 0,!0)]),v(`thead`,null,[v(`tr`,{role:`row`,style:o(`background:${H.value.table.head.backgroundColor};color:${H.value.table.head.color}`)},[(i(!0),_(g,null,d(H.value.table.head.values,(e,t)=>(i(),_(`th`,j,[s(r.$slots,`head`,c({ref_for:!0},{value:e,rowIndex:t,type:typeof e,isResponsive:R.value}),void 0,!0)]))),256))],4)]),v(`tbody`,null,[(i(!0),_(g,null,d(Q.value,(e,a)=>(i(),_(`tr`,M,[(i(!0),_(g,null,d(e.displayValues,(o,l)=>(i(),_(`td`,{role:`cell`,"data-cell":H.value.table.head.values[l]},[e.color&&l===0?(i(),_(`div`,P,[e.color?(i(),_(`svg`,{key:0,height:H.value.style.shapeSize,width:H.value.style.shapeSize,viewBox:`0 0 20 20`,style:{background:`none`,overflow:`visible`}},[ee(ge,{plot:{x:10,y:10},color:e.color,radius:9,shape:e.shape||`circle`},null,8,[`color`,`shape`])],8,F)):t(``,!0),s(r.$slots,`rowTitle`,c({ref_for:!0},{value:o,rowIndex:a,colIndex:l,type:typeof o,isResponsive:R.value}),void 0,!0)])):(i(),_(g,{key:1},[l===0?s(r.$slots,`rowTitle`,c({key:0,ref_for:!0},{value:o,rowIndex:a,colIndex:l,type:typeof o,isResponsive:R.value}),void 0,!0):t(``,!0),l>0?s(r.$slots,`cell`,c({key:1,ref_for:!0},{value:o,rowIndex:a,colIndex:l,type:typeof o,isResponsive:R.value,color:e.colors[l],textColor:n(ce)(e.colors[l])}),void 0,!0):t(``,!0)],64))],8,N))),256)),H.value.table.showSum?(i(),_(`td`,I,[s(r.$slots,`sum`,c({ref_for:!0},{value:e.sum,rowIndex:a,isResponsive:R.value}),void 0,!0)])):t(``,!0),H.value.table.showAverage?(i(),_(`td`,ve,[s(r.$slots,`average`,c({ref_for:!0},{value:e.average,rowIndex:a,isResponsive:R.value}),void 0,!0)])):t(``,!0),H.value.table.showMedian?(i(),_(`td`,ye,[s(r.$slots,`median`,c({ref_for:!0},{value:e.median,rowIndex:a,isResponsive:R.value}),void 0,!0)])):t(``,!0)]))),256))])],4),r.$slots.source?(i(),_(`div`,be,[s(r.$slots,`source`,{},void 0,!0)],512)):t(``,!0)],46,A))}},[[`__scopeId`,`data-v-9de1ab93`]]),R=Object.freeze(Object.defineProperty({__proto__:null,default:L},Symbol.toStringTag,{value:`Module`}));export{k as a,R as b};