import{At as e,C as t,D as n,Dt as r,G as i,J as a,Mt as o,Nt as s,O as c,Q as l,Z as u,b as d,f,it as p,lt as m,m as h,ot as g,w as _,x as v,yt as y}from"./BLt7TXlb.js";import{Mt as b,V as x,bt as S,h as C,rt as w,wt as T}from"./Cf-0F-2c.js";import{n as E,t as D}from"./8DvoFuCx.js";import{t as O}from"./CWNsAIol.js";var k=[`xmlns`,`stroke`],A=[`id`],j=[`stop-color`],M=[`stop-color`],N=[`stroke`],P=[`xmlns`,`viewBox`,`stroke`],F=[`id`],I=[`stop-color`],L=[`stop-color`],R=[`viewBox`,`stroke`],z=O({__name:`BaseSmilingUnit`,props:{config:{type:Object},unit:{type:Number},currentRating:{type:Number},getActiveColor:{type:Function},calcShapeFill:{type:Function},isReadonly:{type:Boolean},hasBreakdown:{type:Boolean},hoveredValue:{type:Number},isCursorPointer:{type:Boolean}},emits:[`rate`,`mouseenter`,`mouseleave`],setup(n,{emit:i}){let c=n,u=i;return(i,d)=>(a(),_(`div`,{tabindex:`0`,class:e({"vue-ui-smiley-rated":!n.config.readonly&&n.currentRating===n.unit}),style:o({cursor:n.config.readonly?`default`:c.isCursorPointer?`pointer`:`default`,height:n.config.style.itemSize+`px`,aspectRatio:`1/1`,position:`relative`}),onMouseenter:d[0]||=e=>u(`mouseenter`),onMouseleave:d[1]||=e=>u(`mouseleave`),onClick:d[2]||=e=>u(`rate`,n.unit),onKeyup:d[3]||=f(e=>u(`rate`,n.unit),[`enter`])},[n.config.style.tooltip.show&&n.hasBreakdown&&n.isReadonly?(a(),_(`div`,{key:0,class:`vue-ui-rating-tooltip`,style:o({border:`1px solid ${n.config.style.tooltip.borderColor}`,position:`absolute`,top:`${n.config.style.tooltip.offsetY-48}px`,left:`50%`,transform:`translateX(-50%)`,width:`fit-content`,textAlign:`center`,background:n.config.style.tooltip.backgroundColor,display:n.hoveredValue===n.unit-1?`block`:`none`,padding:`2px 12px`,borderRadius:n.config.style.tooltip.borderRadius+`px`,boxShadow:n.config.style.tooltip.boxShadow})},[v(`div`,{style:o({width:`100%`,display:`flex`,flexDirection:`row`,gap:`6px`,position:`relative`,textAlign:`center`,color:n.config.style.tooltip.color})},[v(`span`,{style:o(`font-size:${n.config.style.tooltip.fontSize}px`)},s(n.unit)+`:`,5),v(`span`,{style:o(`font-weight:${n.config.style.tooltip.bold?`bold`:`normal`};font-size:${n.config.style.tooltip.fontSize}px`)},[l(i.$slots,`rating`,{},void 0,!0)],4),v(`div`,{style:o(`font-family:Arial !important;position:absolute;top:calc(100% - 4px);left:50%;transform:translateX(-50%);color:${n.config.style.tooltip.borderColor}`)},` â–¼ `,4)],4)],4)):t(``,!0),n.config.style.icons.filled?(a(),_(`svg`,{key:1,xmlns:r(S),style:{transition:`all 0.1s ease-in-out`,position:`absolute`,top:`0`,left:`0`},height:`100%`,viewBox:`0 0 24 24`,"stroke-width":`1.5`,stroke:n.getActiveColor(n.unit-1),fill:`none`,"stroke-linecap":`round`,"stroke-linejoin":`round`},[v(`defs`,null,[v(`radialGradient`,{id:`vueUiSmiley${n.unit-1}`},[v(`stop`,{offset:`0%`,"stop-color":r(w)(n.config.style.colors.active[n.unit-1],.05)},null,8,j),v(`stop`,{offset:`100%`,"stop-color":n.config.style.colors.active[n.unit-1]},null,8,M)],8,A)]),l(i.$slots,`path-icon-filled`,{},void 0,!0)],8,k)):(a(),_(`svg`,{key:2,style:{position:`absolute`,top:`0`,left:`0`,transition:`all 0.1s ease-in-out`},height:`100%`,viewBox:`0 0 24 24`,"stroke-width":`1.5`,stroke:n.getActiveColor(n.unit-1),fill:`none`,"stroke-linecap":`round`,"stroke-linejoin":`round`},[l(i.$slots,`path-icon`,{},void 0,!0)],8,N)),n.config.style.icons.filled&&n.isReadonly?(a(),_(`svg`,{key:3,xmlns:r(S),style:{transition:`all 0.1s ease-in-out`,position:`absolute`,top:`0`,left:`0`},height:`100%`,viewBox:`0 0 ${n.calcShapeFill(n.unit-1)} 24`,"stroke-width":`1.5`,stroke:n.config.style.colors.activeReadonly[n.unit-1],fill:`none`,"stroke-linecap":`round`,"stroke-linejoin":`round`},[v(`defs`,null,[v(`radialGradient`,{id:`vueUiSmiley${n.unit-1}`},[v(`stop`,{offset:`0%`,"stop-color":r(w)(n.config.style.colors.activeReadonly[n.unit-1],.05)},null,8,I),v(`stop`,{offset:`100%`,"stop-color":n.config.style.colors.activeReadonly[n.unit-1]},null,8,L)],8,F)]),l(i.$slots,`path-icon-filled-readonly`,{},void 0,!0)],8,P)):t(``,!0),!n.config.style.icons.filled&&n.isReadonly?(a(),_(`svg`,{key:4,style:{position:`absolute`,top:`0`,left:`0`,transition:`all 0.1s ease-in-out`},height:`100%`,viewBox:`0 0 ${n.calcShapeFill(n.unit-1)} 24`,"stroke-width":`1.5`,stroke:n.config.style.colors.activeReadonly[n.unit-1],fill:`none`,"stroke-linecap":`round`,"stroke-linejoin":`round`},[l(i.$slots,`path-icon-readonly`,{},void 0,!0)],8,R)):t(``,!0)],38))}},[[`__scopeId`,`data-v-843c3372`]]),B={key:0,class:`vue-ui-rating-title`,style:{width:`100%`}},V=[`d`,`fill`],H=[`d`],U=[`d`,`fill`],W=[`d`],G={__name:`vue-ui-smiley`,props:{config:{type:Object,default(){return{}}},dataset:{type:Object,default(){return{}}}},emits:[`rate`],setup(e,{expose:r,emit:l}){let{vue_ui_smiley:f}=D(),S=e,w=p(),O=l,k=y(null);i(()=>{w[`chart-background`]&&console.warn(`VueUiSmiley does not support the #chart-background slot.`)});function A(){(!Object.hasOwn(S.dataset,`rating`)||x(S.dataset))&&C({componentName:`VueUiSmiley`,type:`datasetAttribute`,property:`rating`})}i(A);let j=y(N()),M=d(()=>j.value.useCursorPointer);function N(){return E({userConfig:S.config,defaultConfig:f})}g(()=>S.config,e=>{j.value=N(),L.value=j.value.readonly,A()},{deep:!0});let P=d(()=>{let e=S.dataset.rating;return e&&typeof e==`object`&&!Array.isArray(e)?G(e):e??null}),F=d(()=>typeof S.dataset.rating==`object`&&!Array.isArray(S.dataset.rating)),I=y(P.value);g(P,e=>{I.value=e});let L=y(j.value.readonly),R=[{key:`smiley_0`,pathIconFilled:`M17 3.34a10 10 0 1 1 -14.995 8.984l-.005 -.324l.005 -.324a10 10 0 0 1 14.995 -8.336zm-5 9.86a4.5 4.5 0 0 0 -3.214 1.35a1 1 0 1 0 1.428 1.4a2.5 2.5 0 0 1 3.572 0a1 1 0 0 0 1.428 -1.4a4.5 4.5 0 0 0 -3.214 -1.35zm-2.99 -4.2l-.127 .007a1 1 0 0 0 0 1.986l.117 .007l.127 -.007a1 1 0 0 0 0 -1.986l-.117 -.007zm6 0l-.127 .007a1 1 0 0 0 0 1.986l.117 .007l.127 -.007a1 1 0 0 0 0 -1.986l-.117 -.007z`,pathIcon:`M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0 M9 10l.01 0 M15 10l.01 0 M9.5 15.25a3.5 3.5 0 0 1 5 0`,pathIconFilledReadonly:`M17 3.34a10 10 0 1 1 -14.995 8.984l-.005 -.324l.005 -.324a10 10 0 0 1 14.995 -8.336zm-5 9.86a4.5 4.5 0 0 0 -3.214 1.35a1 1 0 1 0 1.428 1.4a2.5 2.5 0 0 1 3.572 0a1 1 0 0 0 1.428 -1.4a4.5 4.5 0 0 0 -3.214 -1.35zm-2.99 -4.2l-.127 .007a1 1 0 0 0 0 1.986l.117 .007l.127 -.007a1 1 0 0 0 0 -1.986l-.117 -.007zm6 0l-.127 .007a1 1 0 0 0 0 1.986l.117 .007l.127 -.007a1 1 0 0 0 0 -1.986l-.117 -.007z`,pathIconReadonly:`M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0 M9 10l.01 0 M15 10l.01 0 M9.5 15.25a3.5 3.5 0 0 1 5 0`},{key:`smiley_1`,pathIconFilled:`M17 3.34a10 10 0 1 1 -14.995 8.984l-.005 -.324l.005 -.324a10 10 0 0 1 14.995 -8.336zm-2 10.66h-6l-.117 .007a1 1 0 0 0 0 1.986l.117 .007h6l.117 -.007a1 1 0 0 0 0 -1.986l-.117 -.007zm-5.99 -5l-.127 .007a1 1 0 0 0 0 1.986l.117 .007l.127 -.007a1 1 0 0 0 0 -1.986l-.117 -.007zm6 0l-.127 .007a1 1 0 0 0 0 1.986l.117 .007l.127 -.007a1 1 0 0 0 0 -1.986l-.117 -.007z`,pathIcon:`M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0 M9 10l.01 0 M15 10l.01 0 M9 15l6 0`,pathIconFilledReadonly:`M17 3.34a10 10 0 1 1 -14.995 8.984l-.005 -.324l.005 -.324a10 10 0 0 1 14.995 -8.336zm-2 10.66h-6l-.117 .007a1 1 0 0 0 0 1.986l.117 .007h6l.117 -.007a1 1 0 0 0 0 -1.986l-.117 -.007zm-5.99 -5l-.127 .007a1 1 0 0 0 0 1.986l.117 .007l.127 -.007a1 1 0 0 0 0 -1.986l-.117 -.007zm6 0l-.127 .007a1 1 0 0 0 0 1.986l.117 .007l.127 -.007a1 1 0 0 0 0 -1.986l-.117 -.007z`,pathIconReadonly:`M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0 M9 10l.01 0 M15 10l.01 0 M9 15l6 0`},{key:`smiley_2`,pathIconFilled:`M17 3.34a10 10 0 1 1 -14.995 8.984l-.005 -.324l.005 -.324a10 10 0 0 1 14.995 -8.336zm-7.99 5.66l-.127 .007a1 1 0 0 0 0 1.986l.117 .007l.127 -.007a1 1 0 0 0 0 -1.986l-.117 -.007zm6 0l-.127 .007a1 1 0 0 0 0 1.986l.117 .007l.127 -.007a1 1 0 0 0 0 -1.986l-.117 -.007z`,pathIcon:`M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0 M9 10l.01 0 M15 10l.01 0`,pathIconFilledReadonly:`M17 3.34a10 10 0 1 1 -14.995 8.984l-.005 -.324l.005 -.324a10 10 0 0 1 14.995 -8.336zm-7.99 5.66l-.127 .007a1 1 0 0 0 0 1.986l.117 .007l.127 -.007a1 1 0 0 0 0 -1.986l-.117 -.007zm6 0l-.127 .007a1 1 0 0 0 0 1.986l.117 .007l.127 -.007a1 1 0 0 0 0 -1.986l-.117 -.007z`,pathIconReadonly:`M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0 M9 10l.01 0 M15 10l.01 0`},{key:`smiley_3`,pathIconFilled:`M17 3.34a10 10 0 1 1 -14.995 8.984l-.005 -.324l.005 -.324a10 10 0 0 1 14.995 -8.336zm-1.8 10.946a1 1 0 0 0 -1.414 .014a2.5 2.5 0 0 1 -3.572 0a1 1 0 0 0 -1.428 1.4a4.5 4.5 0 0 0 6.428 0a1 1 0 0 0 -.014 -1.414zm-6.19 -5.286l-.127 .007a1 1 0 0 0 .117 1.993l.127 -.007a1 1 0 0 0 -.117 -1.993zm6 0l-.127 .007a1 1 0 0 0 .117 1.993l.127 -.007a1 1 0 0 0 -.117 -1.993z`,pathIcon:`M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0 M9 10l.01 0 M15 10l.01 0 M9.5 15a3.5 3.5 0 0 0 5 0`,pathIconFilledReadonly:`M17 3.34a10 10 0 1 1 -14.995 8.984l-.005 -.324l.005 -.324a10 10 0 0 1 14.995 -8.336zm-1.8 10.946a1 1 0 0 0 -1.414 .014a2.5 2.5 0 0 1 -3.572 0a1 1 0 0 0 -1.428 1.4a4.5 4.5 0 0 0 6.428 0a1 1 0 0 0 -.014 -1.414zm-6.19 -5.286l-.127 .007a1 1 0 0 0 .117 1.993l.127 -.007a1 1 0 0 0 -.117 -1.993zm6 0l-.127 .007a1 1 0 0 0 .117 1.993l.127 -.007a1 1 0 0 0 -.117 -1.993z`,pathIconReadonly:`M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0 M9 10l.01 0 M15 10l.01 0 M9.5 15a3.5 3.5 0 0 0 5 0`},{key:`smiley_4`,pathIconFilled:`M17 3.34a10 10 0 1 1 -14.995 8.984l-.005 -.324l.005 -.324a10 10 0 0 1 14.995 -8.336zm-2 9.66h-6a1 1 0 0 0 -1 1v.05a3.975 3.975 0 0 0 3.777 3.97l.227 .005a4.026 4.026 0 0 0 3.99 -3.79l.006 -.206a1 1 0 0 0 -1 -1.029zm-5.99 -5l-.127 .007a1 1 0 0 0 .117 1.993l.127 -.007a1 1 0 0 0 -.117 -1.993zm6 0l-.127 .007a1 1 0 0 0 .117 1.993l.127 -.007a1 1 0 0 0 -.117 -1.993z`,pathIcon:`M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0 M9 9l.01 0 M15 9l.01 0 M8 13a4 4 0 1 0 8 0h-8`,pathIconFilledReadonly:`M17 3.34a10 10 0 1 1 -14.995 8.984l-.005 -.324l.005 -.324a10 10 0 0 1 14.995 -8.336zm-2 9.66h-6a1 1 0 0 0 -1 1v.05a3.975 3.975 0 0 0 3.777 3.97l.227 .005a4.026 4.026 0 0 0 3.99 -3.79l.006 -.206a1 1 0 0 0 -1 -1.029zm-5.99 -5l-.127 .007a1 1 0 0 0 .117 1.993l.127 -.007a1 1 0 0 0 -.117 -1.993zm6 0l-.127 .007a1 1 0 0 0 .117 1.993l.127 -.007a1 1 0 0 0 -.117 -1.993z`,pathIconReadonly:`M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0 M9 9l.01 0 M15 9l.01 0 M8 13a4 4 0 1 0 8 0h-8`}];function G(e){if(e==null)return null;let t=0,n=0;for(let r in e){let i=Number(r),a=e[r];Number.isFinite(i)&&(t+=i*a,n+=a)}return n===0?0:t/n}function K(e){let t=I.value-e;switch(!0){case t<0:return 0;case t>1:return 24;default:return t*24}}function q(e){return j.value.readonly?j.value.style.colors.inactive[e]:I.value===e+1||k.value!==null&&k.value===e?j.value.style.icons.useGradient&&j.value.style.icons.filled?`url(#vueUiSmiley${e})`:j.value.style.colors.active[e]:j.value.style.colors.inactive[e]}let J=d(()=>({value:e,tooltip:t=!1})=>T(t?j.value.style.tooltip.formatter:j.value.style.rating.formatter,e,b({v:e,r:t?j.value.style.tooltip.roundingValue:j.value.style.rating.roundingValue}),j.value));function Y(e){L.value||(I.value=e,O(`rate`,e))}function X(){return I.value}function Z(e=!0){L.value=e}return r({getData:X,toggleReadonly:Z}),(e,r)=>(a(),_(`div`,{class:`vue-data-ui-component vue-ui-smiley`,style:o(`background:${j.value.style.backgroundColor};font-family:${j.value.style.fontFamily};width:100%;`),onMouseleave:r[1]||=e=>k.value=void 0},[j.value.style.title.text?(a(),_(`div`,B,[v(`div`,{style:o(`color:${j.value.style.title.color};font-weight:${j.value.style.title.bold?`bold`:`normal`};text-align:${j.value.style.title.textAlign};margin-bottom:${j.value.style.title.offsetY}px;font-size:${j.value.style.title.fontSize}px`)},s(j.value.style.title.text),5),j.value.style.title.subtitle.text?(a(),_(`div`,{key:0,style:o(`color:${j.value.style.title.subtitle.color};font-size:${j.value.style.title.subtitle.fontSize}px;text-align:${j.value.style.title.textAlign};margin-bottom:${j.value.style.title.subtitle.offsetY}px;font-weight:${j.value.style.title.subtitle.bold?`bold`:`normal`}`)},s(j.value.style.title.subtitle.text),5)):t(``,!0)])):t(``,!0),j.value.style.rating.show&&j.value.style.rating.position===`top`?(a(),_(`div`,{key:1,style:o(`width:100%;text-align:center;margin-bottom:${j.value.style.rating.offsetY}px;font-size:${j.value.style.rating.fontSize}px;font-weight:${j.value.style.rating.bold?`bold`:`normal`};margin-left:${j.value.style.rating.offsetX}px`)},s(J.value({value:I.value})),5)):t(``,!0),v(`div`,{class:`vue-ui-smiley-wrapper`,style:o(`overflow:visible;height:${j.value.style.itemSize}px;width:fit-content;margin:0 auto;display:flex;align-items:center;justify-content:center;`)},[j.value.style.rating.show&&j.value.style.rating.position===`left`?(a(),_(`div`,{key:0,style:o(`width:fit-content;text-align:center;margin-bottom:${j.value.style.rating.offsetY}px;font-size:${j.value.style.rating.fontSize}px;font-weight:${j.value.style.rating.bold?`bold`:`normal`};padding-right:${j.value.style.rating.offsetX}px`)},s(J.value({value:I.value})),5)):t(``,!0),(a(),_(h,null,u(R,(e,t)=>c(z,{key:e.key,config:j.value,unit:t+1,currentRating:I.value,isReadonly:L.value,hasBreakdown:F.value,hoveredValue:k.value,getActiveColor:q,calcShapeFill:K,isCursorPointer:M.value,onMouseenter:e=>k.value=t,onMouseleave:r[0]||=e=>k.value=null,onRate:e=>Y(t+1)},{rating:m(()=>[n(s(J.value({value:S.dataset.rating[String(t+1)],tooltip:!0})),1)]),"path-icon-filled":m(()=>[v(`path`,{d:e.pathIconFilled,"stroke-width":`0`,fill:q(t)},null,8,V)]),"path-icon":m(()=>[v(`path`,{d:e.pathIcon},null,8,H)]),"path-icon-filled-readonly":m(()=>[v(`path`,{d:e.pathIconFilledReadonly,"stroke-width":`0`,fill:j.value.style.icons.useGradient?`url(#vueUiSmiley${t})`:j.value.style.colors.activeReadonly[t]},null,8,U)]),"path-icon-readonly":m(()=>[v(`path`,{d:e.pathIconReadonly},null,8,W)]),_:2},1032,[`config`,`unit`,`currentRating`,`isReadonly`,`hasBreakdown`,`hoveredValue`,`isCursorPointer`,`onMouseenter`,`onRate`])),64)),j.value.style.rating.show&&j.value.style.rating.position===`right`?(a(),_(`div`,{key:1,style:o(`width:fit-content;text-align:center;margin-bottom:${j.value.style.rating.offsetY}px;font-size:${j.value.style.rating.fontSize}px;font-weight:${j.value.style.rating.bold?`bold`:`normal`};padding-left:${j.value.style.rating.offsetX}px`)},s(J.value({value:I.value})),5)):t(``,!0)],4),j.value.style.rating.show&&j.value.style.rating.position===`bottom`?(a(),_(`div`,{key:2,style:o(`width:100%;text-align:center;margin-top:${j.value.style.rating.offsetY}px;font-size:${j.value.style.rating.fontSize}px;font-weight:${j.value.style.rating.bold?`bold`:`normal`};margin-left:${j.value.style.rating.offsetX}px`)},s(J.value({value:I.value})),5)):t(``,!0)],36))}};export{G as default};