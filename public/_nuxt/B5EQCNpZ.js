import{t as e}from"./YZkb6lnT.js";import{t}from"./D7-tWLRc.js";async function n({domElement:n,fileName:r,scale:i=2,orientation:a=`auto`,overflowTolerance:o=.2,aspectRatio:s=null}){if(!n)return Promise.reject(`No domElement provided`);let c=typeof navigator<`u`&&/^((?!chrome|android).)*safari/i.test(navigator.userAgent),l;try{l=(await e(async()=>{let{default:e}=await import(`./D4wb-wdX.js`);return{default:e}},[],import.meta.url)).default}catch{return Promise.reject(`jspdf is not installed. Run npm install jspdf`)}let u={width:595.28,height:841.89},d={width:841.89,height:595.28},f=1e3;function p(e){if(e==null)return null;if(typeof e==`number`&&e>0)return{w:1,h:e};if(typeof e==`string`){let t=e.split(`/`).map(e=>e.trim());if(t.length===2){let e=Number(t[0]),n=Number(t[1]);if(e>0&&n>0)return{w:e,h:n}}else if(t.length===1){let e=Number(t[0]);if(e>0)return{w:1,h:e}}}return null}let m=p(s),h=m?{width:f,height:f*(m.h/m.w)}:null,g=m?{width:h.height,height:h.width}:null;if(c)try{await t({container:n,scale:i}),await t({container:n,scale:i}),await t({container:n,scale:i}),await t({container:n,scale:i})}catch{}let _=await t({container:n,scale:i});return await new Promise((e,t)=>{let n=new window.Image;n.onload=function(){let t=n.naturalWidth,i=n.naturalHeight,s=a===`auto`?i>=t?`p`:`l`:a,c=s===`l`?m?g:d:m?h:u,f=c.width/t,p=c.height/i,v=i*f,y=`single`,b;v<=c.height+.5?b=f:v<=c.height*(1+o)?b=Math.min(f,p):(y=`multi`,b=f);let x=t*b,S=i*b,C=(c.width-x)/2,w=new l({orientation:s,unit:`pt`,format:m?[c.width,c.height]:`a4`});if(y===`single`){let e=(c.height-S)/2;w.addImage(_,`PNG`,C,e,x,S,``,`FAST`)}else{let e=c.height/b,t=i,n=0;for(;t>.5;)w.addImage(_,`PNG`,C,n,x,S,``,`FAST`),t-=e,n-=c.height,t>.5&&w.addPage()}w.save(`${r}.pdf`),e()},n.onerror=e=>t(`Failed to load image for PDF: `+e),n.src=_})}export{n as default};