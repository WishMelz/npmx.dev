const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./CbFHGlY2.js","./BLt7TXlb.js","./Cf-0F-2c.js","./B9jcbJ_P.js","./xh7dz5-d.js","./CWNsAIol.js","./ByvxprxI.js","./CRSLCJ2m.js","./8DvoFuCx.js","./CH8pva4p.js","./C0O4I1kb.js","./DdyLBgN8.js","./C66xQW7K.js","./DuIAB7Tu.js","./DHC76net.js","./BDmUravP.js","./D7-tWLRc.js","./CBD7ngdF.js","./BIodG7vT.js"])))=>i.map(i=>d[i]);
import{At as e,C as t,D as n,Dt as r,G as i,H as a,J as o,M as s,Mt as c,Nt as ee,O as l,Q as u,R as te,S as d,St as ne,T as re,Tt as ie,Z as ae,_ as oe,b as f,et as se,it as ce,jt as p,k as m,lt as h,m as g,ot as _,w as v,x as y,yt as b,z as le}from"./BLt7TXlb.js";import{t as x}from"./YZkb6lnT.js";import{F as ue,Lt as de,Mt as S,N as fe,Nt as pe,Ot as me,P as he,V as ge,_t as _e,a as ve,bt as ye,dt as be,h as xe,it as C,m as Se,pt as Ce,rt as we,u as Te,vt as Ee,wt as De,y as Oe}from"./Cf-0F-2c.js";import{n as ke,t as Ae}from"./8DvoFuCx.js";import{t as je}from"./Cme7ewGR.js";import{t as Me}from"./CWNsAIol.js";import{n as Ne,t as Pe}from"./D4ushAer.js";import{t as Fe}from"./CLl0-3D6.js";import{t as Ie}from"./BwaPX4qL.js";import{t as Le}from"./BDmUravP.js";import{t as Re}from"./BIZzPpPz.js";import{t as ze}from"./C0O4I1kb.js";import{a as Be,n as Ve}from"./D4v1zV2y.js";import{t as He}from"./CB2Wh4RA.js";import{t as Ue}from"./BEpjx3T_.js";import{t as We}from"./DMqKe8aR.js";import{t as Ge}from"./CHaYztGl.js";import{t as Ke}from"./CMjlbb0z.js";var qe={userOptions:{show:!1},style:{chart:{legend:{show:!1}}}},Je={userOptions:{show:!1},style:{chart:{backgroundColor:`#1A1A1A`,color:`#CCCCCC`,layout:{rings:{stroke:`#3A3A3A`},labels:{dataLabels:{color:`#CCCCCC`,markers:{stroke:`#4A4A4A`}}}},legend:{show:!1,backgroundColor:`#1A1A1A`,color:`#CCCCCC`,selectAllToggle:{backgroundColor:`#3A3A3A`,color:`#CCCCCC`}},title:{color:`#CCCCCC`,subtitle:{color:`#757575`}},tooltip:{backgroundColor:`#1A1A1A`,backgroundOpacity:70,color:`#CCCCCC`,borderColor:`#3A3A3A`}}},table:{th:{backgroundColor:`#1A1A1A`,color:`#CCCCCC`},td:{backgroundColor:`#1A1A1A`,color:`#CCCCCC`}}},Ye={style:{chart:{backgroundColor:`#1A1A1A`,color:`#CCCCCC`,layout:{rings:{stroke:`#3A3A3A`},labels:{dataLabels:{color:`#CCCCCC`,markers:{stroke:`#4A4A4A`}}}},legend:{backgroundColor:`#1A1A1A`,color:`#CCCCCC`,selectAllToggle:{backgroundColor:`#3A3A3A`,color:`#CCCCCC`}},title:{color:`#CCCCCC`,subtitle:{color:`#757575`}},tooltip:{backgroundColor:`#1A1A1A`,backgroundOpacity:70,color:`#CCCCCC`,borderColor:`#5A5A5A`}}},table:{th:{backgroundColor:`#1A1A1A`,color:`#CCCCCC`},td:{backgroundColor:`#1A1A1A`,color:`#CCCCCC`}}},Xe={style:{chart:{backgroundColor:`#FFF8E1`,color:`#424242`,layout:{rings:{stroke:`#5D4037`,strokeWidth:10},labels:{dataLabels:{color:`#424242`,markers:{stroke:`#5D4037`}}}},legend:{backgroundColor:`#FFF8E1`,color:`#424242`,selectAllToggle:{backgroundColor:`#5D4037`,color:`#FFF8E1`}},title:{color:`#424242`,subtitle:{color:`#757575`}},tooltip:{backgroundColor:`#FFECB3`,backgroundOpacity:30,color:`#424242`,borderColor:`#FF8A65`}}},table:{th:{backgroundColor:`#FFF8E1`,color:`#424242`},td:{backgroundColor:`#FFF8E1`,color:`#424242`}}},Ze={style:{chart:{backgroundColor:`#1E1E1E`,color:`#BDBDBD`,layout:{rings:{stroke:`#2E2E2E`,strokeWidth:10},labels:{dataLabels:{color:`#BDBDBD`,markers:{stroke:`#2E2E2E`}}}},legend:{backgroundColor:`#1E1E1E`,color:`#BDBDBD`,selectAllToggle:{backgroundColor:`#3A3A3A`,color:`#BDBDBD`}},title:{color:`#FFF8E1`,subtitle:{color:`#BDBDBD`}},tooltip:{backgroundColor:`#1E1E1E`,backgroundOpacity:30,color:`#FFF8E1`,borderColor:`#FF8A65`}}},table:{th:{backgroundColor:`#1E1E1E`,color:`#BDBDBD`},td:{backgroundColor:`#1E1E1E`,color:`#BDBDBD`}}},Qe={style:{chart:{backgroundColor:`#1A1A1A`,color:`#99AA99`,layout:{rings:{stroke:`#1A1A1A`,strokeWidth:10},labels:{dataLabels:{color:`#BDBDBD`,markers:{stroke:`#3A3A3A`}}}},legend:{backgroundColor:`#1A1A1A`,color:`#99AA99`,selectAllToggle:{backgroundColor:`#3A3A3A`,color:`#99AA99`}},title:{color:`#66CC66`,subtitle:{color:`#99AA99`}},tooltip:{backgroundColor:`#2A2F2A`,color:`#AACCAA`,borderColor:`#66CC66`}}},table:{th:{backgroundColor:`#1A1A1A`,color:`#99AA99`},td:{backgroundColor:`#1A1A1A`,color:`#AACCAA`}}},$e={style:{chart:{backgroundColor:`#fbfafa`,color:`#8A9892`,layout:{rings:{stroke:`#fbfafa`,strokeWidth:10},labels:{dataLabels:{color:`#8A9892`,markers:{stroke:`#FFFFFF`}}}},legend:{backgroundColor:`#fbfafa`,color:`#99AA99`,selectAllToggle:{backgroundColor:`#E0CFC3`,color:`#8F837A`}},title:{color:`#8A9892`,subtitle:{color:`#99AA99`}},tooltip:{backgroundColor:`#fbfafa`,color:`#8A9892`}}},table:{th:{backgroundColor:`#fbfafa`,color:`#8F837A`},td:{backgroundColor:`#fbfafa`,color:`#8F837A`}}},et={style:{chart:{backgroundColor:`#f6f6fb`,color:`#50606C`,layout:{rings:{stroke:`#fbfafa`,strokeWidth:10},labels:{dataLabels:{color:`#50606C`,markers:{stroke:`#50606C`}}}},legend:{backgroundColor:`#f6f6fb`,color:`#61747E`,selectAllToggle:{backgroundColor:`#50606C`,color:`#f6f6fb`}},title:{color:`#50606C`,subtitle:{color:`#718890`}},tooltip:{backgroundColor:`#f6f6fb`,color:`#50606C`}}},table:{th:{backgroundColor:`#f6f6fb`,color:`#50606C`},td:{backgroundColor:`#f6f6fb`,color:`#50606C`}}},tt={default:{},minimal:qe,minimalDark:Je,dark:Ye,celebration:Xe,celebrationNight:Ze,hack:Qe,zen:$e,concrete:et},nt=Object.freeze(Object.defineProperty({__proto__:null,celebration:Xe,celebrationNight:Ze,concrete:et,dark:Ye,default:tt,hack:Qe,minimal:qe,minimalDark:Je,zen:$e},Symbol.toStringTag,{value:`Module`})),rt=[`id`],it=[`id`],at=[`xmlns`,`viewBox`],ot=[`width`,`height`],st=[`id`],ct=[`stop-color`],lt=[`stop-color`],ut={key:1},dt=[`stroke`,`cx`,`cy`,`r`,`fill`],ft=[`stroke`,`stroke-width`,`cx`,`cy`,`r`,`fill`],pt=[`stroke`,`stroke-width`,`cx`,`cy`,`r`,`fill`],mt=[`cx`,`cy`,`r`,`onMouseenter`,`onMouseleave`,`onClick`],ht=[`x`,`y`,`width`,`height`,`fill`,`rx`],gt=[`cx`,`cy`,`r`,`fill`,`stroke`],_t=[`x`,`y`,`text-anchor`,`font-size`,`fill`,`font-weight`,`onMouseenter`,`onMouseleave`,`onClick`,`innerHTML`],vt={key:4,class:`vue-data-ui-watermark`},yt=[`id`],bt=[`onClick`],xt=[`innerHTML`],St=Me({__name:`vue-ui-rings`,props:{config:{type:Object,default(){return{}}},dataset:{type:Array,default(){return[]}}},emits:[`selectLegend`,`copyAlt`],setup(Me,{expose:qe,emit:Je}){let Ye=m(()=>x(()=>import(`./CbFHGlY2.js`),__vite__mapDeps([0,1,2]),import.meta.url)),Xe=m(()=>x(()=>import(`./B9jcbJ_P.js`),__vite__mapDeps([3,4,1,5,2]),import.meta.url)),Ze=m(()=>x(()=>import(`./ByvxprxI.js`),__vite__mapDeps([6,7,1,4,5,2,8]),import.meta.url)),Qe=m(()=>x(()=>import(`./CH8pva4p.js`),__vite__mapDeps([9,1,4,5,2,10]),import.meta.url)),$e=m(()=>x(()=>import(`./DdyLBgN8.js`),__vite__mapDeps([11,1,4,5,2,12,13]),import.meta.url)),et=m(()=>x(()=>import(`./DHC76net.js`),__vite__mapDeps([14,1,4,5,2,15,16,13]),import.meta.url)),nt=m(()=>x(()=>import(`./CBD7ngdF.js`),__vite__mapDeps([17,1]),import.meta.url)),St=m(()=>x(()=>import(`./BIodG7vT.js`),__vite__mapDeps([18,1,4,5,2]),import.meta.url)),{vue_ui_rings:Ct}=Ae(),{isThemeValid:wt,warnInvalidTheme:Tt}=Ie(),Et=ce(),w=Me,T=b(!1),Dt=f(()=>!!w.dataset&&w.dataset.length),E=b(pe()),D=b(!1),Ot=b(``),O=b(null),kt=b(0),k=b(null),At=b(null),jt=b(null),Mt=b(null),Nt=b(null),Pt=b(0),Ft=b(0),It=b(0),Lt=b(!1),Rt=b(!1),A=b(null),zt=b(null),j=b(!1),M=b(!1),N=b(qt()),P=f(()=>N.value.userOptions.useCursorPointer),Bt=f(()=>he({defaultConfig:{userOptions:{show:!1},table:{show:!1},style:{chart:{backgroundColor:`#99999930`,layout:{rings:{stroke:`#6A6A6A`,gradient:{underlayerColor:`#FFFFFF`}},labels:{dataLabels:{show:!1}}},legend:{backgroundColor:`transparent`}}}},userConfig:N.value.skeletonConfig??{}})),{loading:F,FINAL_DATASET:Vt,manualLoading:Ht}=Pe({...ie(w),FINAL_CONFIG:N,prepareConfig:qt,skeletonDataset:w.config?.skeletonDataset??[{name:`_`,values:[13],color:`#808080`},{name:`_`,values:[8],color:`#969696`},{name:`_`,values:[5],color:`#ADADAD`},{name:`_`,values:[3],color:`#C4C4C4`},{name:`_`,values:[2],color:`#DBDBDB`}],skeletonConfig:he({defaultConfig:N.value,userConfig:Bt.value})}),{userOptionsVisible:Ut,setUserOptionsVisibility:Wt,keepUserOptionState:Gt}=We({config:N.value}),{svgRef:Kt}=Ue({config:N.value.style.chart.title});function qt(){let e=ke({userConfig:w.config,defaultConfig:Ct}),t=e.theme;if(!t)return e;if(!wt.value(e))return Tt(e),e;let n=ke({userConfig:tt[t]||w.config,defaultConfig:e});return{...ke({userConfig:w.config,defaultConfig:n}),customPalette:e.customPalette.length?e.customPalette:be[e.theme]||C}}_(()=>w.config,e=>{F.value||(N.value=qt()),Ut.value=!N.value.userOptions.showOnChartHover,Xt(),Pt.value+=1,Ft.value+=1,It.value+=1,z.value.showTable=N.value.table.show,z.value.showTooltip=N.value.style.chart.tooltip.show,z.value.showLabels=N.value.style.chart.layout.labels.dataLabels.show,B.value.width=N.value.style.chart.size,B.value.height=N.value.style.chart.size},{deep:!0});let Jt=f(()=>{let{markers:e}=N.value.style.chart.layout.labels.dataLabels,t=q.value/2,n=z.value.showLabels?e.position===`left`?t:-t:0,r=z.value.showLabels?B.value.width/2-t:0,i=e.position===`left`?r:-r;return{x:N.value.responsive?i:n/N.value.style.chart.size*B.value.width,y:0/N.value.style.chart.size*B.value.height}}),I=f(()=>({x:B.value.width/2+Jt.value.x,y:B.value.height/2+Jt.value.y}));_(()=>w.dataset,e=>{Array.isArray(e)&&e.length>0&&(Ht.value=!1)},{deep:!0});let L=ne(null),R=ne(null);i(()=>{Rt.value=!0,Xt()});let Yt=f(()=>!!N.value.debug);function Xt(){if(ge(w.dataset)?(xe({componentName:`VueUiRings`,type:`dataset`,debug:Yt.value}),Ht.value=!0):w.dataset.forEach((e,t)=>{e.values.length||(xe({componentName:`VueUiRings`,type:`dataset`,debug:Yt.value}),Ht.value=!0),Se({datasetObject:e,requiredAttributes:[`name`,`values`]}).forEach(e=>{xe({componentName:`VueUiRings`,type:`datasetSerieAttribute`,property:e,index:t,debug:Yt.value})})}),ge(w.dataset)||(Ht.value=N.value.loading),N.value.responsive){let e=Ve(()=>{Lt.value=!0;let{width:e,height:t}=Be({chart:k.value,title:N.value.style.chart.title.text?At.value:null,legend:N.value.style.chart.legend.show?jt.value:null,source:Mt.value,noTitle:Nt.value});requestAnimationFrame(()=>{B.value.width=e,B.value.height=t-12,Lt.value=!1})});L.value&&(R.value&&L.value.unobserve(R.value),L.value.disconnect()),L.value=new ResizeObserver(e),R.value=k.value.parentNode,L.value.observe(R.value)}setTimeout(()=>{T.value=!0},600)}a(()=>{L.value&&(R.value&&L.value.unobserve(R.value),L.value.disconnect())});let{isPrinting:Zt,isImaging:Qt,generatePdf:$t,generateImage:en}=je({elementId:`rings_${E.value}`,fileName:N.value.style.chart.title.text||`vue-ui-rings`,options:N.value.userOptions.print}),tn=f(()=>N.value.userOptions.show&&!N.value.style.chart.title.text),nn=f(()=>Oe(N.value.customPalette)),z=b({showTable:N.value.table.show,showTooltip:N.value.style.chart.tooltip.show,showLabels:N.value.style.chart.layout.labels.dataLabels.show});_(N,()=>{z.value={showTable:N.value.table.show,showTooltip:N.value.style.chart.tooltip.show,showLabels:N.value.style.chart.layout.labels.dataLabels.show}},{immediate:!0});let B=b({height:N.value.style.chart.size,width:N.value.style.chart.size}),rn=f(()=>Math.min(B.value.height,B.value.width)),an=Je,V=b([]);function on(){V.value.length?V.value=[]:W.value.forEach(e=>{V.value.push(e.uid)})}function H(e){if(V.value.includes(e))V.value=V.value.filter(t=>t!==e);else{if(V.value.length===U.value.length-1)return;V.value.push(e)}an(`selectLegend`,K.value.map(e=>({name:e.name,color:e.color,value:e.value})))}function sn(e){return U.value.length?U.value.find(t=>t.name===e)||(N.value.debug&&console.warn(`VueUiRings - Series name not found "${e}"`),null):(N.value.debug&&console.warn(`VueUiRings - There are no series to show.`),null)}function cn(e){let t=sn(e);t!==null&&V.value.includes(t.uid)&&H(t.uid)}function ln(e){let t=sn(e);t!==null&&(V.value.includes(t.uid)||H(t.uid))}let un=f(()=>Math.max(...U.value.filter(e=>!V.value.includes(e.uid)).map(({value:e})=>e)));function dn(e){return e/un.value}let U=f(()=>Vt.value.map(({values:e,name:t,color:n=null},r)=>{let i=me(e).reduce((e,t)=>e+t,0);return{name:t,color:n||_e(n)||nn.value[r]||C[r]||C[r%C.length],value:i,proportion:i/Vt.value.map(e=>(e.values||[]).reduce((e,t)=>e+t,0)).reduce((e,t)=>e+t,0),uid:pe(),absoluteIndex:r}})),W=f(()=>U.value.map((e,t)=>{let n=De(N.value.style.chart.layout.labels.dataLabels.formatter,e.value,S({p:N.value.style.chart.layout.labels.dataLabels.prefix,v:e.value,s:N.value.style.chart.layout.labels.dataLabels.suffix,r:N.value.style.chart.legend.roundingValue}),{datapoint:e,index:t}),r=isNaN(e.value/G.value)?`-`:S({v:e.value/G.value*100,s:`%`,r:N.value.style.chart.legend.roundingPercentage}),i=gn({showVal:N.value.style.chart.legend.showValue,showPercentage:N.value.style.chart.legend.showPercentage,val:n,percentage:V.value.includes(e.uid)?`-%`:r});return{...e,shape:`circle`,opacity:V.value.includes(e.uid)?.5:1,segregate:()=>H(e.uid),isSegregated:V.value.includes(e.uid),display:`${e.name}${N.value.style.chart.legend.showPercentage||N.value.style.chart.legend.showValue?`: `:``}${i}`}}).toSorted((e,t)=>t.value-e.value)),fn=f(()=>({cy:`rings-div-legend`,backgroundColor:N.value.style.chart.legend.backgroundColor,color:N.value.style.chart.legend.color,fontSize:N.value.style.chart.legend.fontSize,paddingBottom:12,fontWeight:N.value.style.chart.legend.bold?`bold`:``})),G=f(()=>U.value.filter(e=>!V.value.includes(e.uid)).map(({value:e})=>e).reduce((e,t)=>e+t,0)),K=f(()=>U.value.filter(e=>!V.value.includes(e.uid)).map(({name:e,value:t,color:n=null,uid:r,absoluteIndex:i},a)=>({absoluteIndex:i,uid:r,name:e,color:n||_e(n)||nn.value[a]||C[a]||C[a%C.length],value:t,proportion:dn(t),percentage:t/G.value*100,strokeWidth:N.value.style.chart.layout.rings.strokeWidth*dn(t)})).toSorted((e,t)=>t.value-e.value));function pn(){return K.value.map(({name:e,color:t,value:n,absoluteValues:r,percentage:i})=>({name:e,color:t,value:n,absoluteValues:r,percentage:i}))}let q=f(()=>rn.value-N.value.style.chart.layout.rings.strokeWidth*2);function mn(e,t){N.value.events.datapointClick&&N.value.events.datapointClick({datapoint:e,seriesIndex:t})}function hn(e,t){O.value=null,D.value=!1,N.value.events.datapointLeave&&N.value.events.datapointLeave({datapoint:e,seriesIndex:t})}function gn({val:e,percentage:t,showVal:n,showPercentage:r}){let i=N.value.style.chart.layout.labels.dataLabels;return Ge({config:i,val:e,percentage:t,showVal:n,showPercentage:r})}function _n(e){let t=N.value.style.chart.layout.labels.dataLabels,n=De(t.formatter,e.value,S({p:t.prefix,v:e.value,s:t.suffix,r:t.roundingValue})),r=S({v:e.percentage,s:`%`,r:t.roundingPercentage});return`${e.name}
${gn({val:n,percentage:r,showVal:t.showValue,showPercentage:t.showPercentage})}`}function J(e){return Te(q.value*e.proportion/2*.9<=0?1e-4:q.value*e.proportion/2*.9)}function Y(e,t){return t===0?I.value.y:I.value.y+q.value*K.value[0].proportion/2-q.value*e.proportion/2-2*(t+1)}function X(e,t){let n=N.value.style.chart.layout.labels.dataLabels.markers.position===`left`?-(q.value/2):q.value/2;return{x:I.value.x+n,y:Y(e,t)-J(e)}}let vn=b(null);function yn(e,t){if(N.value.events.datapointEnter&&N.value.events.datapointEnter({datapoint:e,seriesIndex:t}),V.value.length===w.dataset.length)return;vn.value={datapoint:e,seriesIndex:t,series:K.value,config:N.value},O.value=t;let n=K.value[t],r=N.value.style.chart.tooltip.customFormat;if(ue(r)&&Ce(()=>r({seriesIndex:t,datapoint:e,series:K.value,config:N.value})))Ot.value=r({seriesIndex:t,datapoint:e,series:K.value,config:N.value});else{let r=``;r+=`<div style="width:100%;text-align:center;border-bottom:1px solid ${N.value.style.chart.tooltip.borderColor};padding-bottom:6px;margin-bottom:3px;">${n.name}</div>`,r+=`<div style="display:flex;flex-direction:row;gap:6px;align-items:center;"><svg viewBox="0 0 60 60" height="14" width="14"><circle cx="30" cy="30" r="30" stroke="none" fill="${n.color}" />${Et.pattern?`<circle cx="30" cy="30" r="30" stroke="none" fill="url(#pattern_${E.value}_${e.absoluteIndex})" />`:``}</svg>`,r+=`<b>${gn({showVal:N.value.style.chart.tooltip.showValue,showPercentage:N.value.style.chart.tooltip.showPercentage,val:`<span>${De(N.value.style.chart.layout.labels.dataLabels.formatter,n.value,S({p:N.value.style.chart.layout.labels.dataLabels.prefix,v:n.value,s:N.value.style.chart.layout.labels.dataLabels.suffix,r:N.value.style.chart.tooltip.roundingValue}),{datapoint:e,seriesIndex:t})}</span>`,percentage:S({v:n.value/G.value*100,s:`%`,r:N.value.style.chart.tooltip.roundingPercentage})})}</b></div>`,Ot.value=r}D.value=!0}let Z=f(()=>({head:K.value.map(e=>({name:e.name,color:e.color})),body:K.value.map(e=>e.value)})),bn=f(()=>({head:[` <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M18 16v2a1 1 0 0 1 -1 1h-11l6 -7l-6 -7h11a1 1 0 0 1 1 1v2" /></svg>`,S({p:N.value.style.chart.layout.labels.dataLabels.prefix,v:G.value,s:N.value.style.chart.layout.labels.dataLabels.suffix,r:N.value.table.td.roundingValue}),`100%`],body:Z.value.head.map((e,t)=>[{color:e.color,name:e.name},S({p:N.value.style.chart.layout.labels.dataLabels.prefix,v:Z.value.body[t],s:N.value.style.chart.layout.labels.dataLabels.suffix,r:N.value.table.td.roundingValue}),isNaN(Z.value.body[t]/G.value)?`-`:(Z.value.body[t]/G.value*100).toFixed(N.value.table.td.roundingPercentage)+`%`]),config:{th:{backgroundColor:N.value.table.th.backgroundColor,color:N.value.table.th.color,outline:N.value.table.th.outline},td:{backgroundColor:N.value.table.td.backgroundColor,color:N.value.table.td.color,outline:N.value.table.td.outline},breakpoint:N.value.table.responsiveBreakpoint},colNames:[N.value.table.columnNames.series,N.value.table.columnNames.value,N.value.table.columnNames.percentage]}));function xn(e=null){le(()=>{let t=Z.value.head.map((e,t)=>[[e.name],[Z.value.body[t]],[isNaN(Z.value.body[t]/G.value)?`-`:Z.value.body[t]/G.value*100]]),n=ve([[N.value.style.chart.title.text],[N.value.style.chart.title.subtitle.text],[[``],[`val`],[`%`]]].concat(t));e?e(n):fe({csvContent:n,title:N.value.style.chart.title.text||`vue-ui-rings`})})}let Q=b(!1);function Sn(e){Q.value=e,kt.value+=1}function Cn(){z.value.showTable=!z.value.showTable}function wn(){z.value.showTooltip=!z.value.showTooltip}function Tn(){z.value.showLabels=!z.value.showLabels}let En=b(!1);function Dn(){En.value=!En.value}async function On({scale:e=2}={}){if(!k.value)return;let{width:t,height:n}=k.value.getBoundingClientRect(),r=t/n,{imageUri:i,base64:a}=await Le({domElement:k.value,base64:!0,img:!0,scale:e});return{imageUri:i,base64:a,title:N.value.style.chart.title.text,width:t,height:n,aspectRatio:r}}let $=f(()=>{let e=N.value.table.useDialog&&!N.value.table.show,t=z.value.showTable;return{component:e?St:Ze,title:`${N.value.style.chart.title.text}${N.value.style.chart.title.subtitle.text?`: ${N.value.style.chart.title.subtitle.text}`:``}`,props:e?{backgroundColor:N.value.table.th.backgroundColor,color:N.value.table.th.color,headerColor:N.value.table.th.color,headerBg:N.value.table.th.backgroundColor,isFullscreen:Q.value,fullscreenParent:k.value,forcedWidth:Math.min(800,window.innerWidth*.8),isCursorPointer:P.value}:{hideDetails:!0,config:{open:t,maxHeight:1e4,body:{backgroundColor:N.value.style.chart.backgroundColor,color:N.value.style.chart.color},head:{backgroundColor:N.value.style.chart.backgroundColor,color:N.value.style.chart.color}}}}});_(()=>z.value.showTable,e=>{N.value.table.show||(e&&N.value.table.useDialog&&A.value?A.value.open():`close`in A.value&&A.value.close())});function kn(){z.value.showTable=!1,zt.value&&zt.value.setTableIconState(!1)}let An=f(()=>W.value.map(e=>({...e,name:e.display}))),jn=f(()=>N.value.style.chart.backgroundColor),Mn=f(()=>N.value.style.chart.legend),{exportSvg:Nn,getSvg:Pn}=Fe({svg:Kt,title:f(()=>N.value.style.chart.title),legend:Mn,legendItems:An,backgroundColor:jn});async function Fn({isCb:e}){M.value=!0,await le();try{if(e){let{blob:e,url:t,text:n,dataUrl:r}=await Pn();await Promise.resolve(N.value.userOptions.callbacks.svg({blob:e,url:t,text:n,dataUrl:r}))}else await Promise.resolve(Nn())}finally{M.value=!1}}function In(e){if(e?.stage===`start`){j.value=!0;return}if(e?.stage===`end`){j.value=!1;return}en()}async function Ln(){if(an(`copyAlt`,{config:N.value,dataset:K.value}),!N.value.userOptions.callbacks.altCopy){console.warn("Vue Data UI - A callback must be set for `altCopy` in userOptions.");return}await Promise.resolve(N.value.userOptions.callbacks.altCopy({config:N.value,dataset:K.value}))}return qe({getData:pn,getImage:On,generatePdf:$t,generateCsv:xn,generateImage:en,generateSvg:Fn,hideSeries:ln,showSeries:cn,toggleTable:Cn,toggleTooltip:wn,toggleAnnotator:Dn,toggleFullscreen:Sn,toggleLabels:Tn,copyAlt:Ln}),(i,a)=>(o(),v(`div`,{ref_key:`ringsChart`,ref:k,class:e(`vue-data-ui-component vue-ui-rings ${Q.value?`vue-data-ui-wrapper-fullscreen`:``} ${N.value.useCssAnimation?``:`vue-ui-dna`}`),style:c(`font-family:${N.value.style.fontFamily};text-align:center;width:100%;background:${N.value.style.chart.backgroundColor};${N.value.responsive?`height: 100%`:``}`),id:`rings_${E.value}`,onMouseleave:a[2]||=e=>{O.value=null,D.value=!1,r(Wt)(!1)},onMouseenter:a[3]||=()=>r(Wt)(!0)},[N.value.userOptions.buttons.annotator?(o(),d(r($e),{key:0,svgRef:r(Kt),backgroundColor:N.value.style.chart.backgroundColor,color:N.value.style.chart.color,active:En.value,isCursorPointer:P.value,onClose:Dn},{"annotator-action-close":h(()=>[u(i.$slots,`annotator-action-close`,{},void 0,!0)]),"annotator-action-color":h(({color:e})=>[u(i.$slots,`annotator-action-color`,p(s({color:e})),void 0,!0)]),"annotator-action-draw":h(({mode:e})=>[u(i.$slots,`annotator-action-draw`,p(s({mode:e})),void 0,!0)]),"annotator-action-undo":h(({disabled:e})=>[u(i.$slots,`annotator-action-undo`,p(s({disabled:e})),void 0,!0)]),"annotator-action-redo":h(({disabled:e})=>[u(i.$slots,`annotator-action-redo`,p(s({disabled:e})),void 0,!0)]),"annotator-action-delete":h(({disabled:e})=>[u(i.$slots,`annotator-action-delete`,p(s({disabled:e})),void 0,!0)]),_:3},8,[`svgRef`,`backgroundColor`,`color`,`active`,`isCursorPointer`])):t(``,!0),tn.value?(o(),v(`div`,{key:1,ref_key:`noTitle`,ref:Nt,class:`vue-data-ui-no-title-space`,style:`height:36px; width: 100%;background:transparent`},null,512)):t(``,!0),N.value.style.chart.title.text?(o(),v(`div`,{key:2,ref_key:`chartTitle`,ref:At,style:`width:100%;background:transparent`},[(o(),d(Re,{key:`title_${Pt.value}`,config:{title:{cy:`rings-div-title`,...N.value.style.chart.title},subtitle:{cy:`rings-div-subtitle`,...N.value.style.chart.title.subtitle}}},null,8,[`config`]))],512)):t(``,!0),y(`div`,{id:`legend-top-${E.value}`},null,8,it),N.value.userOptions.show&&Dt.value&&(r(Gt)||r(Ut))?(o(),d(r(et),{ref_key:`userOptionsRef`,ref:zt,key:`user_options_${kt.value}`,backgroundColor:N.value.style.chart.backgroundColor,color:N.value.style.chart.color,isPrinting:r(Zt),isImaging:r(Qt),uid:E.value,hasTooltip:N.value.userOptions.buttons.tooltip&&N.value.style.chart.tooltip.show,hasPdf:N.value.userOptions.buttons.pdf,hasXls:N.value.userOptions.buttons.csv,hasImg:N.value.userOptions.buttons.img,hasSvg:N.value.userOptions.buttons.svg,hasTable:N.value.userOptions.buttons.table,hasFullscreen:N.value.userOptions.buttons.fullscreen,hasAltCopy:N.value.userOptions.buttons.altCopy,hasLabel:N.value.userOptions.buttons.labels,isTooltip:z.value.showTooltip,isFullscreen:Q.value,titles:{...N.value.userOptions.buttonTitles},chartElement:k.value,position:N.value.userOptions.position,hasAnnotator:N.value.userOptions.buttons.annotator,isAnnotation:En.value,callbacks:N.value.userOptions.callbacks,printScale:N.value.userOptions.print.scale,tableDialog:N.value.table.useDialog,isCursorPointer:P.value,onToggleFullscreen:Sn,onGeneratePdf:r($t),onGenerateCsv:xn,onGenerateImage:In,onGenerateSvg:Fn,onToggleTable:Cn,onToggleTooltip:wn,onToggleAnnotator:Dn,onToggleLabels:Tn,onCopyAlt:Ln,style:c({visibility:r(Gt)?r(Ut)?`visible`:`hidden`:`visible`})},re({_:2},[i.$slots.menuIcon?{name:`menuIcon`,fn:h(({isOpen:e,color:t})=>[u(i.$slots,`menuIcon`,p(s({isOpen:e,color:t})),void 0,!0)]),key:`0`}:void 0,i.$slots.optionTooltip?{name:`optionTooltip`,fn:h(()=>[u(i.$slots,`optionTooltip`,{},void 0,!0)]),key:`1`}:void 0,i.$slots.optionPdf?{name:`optionPdf`,fn:h(()=>[u(i.$slots,`optionPdf`,{},void 0,!0)]),key:`2`}:void 0,i.$slots.optionCsv?{name:`optionCsv`,fn:h(()=>[u(i.$slots,`optionCsv`,{},void 0,!0)]),key:`3`}:void 0,i.$slots.optionImg?{name:`optionImg`,fn:h(()=>[u(i.$slots,`optionImg`,{},void 0,!0)]),key:`4`}:void 0,i.$slots.optionSvg?{name:`optionSvg`,fn:h(()=>[u(i.$slots,`optionSvg`,{},void 0,!0)]),key:`5`}:void 0,i.$slots.optionTable?{name:`optionTable`,fn:h(()=>[u(i.$slots,`optionTable`,{},void 0,!0)]),key:`6`}:void 0,i.$slots.optionLabels?{name:`optionLabels`,fn:h(()=>[u(i.$slots,`optionLabels`,{},void 0,!0)]),key:`7`}:void 0,i.$slots.optionFullscreen?{name:`optionFullscreen`,fn:h(({toggleFullscreen:e,isFullscreen:t})=>[u(i.$slots,`optionFullscreen`,p(s({toggleFullscreen:e,isFullscreen:t})),void 0,!0)]),key:`8`}:void 0,i.$slots.optionAnnotator?{name:`optionAnnotator`,fn:h(({toggleAnnotator:e,isAnnotator:t})=>[u(i.$slots,`optionAnnotator`,p(s({toggleAnnotator:e,isAnnotator:t})),void 0,!0)]),key:`9`}:void 0,i.$slots.optionAltCopy?{name:`optionAltCopy`,fn:h(({altCopy:e})=>[u(i.$slots,`optionAltCopy`,p(s({altCopy:e})),void 0,!0)]),key:`10`}:void 0]),1032,`backgroundColor.color.isPrinting.isImaging.uid.hasTooltip.hasPdf.hasXls.hasImg.hasSvg.hasTable.hasFullscreen.hasAltCopy.hasLabel.isTooltip.isFullscreen.titles.chartElement.position.hasAnnotator.isAnnotation.callbacks.printScale.tableDialog.isCursorPointer.onGeneratePdf.style`.split(`.`))):t(``,!0),(o(),v(`svg`,{ref_key:`svgRef`,ref:Kt,xmlns:r(ye),class:e({"vue-data-ui-fullscreen--on":Q.value,"vue-data-ui-fulscreen--off":!Q.value,resizing:Lt.value||r(F)}),viewBox:`0 0 ${B.value.width<=0?10:B.value.width} ${B.value.height<=0?10:B.value.height}`,style:c(`max-width:100%;overflow:hidden;background:transparent;color:${N.value.style.chart.color}`)},[l(r(nt)),i.$slots[`chart-background`]?(o(),v(`foreignObject`,{key:0,x:0,y:0,width:B.value.width<=0?10:B.value.width,height:B.value.height<=0?10:B.value.height,style:{pointerEvents:`none`}},[u(i.$slots,`chart-background`,{},void 0,!0)],8,ot)):t(``,!0),y(`defs`,null,[(o(!0),v(g,null,ae(K.value,(e,t)=>(o(),v(`radialGradient`,{cx:`50%`,cy:`30%`,r:`50%`,fx:`50%`,fy:`50%`,id:`gradient_${E.value}_${t}`},[y(`stop`,{offset:`0%`,"stop-color":r(Ee)(r(we)(e.color,.05),100-N.value.style.chart.layout.rings.gradient.intensity)},null,8,ct),y(`stop`,{offset:`100%`,"stop-color":e.color},null,8,lt)],8,st))),256))]),i.$slots.pattern?(o(),v(`g`,ut,[(o(!0),v(g,null,ae(K.value,e=>(o(),v(`defs`,null,[u(i.$slots,`pattern`,te({ref_for:!0},{seriesIndex:e.absoluteIndex,patternId:`pattern_${E.value}_${e.absoluteIndex}`}),void 0,!0)]))),256))])):t(``,!0),(o(!0),v(g,null,ae(K.value,(n,a)=>(o(),v(`g`,null,[y(`circle`,{class:e({"vue-ui-rings-item":T.value&&N.value.useCssAnimation,"vue-rings-item-onload":!T.value&&N.value.useCssAnimation&&!r(F),"vue-ui-rings-opacity":O.value!==null&&O.value!==a}),style:c(`animation-delay:${a*100}ms`),stroke:N.value.style.chart.layout.rings.stroke,cx:I.value.x,cy:Y(n,a),r:J(n),fill:N.value.style.chart.layout.rings.gradient.underlayerColor},null,14,dt),y(`circle`,{class:e({"vue-ui-rings-item":T.value&&N.value.useCssAnimation,"vue-rings-item-onload":!T.value&&N.value.useCssAnimation&&!r(F),"vue-ui-rings-shadow":N.value.style.chart.layout.rings.useShadow,"vue-ui-rings-blur":O.value!==null&&O.value!==a}),style:c(`animation-delay:${a*100}ms`),stroke:N.value.style.chart.layout.rings.stroke,"stroke-width":n.strokeWidth<.5?.5:n.strokeWidth,cx:I.value.x,cy:Y(n,a),r:J(n),fill:N.value.style.chart.layout.rings.gradient.show?`url(#gradient_${E.value}_${a})`:n.color},null,14,ft),i.$slots.pattern?(o(),v(`circle`,{key:0,class:e({"vue-ui-rings-item":T.value&&N.value.useCssAnimation,"vue-rings-item-onload":!T.value&&N.value.useCssAnimation&&!r(F),"vue-ui-rings-shadow":N.value.style.chart.layout.rings.useShadow,"vue-ui-rings-blur":O.value!==null&&O.value!==a}),style:c(`animation-delay:${a*100}ms`),stroke:N.value.style.chart.layout.rings.stroke,"stroke-width":n.strokeWidth<.5?.5:n.strokeWidth,cx:I.value.x,cy:Y(n,a),r:J(n),fill:`url(#pattern_${E.value}_${n.absoluteIndex})`},null,14,pt)):t(``,!0),y(`circle`,{stroke:`none`,cx:I.value.x,cy:Y(n,a),r:J(n),fill:`transparent`,onMouseenter:e=>yn(n,a),onMouseleave:e=>hn(n,a),onClick:e=>mn(n,a)},null,40,mt),z.value.showLabels?(o(),v(g,{key:1},[y(`rect`,{x:N.value.style.chart.layout.labels.dataLabels.markers.position===`left`?X(n,a).x:I.value.x,y:X(n,a).y-N.value.style.chart.layout.labels.dataLabels.markers.strokeWidth/2,width:Math.abs(I.value.x-X(n,a).x),height:N.value.style.chart.layout.labels.dataLabels.markers.strokeWidth,fill:N.value.style.chart.layout.labels.dataLabels.markers.stroke,rx:N.value.style.chart.layout.labels.dataLabels.markers.strokeWidth,class:e({"vue-ui-rings-item":T.value&&N.value.useCssAnimation,"vue-rings-item-onload":!T.value&&N.value.useCssAnimation&&!r(F),"vue-ui-rings-shadow":N.value.style.chart.layout.rings.useShadow,"vue-ui-rings-blur":O.value!==null&&O.value!==a})},null,10,ht),y(`circle`,{cx:X(n,a).x,cy:X(n,a).y,r:N.value.style.chart.layout.labels.dataLabels.markers.radius,fill:n.color,stroke:N.value.style.chart.backgroundColor,class:e({"vue-ui-rings-item":T.value&&N.value.useCssAnimation,"vue-rings-item-onload":!T.value&&N.value.useCssAnimation&&!r(F),"vue-ui-rings-shadow":N.value.style.chart.layout.rings.useShadow,"vue-ui-rings-blur":O.value!==null&&O.value!==a})},null,10,gt),y(`text`,{x:X(n,a).x+(N.value.style.chart.layout.labels.dataLabels.markers.position===`left`?-N.value.style.chart.layout.labels.dataLabels.offsetX:N.value.style.chart.layout.labels.dataLabels.offsetX),y:X(n,a).y+N.value.style.chart.layout.labels.dataLabels.fontSize/3,"text-anchor":N.value.style.chart.layout.labels.dataLabels.markers.position===`left`?`end`:`start`,"font-size":N.value.style.chart.layout.labels.dataLabels.fontSize,fill:N.value.style.chart.layout.labels.dataLabels.color,"font-weight":N.value.style.chart.layout.labels.dataLabels.bold?`bold`:`normal`,class:e({"vue-ui-rings-item":T.value&&N.value.useCssAnimation,"vue-rings-item-onload":!T.value&&N.value.useCssAnimation&&!r(F),"vue-ui-rings-shadow":N.value.style.chart.layout.rings.useShadow,"vue-ui-rings-blur":O.value!==null&&O.value!==a}),onMouseenter:e=>yn(n,a),onMouseleave:e=>hn(n,a),onClick:e=>mn(n,a),innerHTML:r(de)({content:_n(n),fontSize:N.value.style.chart.layout.labels.dataLabels.fontSize,fill:N.value.style.chart.layout.labels.dataLabels.color,x:X(n,a).x+(N.value.style.chart.layout.labels.dataLabels.markers.position===`left`?-N.value.style.chart.layout.labels.dataLabels.offsetX-6-N.value.style.chart.layout.labels.dataLabels.markers.radius:N.value.style.chart.layout.labels.dataLabels.offsetX+6+N.value.style.chart.layout.labels.dataLabels.markers.radius),y:X(n,a).y+N.value.style.chart.layout.labels.dataLabels.fontSize/3,translateY:!0})},null,42,_t)],64)):t(``,!0)]))),256)),u(i.$slots,`svg`,{svg:{...B.value,isPrintingImg:r(Zt)|r(Qt)|j.value,isPrintingSvg:M.value}},void 0,!0)],14,at)),i.$slots.watermark?(o(),v(`div`,vt,[u(i.$slots,`watermark`,p(s({isPrinting:r(Zt)||r(Qt)||j.value||M.value})),void 0,!0)])):t(``,!0),y(`div`,{id:`legend-bottom-${E.value}`},null,8,yt),Rt.value?(o(),d(oe,{key:5,to:N.value.style.chart.legend.position===`top`?`#legend-top-${E.value}`:`#legend-bottom-${E.value}`},[y(`div`,{ref_key:`chartLegend`,ref:jt},[N.value.style.chart.legend.show?(o(),d(Ke,{key:`legend_${It.value}`,legendSet:W.value,config:fn.value,isCursorPointer:P.value,onClickMarker:a[0]||=({legend:e})=>H(e.uid)},re({item:h(({legend:e,index:n})=>[r(F)?t(``,!0):(o(),v(`div`,{key:0,onClick:t=>H(e.uid),style:c(`opacity:${V.value.includes(e.uid)?.5:1}`)},ee(e.display),13,bt))]),legendToggle:h(()=>[W.value.length>2&&N.value.style.chart.legend.selectAllToggle.show&&!r(F)?(o(),d(He,{key:0,backgroundColor:N.value.style.chart.legend.selectAllToggle.backgroundColor,color:N.value.style.chart.legend.selectAllToggle.color,fontSize:N.value.style.chart.legend.fontSize,checked:V.value.length>0,isCursorPointer:P.value,onToggle:on},null,8,[`backgroundColor`,`color`,`fontSize`,`checked`,`isCursorPointer`])):t(``,!0)]),_:2},[i.$slots.pattern?{name:`legend-pattern`,fn:h(({legend:e,index:t})=>[l(ze,{shape:e.shape,radius:30,stroke:`none`,plot:{x:30,y:30},fill:`url(#pattern_${E.value}_${t})`},null,8,[`shape`,`fill`])]),key:`0`}:void 0]),1032,[`legendSet`,`config`,`isCursorPointer`])):u(i.$slots,`legend`,{key:1,legend:W.value},void 0,!0)],512)],8,[`to`])):t(``,!0),i.$slots.source?(o(),v(`div`,{key:6,ref_key:`source`,ref:Mt,dir:`auto`},[u(i.$slots,`source`,{},void 0,!0)],512)):t(``,!0),l(r(Ye),{teleportTo:N.value.style.chart.tooltip.teleportTo,show:z.value.showTooltip&&D.value&&V.value.length<w.dataset.length,backgroundColor:N.value.style.chart.tooltip.backgroundColor,color:N.value.style.chart.tooltip.color,borderRadius:N.value.style.chart.tooltip.borderRadius,borderColor:N.value.style.chart.tooltip.borderColor,borderWidth:N.value.style.chart.tooltip.borderWidth,fontSize:N.value.style.chart.tooltip.fontSize,backgroundOpacity:N.value.style.chart.tooltip.backgroundOpacity,position:N.value.style.chart.tooltip.position,offsetY:N.value.style.chart.tooltip.offsetY,parent:k.value,content:Ot.value,isFullscreen:Q.value,isCustom:N.value.style.chart.tooltip.customFormat&&typeof N.value.style.chart.tooltip.customFormat==`function`,smooth:N.value.style.chart.tooltip.smooth,backdropFilter:N.value.style.chart.tooltip.backdropFilter,smoothForce:N.value.style.chart.tooltip.smoothForce,smoothSnapThreshold:N.value.style.chart.tooltip.smoothSnapThreshold},{"tooltip-before":h(()=>[u(i.$slots,`tooltip-before`,p(s({...vn.value})),void 0,!0)]),"tooltip-after":h(()=>[u(i.$slots,`tooltip-after`,p(s({...vn.value})),void 0,!0)]),_:3},8,[`teleportTo`,`show`,`backgroundColor`,`color`,`borderRadius`,`borderColor`,`borderWidth`,`fontSize`,`backgroundOpacity`,`position`,`offsetY`,`parent`,`content`,`isFullscreen`,`isCustom`,`smooth`,`backdropFilter`,`smoothForce`,`smoothSnapThreshold`]),Dt.value&&N.value.userOptions.buttons.table?(o(),d(se($.value.component),te({key:7},$.value.props,{ref_key:`tableUnit`,ref:A,onClose:kn}),re({content:h(()=>[(o(),d(r(Qe),{key:`table_${Ft.value}`,colNames:bn.value.colNames,head:bn.value.head,body:bn.value.body,config:bn.value.config,title:N.value.table.useDialog?``:$.value.title,withCloseButton:!N.value.table.useDialog,isCursorPointer:P.value,onClose:kn},{th:h(({th:e})=>[y(`div`,{innerHTML:e,style:{display:`flex`,"align-items":`center`}},null,8,xt)]),td:h(({td:e})=>[n(ee(e.name||e),1)]),_:1},8,[`colNames`,`head`,`body`,`config`,`title`,`withCloseButton`,`isCursorPointer`]))]),_:2},[N.value.table.useDialog?{name:`title`,fn:h(()=>[n(ee($.value.title),1)]),key:`0`}:void 0,N.value.table.useDialog?{name:`actions`,fn:h(()=>[y(`button`,{tabindex:`0`,class:`vue-ui-user-options-button`,onClick:a[1]||=e=>xn(N.value.userOptions.callbacks.csv),style:c({cursor:P.value?`pointer`:`default`})},[l(r(Xe),{name:`fileCsv`,stroke:$.value.props.color},null,8,[`stroke`])],4)]),key:`1`}:void 0]),1040)):t(``,!0),u(i.$slots,`skeleton`,{},()=>[r(F)?(o(),d(Ne,{key:0})):t(``,!0)],!0)],46,rt))}},[[`__scopeId`,`data-v-3b6f84e5`]]),Ct=Object.freeze(Object.defineProperty({__proto__:null,default:St},Symbol.toStringTag,{value:`Module`}));export{nt as a,Ct as b};