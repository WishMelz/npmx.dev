const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./CbFHGlY2.js","./BLt7TXlb.js","./Cf-0F-2c.js","./B9jcbJ_P.js","./xh7dz5-d.js","./CWNsAIol.js","./ByvxprxI.js","./CRSLCJ2m.js","./8DvoFuCx.js","./CH8pva4p.js","./C0O4I1kb.js","./DdyLBgN8.js","./C66xQW7K.js","./DuIAB7Tu.js","./DHC76net.js","./BDmUravP.js","./D7-tWLRc.js","./CBD7ngdF.js","./BIodG7vT.js"])))=>i.map(i=>d[i]);
import{At as e,C as t,D as n,Dt as r,G as i,H as a,J as o,M as s,Mt as c,Nt as l,O as ee,Q as u,R as te,S as d,St as ne,T as re,Tt as ie,Z as f,b as p,et as ae,jt as m,k as h,lt as g,m as _,ot as v,st as oe,w as y,x as b,yt as x,z as se}from"./BLt7TXlb.js";import{t as S}from"./YZkb6lnT.js";import{F as ce,Mt as C,N as le,Nt as ue,P as de,V as fe,a as pe,bt as me,h as he,pt as ge,rt as _e,u as w,vt as ve,wt as T}from"./Cf-0F-2c.js";import{n as ye,t as be}from"./8DvoFuCx.js";import{t as xe}from"./Cme7ewGR.js";import{t as E}from"./CWNsAIol.js";import{n as Se,t as Ce}from"./D4ushAer.js";import{t as we}from"./CLl0-3D6.js";import{t as Te}from"./BwaPX4qL.js";import{t as Ee}from"./oZ4LAWkj.js";import{t as De}from"./BDmUravP.js";import{t as Oe}from"./BIZzPpPz.js";import{a as ke,n as Ae}from"./D4v1zV2y.js";import{t as je}from"./BEpjx3T_.js";import{t as Me}from"./DMqKe8aR.js";var D={userOptions:{show:!1},style:{layout:{bars:{gradient:{show:!1}}}}},O={userOptions:{show:!1},style:{backgroundColor:`#1A1A1A`,color:`#CCCCCC`,layout:{bars:{gradient:{show:!1}},grid:{stroke:`#5A5A5A`},dataLabels:{sideTitles:{color:`#CCCCCC`},xAxis:{color:`#CCCCCC`},yAxis:{color:`#CCCCCC`}}},highlighter:{color:`#CCCCCC`},title:{color:`#CCCCCC`,subtitle:{color:`#757575`}},tooltip:{backgroundColor:`#1A1A1A`,backgroundOpacity:70,color:`#CCCCCC`,borderColor:`#3A3A3A`}},table:{th:{backgroundColor:`#1A1A1A`,color:`#CCCCCC`},td:{backgroundColor:`#1A1A1A`,color:`#CCCCCC`}}},Ne={style:{backgroundColor:`#1A1A1A`,color:`#CCCCCC`,layout:{grid:{stroke:`#5A5A5A`},dataLabels:{sideTitles:{color:`#CCCCCC`},xAxis:{color:`#CCCCCC`},yAxis:{color:`#CCCCCC`}}},highlighter:{color:`#CCCCCC`},title:{color:`#CCCCCC`,subtitle:{color:`#757575`}},tooltip:{backgroundColor:`#1A1A1A`,backgroundOpacity:70,color:`#CCCCCC`,borderColor:`#5A5A5A`}},table:{th:{backgroundColor:`#1A1A1A`,color:`#CCCCCC`},td:{backgroundColor:`#1A1A1A`,color:`#CCCCCC`}}},Pe={style:{backgroundColor:`#FFF8E1`,color:`#424242`,layout:{grid:{stroke:`#5D4037`},dataLabels:{sideTitles:{color:`#424242`},xAxis:{color:`#424242`},yAxis:{color:`#424242`}},bars:{borderRadius:0,gap:1,left:{color:`#F57C00`},right:{color:`#D32F2F`},gradient:{show:!1}}},highlighter:{color:`#424242`},title:{color:`#424242`,subtitle:{color:`#757575`}},tooltip:{backgroundColor:`#FFECB3`,backgroundOpacity:30,color:`#424242`,borderColor:`#FF8A65`}},table:{th:{backgroundColor:`#FFF8E1`,color:`#424242`},td:{backgroundColor:`#FFF8E1`,color:`#424242`}}},Fe={style:{backgroundColor:`#1E1E1E`,color:`#BDBDBD`,layout:{grid:{stroke:`#5D4037`},dataLabels:{sideTitles:{color:`#BDBDBD`},xAxis:{color:`#BDBDBD`},yAxis:{color:`#BDBDBD`}},bars:{borderRadius:0,gap:1,left:{color:`#F57C00`},right:{color:`#D32F2F`},gradient:{show:!1}}},highlighter:{color:`#FFF8E1`},title:{color:`#FFF8E1`,subtitle:{color:`#BDBDBD`}},tooltip:{backgroundColor:`#1E1E1E`,backgroundOpacity:30,color:`#FFF8E1`,borderColor:`#FF8A65`}},table:{th:{backgroundColor:`#1E1E1E`,color:`#BDBDBD`},td:{backgroundColor:`#1E1E1E`,color:`#BDBDBD`}}},Ie={style:{backgroundColor:`#1A1A1A`,color:`#99AA99`,layout:{grid:{stroke:`#5F6A5F`},dataLabels:{sideTitles:{color:`#AACCAA`},xAxis:{color:`#5F6A5F`},yAxis:{color:`#5F6A5F`}},bars:{borderRadius:0,gap:1,left:{color:`#668066`},right:{color:`#66CC66`},gradient:{show:!1}}},highlighter:{color:`#66CC66`},title:{color:`#66CC66`,subtitle:{color:`#99AA99`}},tooltip:{backgroundColor:`#2A2F2A`,color:`#AACCAA`,borderColor:`#66CC66`}},table:{th:{backgroundColor:`#1A1A1A`,color:`#99AA99`},td:{backgroundColor:`#1A1A1A`,color:`#AACCAA`}}},Le={style:{backgroundColor:`#fbfafa`,color:`#8A9892`,layout:{grid:{stroke:`#5F6A5F`},dataLabels:{sideTitles:{color:`#8A9892`},xAxis:{show:!1},yAxis:{show:!1}},bars:{borderRadius:6,gap:1,left:{color:`#DCB482`},right:{color:`#B9B99D`},gradient:{show:!0}}},highlighter:{color:`#8F837A`},title:{color:`#8A9892`,subtitle:{color:`#99AA99`}},tooltip:{backgroundColor:`#fbfafa`,color:`#8A9892`}},table:{th:{backgroundColor:`#fbfafa`,color:`#8F837A`},td:{backgroundColor:`#fbfafa`,color:`#8F837A`}}},Re={style:{backgroundColor:`#f6f6fb`,color:`#50606C`,layout:{grid:{stroke:`#5F6A5F`},dataLabels:{sideTitles:{color:`#61747E`},xAxis:{color:`#61747E`},yAxis:{color:`#61747E`}},bars:{borderRadius:0,gap:1,left:{color:`#A1B5A3`},right:{color:`#7DA9B5`},gradient:{show:!0,intensity:10}}},highlighter:{color:`#7DA9B5`},title:{color:`#50606C`,subtitle:{color:`#718890`}},tooltip:{backgroundColor:`#f6f6fb`,color:`#50606C`}},table:{th:{backgroundColor:`#f6f6fb`,color:`#50606C`},td:{backgroundColor:`#f6f6fb`,color:`#50606C`}}},ze={default:{},minimal:D,minimalDark:O,dark:Ne,celebration:Pe,celebrationNight:Fe,hack:Ie,zen:Le,concrete:Re},Be=Object.freeze(Object.defineProperty({__proto__:null,celebration:Pe,celebrationNight:Fe,concrete:Re,dark:Ne,default:ze,hack:Ie,minimal:D,minimalDark:O,zen:Le},Symbol.toStringTag,{value:`Module`})),Ve=[`id`],He=[`xmlns`,`viewBox`],Ue=[`x`,`y`,`width`,`height`],We=[`id`],Ge=[`stop-color`],Ke=[`stop-color`],qe=[`id`],Je=[`stop-color`],Ye=[`stop-color`],Xe=[`x`,`y`,`width`,`height`,`fill`,`rx`],Ze=[`x`,`y`,`width`,`height`,`fill`,`rx`],Qe=[`x`,`y`,`width`,`height`,`fill`,`rx`],$e=[`x`,`y`,`width`,`height`,`fill`,`rx`],et={key:0},tt=[`x`,`y`,`fill`,`font-size`,`font-weight`],nt=[`x`,`y`,`fill`,`font-size`,`font-weight`],rt={key:1},it=[`x`,`y`,`font-size`,`fill`,`font-weight`],at={key:2},ot={key:0},st=[`x1`,`x2`,`y1`,`y2`,`stroke`,`stroke-width`],ct=[`x1`,`x2`,`y1`,`y2`,`stroke`,`stroke-width`],lt=[`x1`,`x2`,`y1`,`y2`,`stroke`,`stroke-width`],ut=[`x1`,`x2`,`y1`,`y2`,`stroke`,`stroke-width`],dt=[`font-size`,`fill`,`text-anchor`,`font-weight`,`transform`],ft=[`font-size`,`fill`,`text-anchor`,`font-weight`,`transform`],pt=[`x`,`y`,`font-size`,`fill`,`font-weight`],mt=[`x`,`y`,`width`,`height`,`fill`,`onMouseover`,`onMouseleave`,`onClick`],ht={key:4,class:`vue-data-ui-watermark`},gt=E({__name:`vue-ui-age-pyramid`,props:{config:{type:Object,default(){return{}}},dataset:{type:Array,default(){return[]}}},emits:[`copyAlt`],setup(E,{expose:D,emit:O}){let Ne=h(()=>S(()=>import(`./CbFHGlY2.js`),__vite__mapDeps([0,1,2]),import.meta.url)),Pe=h(()=>S(()=>import(`./B9jcbJ_P.js`),__vite__mapDeps([3,4,1,5,2]),import.meta.url)),Fe=h(()=>S(()=>import(`./ByvxprxI.js`),__vite__mapDeps([6,7,1,4,5,2,8]),import.meta.url)),Ie=h(()=>S(()=>import(`./CH8pva4p.js`),__vite__mapDeps([9,1,4,5,2,10]),import.meta.url)),Le=h(()=>S(()=>import(`./DdyLBgN8.js`),__vite__mapDeps([11,1,4,5,2,12,13]),import.meta.url)),Re=h(()=>S(()=>import(`./DHC76net.js`),__vite__mapDeps([14,1,4,5,2,15,16,13]),import.meta.url)),Be=h(()=>S(()=>import(`./CBD7ngdF.js`),__vite__mapDeps([17,1]),import.meta.url)),gt=h(()=>S(()=>import(`./BIodG7vT.js`),__vite__mapDeps([18,1,4,5,2]),import.meta.url)),{vue_ui_age_pyramid:_t}=be(),{isThemeValid:vt,warnInvalidTheme:yt}=Te(),k=E,bt=O,xt=p(()=>!!k.dataset&&k.dataset.length),A=x(ue()),St=x(!1),Ct=x(``),j=x(null),wt=x(0),M=x(null),Tt=x(null),Et=x(null),Dt=x(null),Ot=x(0),kt=x(0),At=x(null),N=x(null),jt=x(null),P=x(!1),F=x(!1),I=x(zt()),L=p(()=>I.value.userOptions.useCursorPointer),Mt=p(()=>de({defaultConfig:{userOptions:{show:!1},table:{show:!1},translations:{male:``,female:``},style:{backgroundColor:`#99999930`,layout:{bars:{left:{color:`#CACACA`},right:{color:`#999999`}},dataLabels:{xAxis:{fontSize:0,scale:1e3,translation:``},yAxis:{show:!1}},grid:{stroke:`#6A6A6A`}}}},userConfig:I.value.skeletonConfig??{}})),{loading:Nt,FINAL_DATASET:R,manualLoading:Pt}=Ce({...ie(k),FINAL_CONFIG:I,prepareConfig:zt,skeletonDataset:k.config?.skeletonDataset??[[`_`,9,2,2],[`_`,8,3,3],[`_`,7,5,5],[`_`,6,8,8],[`_`,5,13,13],[`_`,4,21,21],[`_`,3,34,34],[`_`,2,55,55],[`_`,1,89,89],[`_`,0,144,144]],skeletonConfig:de({defaultConfig:I.value,userConfig:Mt.value})}),{userOptionsVisible:Ft,setUserOptionsVisibility:It,keepUserOptionState:Lt}=Me({config:I.value}),{svgRef:Rt}=je({config:I.value.style.title});function zt(){let e=ye({userConfig:k.config,defaultConfig:_t}),t=e.theme;if(!t)return e;if(!vt.value(e))return yt(e),e;let n=ye({userConfig:ze[t]||k.config,defaultConfig:e});return ye({userConfig:k.config,defaultConfig:n})}v(()=>k.config,e=>{Nt.value||(I.value=zt()),Ft.value=!I.value.userOptions.showOnChartHover,Vt(),Ot.value+=1,kt.value+=1,V.value.showTable=I.value.table.show,V.value.showTooltip=I.value.style.tooltip.show},{deep:!0}),v(()=>k.dataset,e=>{Array.isArray(e)&&e.length>0&&(Pt.value=!1)},{deep:!0});let z=ne(null),B=ne(null);i(()=>{Vt()});let Bt=p(()=>!!I.value.debug);function Vt(){if(fe(k.dataset)&&(he({componentName:`VueUiAgePyramid`,type:`dataset`,debug:Bt.value}),Pt.value=!0),fe(k.dataset)||(Pt.value=I.value.loading),I.value.responsive){let e=Ae(()=>{let{width:e,height:t}=ke({chart:M.value,title:I.value.style.title.text?Tt.value:null,source:Et.value,noTitle:Dt.value});requestAnimationFrame(()=>{H.value.width=e,H.value.height=t})});z.value&&(B.value&&z.value.unobserve(B.value),z.value.disconnect()),z.value=new ResizeObserver(e),B.value=M.value.parentNode,z.value.observe(B.value)}}a(()=>{z.value&&(B.value&&z.value.unobserve(B.value),z.value.disconnect())});let{isPrinting:Ht,isImaging:Ut,generatePdf:Wt,generateImage:Gt}=xe({elementId:`vue-ui-age-pyramid_${A.value}`,fileName:I.value.style.title.text||`vue-ui-age-pyramid`,options:I.value.userOptions.print}),Kt=p(()=>I.value.userOptions.show&&!I.value.style.title.text),V=x({showTable:I.value.table.show,showTooltip:I.value.style.tooltip.show});v(I,()=>{V.value={showTable:I.value.table.show,showTooltip:I.value.style.tooltip.show}},{immediate:!0});let H=x({height:I.value.style.height,width:I.value.style.width}),qt=p(()=>H.value.width),Jt=p(()=>H.value.height),U=x(0),Yt=Ae(e=>{U.value=e},100);oe(e=>{let t=At.value;if(!t)return;let n=new ResizeObserver(e=>{Yt(e[0].contentRect.height)});n.observe(t),e(()=>n.disconnect())}),a(()=>{U.value=0});let W=p(()=>{let e=H.value.width-I.value.style.layout.padding.right-I.value.style.layout.padding.left,t=I.value.style.layout.padding.left,n=H.value.width-I.value.style.layout.padding.right;return{top:I.value.style.layout.padding.top+I.value.style.layout.dataLabels.sideTitles.fontSize+I.value.style.layout.dataLabels.sideTitles.offsetY+12,left:t,right:n,bottom:H.value.height-I.value.style.layout.padding.bottom-U.value,width:e,height:H.value.height-I.value.style.layout.padding.top-I.value.style.layout.padding.bottom-U.value-I.value.style.layout.dataLabels.sideTitles.fontSize-I.value.style.layout.dataLabels.sideTitles.offsetY-12,centerX:I.value.style.layout.padding.left+e/2,leftChart:{width:e/2-I.value.style.layout.centerSlit.width,right:t+e/2-I.value.style.layout.centerSlit.width},rightChart:{width:e/2-I.value.style.layout.centerSlit.width,left:t+e/2+I.value.style.layout.centerSlit.width}}}),Xt=p(()=>R.value.map(e=>I.value.style.layout.dataLabels.yAxis.display===`age`?e[1]:e[0])),G=p(()=>{let e=Zt(K.value/5),t=[],n=[];for(let r=0;r<=5;r+=1){let i=e*r,a=e*(r-5);t.push({value:i,x:W.value.left+W.value.width/2+I.value.style.layout.centerSlit.width+i/K.value*W.value.leftChart.width}),n.push({value:Math.abs(a),x:W.value.left+W.value.width/2+a/K.value*W.value.leftChart.width-I.value.style.layout.centerSlit.width})}return{right:t,left:n}});function Zt(e){if(e===0)return 0;let t=10**Math.floor(Math.log10(Math.abs(e))),n;return n=Math.round(e/t)*t,n}let K=p(()=>Math.max(...R.value.flatMap(e=>e.slice(-2).map(e=>w(e))))),q=p(()=>R.value.length),Qt=p(()=>R.value.map(e=>({segment:e[0],age:e[1],left:{value:e[2],proportionToMax:e[2]/K.value},right:{value:e[3],proportionToMax:e[3]/K.value}}))),J=p(()=>Qt.value.map((e,t)=>{let n=W.value.top+W.value.height/q.value*t,r=W.value.height/q.value-I.value.style.layout.bars.gap;return{segment:e.segment,age:e.age,left:{...e.left,y:n,color:I.value.style.layout.bars.left.color,x:W.value.leftChart.right-e.left.proportionToMax*W.value.leftChart.width,width:w(e.left.proportionToMax*W.value.leftChart.width),height:r},right:{...e.right,y:n,color:I.value.style.layout.bars.right.color,x:W.value.rightChart.left,width:w(e.right.proportionToMax*W.value.rightChart.width),height:r}}})),$t=x(null);function en(e){let[t,n,r,i]=e;return{segment:t,index:n,left:r,right:i}}function tn(e,t){I.value.events.datapointClick&&I.value.events.datapointClick({datapoint:en(t),seriesIndex:e})}function nn(e,t){I.value.events.datapointLeave&&I.value.events.datapointLeave({datapoint:en(t),seriesIndex:e}),j.value=null,St.value=!1}function rn(e,t){I.value.events.datapointEnter&&I.value.events.datapointEnter({datapoint:en(t),seriesIndex:e}),j.value=e,$t.value={datapoint:t,seriesIndex:e,series:J.value,config:I.value};let n=I.value.style.tooltip.customFormat;if(ce(n)&&ge(()=>n({seriesIndex:e,datapoint:{segment:t[0],index:t[1],left:t[2],right:t[3]},series:J.value,config:I.value})))Ct.value=n({seriesIndex:e,datapoint:{segment:t[0],index:t[1],left:t[2],right:t[3]},series:J.value,config:I.value});else{let n=``,r=J.value[e];n+=`<div><b>${r.segment}</b></div>`,n+=`<div>${I.value.translations.age}: ${T(I.value.style.layout.dataLabels.yAxis.formatter,w(r.age),C({v:w(r.age)}),{datapoint:t,seriesIndex:e})}</div>`,n+=`<div style="margin-top:6px;padding-top:6px;border-top:1px solid ${I.value.style.tooltip.borderColor}">`,n+=`<div style="display:flex; flex-direction:row;gap:12px">`,n+=`<div style="display:flex;flex-direction:column;align-items:center;justify-content:center"><svg viewBox="0 0 12 12" height="12" width="12"><rect stroke="none" x="0" y="0" height="12" width="12" rx="2" fill="${I.value.style.layout.bars.gradient.underlayer}"/><rect stroke="none" x="0" y="0" height="12" width="12" rx="2" fill="${I.value.style.layout.bars.gradient.show?`url(#age_pyramid_left_${A.value})`:I.value.style.layout.bars.left.color}"/></svg><div>${I.value.translations.female}</div><div><b>${T(I.value.style.layout.dataLabels.xAxis.formatter,w(r.left.value),C({v:w(r.left.value)}),{datapoint:t,seriesIndex:e})}</b></div></div>`,n+=`<div style="display:flex;flex-direction:column;align-items:center;justify-content:center"><svg viewBox="0 0 12 12" height="12" width="12"><rect stroke="none" x="0" y="0" height="12" width="12" rx="2" fill="${I.value.style.layout.bars.gradient.underlayer}"/><rect stroke="none" x="0" y="0" height="12" width="12" rx="2" fill="${I.value.style.layout.bars.gradient.show?`url(#age_pyramid_right_${A.value})`:I.value.style.layout.bars.right.color}"/></svg><div>${I.value.translations.male}</div><div><b>${T(I.value.style.layout.dataLabels.xAxis.formatter,w(r.right.value),C({v:w(r.right.value)}),{datapoint:t,seriesIndex:e})}</b></div></div>`,n+=`</div>`,n+=`<div style="margin-top:6px;padding-top:6px;border-top:1px solid ${I.value.style.tooltip.borderColor}"><div>${I.value.translations.total}</div><div><b>${T(I.value.style.layout.dataLabels.xAxis.formatter,w(r.right.value)+w(r.left.value),C({v:w(r.right.value)+w(r.left.value)}),{datapoint:t,seriesIndex:e})}</b></div></div>`,n+=`</div>`,Ct.value=`<div>${n}</div>`}St.value=!0}function an(e=null){se(()=>{let t=[I.value.translations.year,I.value.translations.age,I.value.translations.female,I.value.translations.male,I.value.translations.total],n=k.dataset.map(e=>[e[0],e[1],e[2],e[3],e[2]??0+e[3]??0]),r=pe([[I.value.style.title.text],[I.value.style.title.subtitle.text],[[``],[``],[``]],t].concat(n));e?e(r):le({csvContent:r,title:I.value.style.title.text||`vue-ui-heatmap`})})}let Y=p(()=>{let e=[I.value.translations.year,I.value.translations.age,I.value.translations.female,I.value.translations.male,I.value.translations.total];return{head:e,body:k.dataset.map(e=>[e[0],e[1],e[2]==null?``:e[2].toLocaleString(),e[3]==null?``:e[3].toLocaleString(),(e[2]??0+e[3]??0).toLocaleString()]),config:{th:{backgroundColor:I.value.table.th.backgroundColor,color:I.value.table.th.color,outline:I.value.table.th.outline},td:{backgroundColor:I.value.table.td.backgroundColor,color:I.value.table.td.color,outline:I.value.table.td.outline},breakpoint:I.value.table.responsiveBreakpoint},colNames:e}}),X=x(!1);function on(e){X.value=e,wt.value+=1}function sn(){V.value.showTable=!V.value.showTable}function cn(){V.value.showTooltip=!V.value.showTooltip}let Z=x(!1);function Q(){Z.value=!Z.value}async function ln({scale:e=2}={}){if(!M.value)return;let{width:t,height:n}=M.value.getBoundingClientRect(),r=t/n,{imageUri:i,base64:a}=await De({domElement:M.value,base64:!0,img:!0,scale:e});return{imageUri:i,base64:a,title:I.value.style.title.text,width:t,height:n,aspectRatio:r}}Ee({timeLabelsEls:At,timeLabels:x([]),slicer:x({start:0,end:J.value.length}),configRef:I,rotationPath:[`style`,`layout`,`dataLabels`,`xAxis`,`rotation`],autoRotatePath:[`style`,`layout`,`dataLabels`,`xAxis`,`autoRotate`,`enable`],isAutoSize:!1,width:qt,height:Jt,targetClass:`.vue-ui-age-pyramid-x-axis-label`,rotation:I.value.style.layout.dataLabels.xAxis.autoRotate.angle});let $=p(()=>{let e=I.value.table.useDialog&&!I.value.table.show,t=V.value.showTable;return{component:e?gt:Fe,title:`${I.value.style.title.text}${I.value.style.title.subtitle.text?`: ${I.value.style.title.subtitle.text}`:``}`,props:e?{backgroundColor:I.value.table.th.backgroundColor,color:I.value.table.th.color,headerColor:I.value.table.th.color,headerBg:I.value.table.th.backgroundColor,isFullscreen:X.value,fullscreenParent:M.value,forcedWidth:Math.min(800,window.innerWidth*.8),isCursorPointer:L.value}:{hideDetails:!0,config:{open:t,maxHeight:1e4,body:{backgroundColor:I.value.style.backgroundColor,color:I.value.style.color},head:{backgroundColor:I.value.style.backgroundColor,color:I.value.style.color}}}}});v(()=>V.value.showTable,e=>{I.value.table.show||(e&&I.value.table.useDialog&&N.value?N.value.open():`close`in N.value&&N.value.close())});function un(){V.value.showTable=!1,jt.value&&jt.value.setTableIconState(!1)}let dn=p(()=>I.value.style.backgroundColor),{exportSvg:fn,getSvg:pn}=we({svg:Rt,title:p(()=>I.value.style.title),backgroundColor:dn});async function mn({isCb:e}){F.value=!0,await se();try{if(e){let{blob:e,url:t,text:n,dataUrl:r}=await pn();await Promise.resolve(I.value.userOptions.callbacks.svg({blob:e,url:t,text:n,dataUrl:r}))}else await Promise.resolve(fn())}finally{F.value=!1}}function hn(e){if(e?.stage===`start`){P.value=!0;return}if(e?.stage===`end`){P.value=!1;return}Gt()}async function gn(){if(bt(`copyAlt`,{config:I.value,dataset:J.value}),!I.value.userOptions.callbacks.altCopy){console.warn("Vue Data UI - A callback must be set for `altCopy` in userOptions.");return}await Promise.resolve(I.value.userOptions.callbacks.altCopy({config:I.value,dataset:J.value}))}return D({getImage:ln,generatePdf:Wt,generateCsv:an,generateImage:Gt,generateSvg:mn,toggleTable:sn,toggleTooltip:cn,toggleAnnotator:Q,toggleFullscreen:on,copyAlt:gn}),(i,a)=>(o(),y(`div`,{class:e(`vue-data-ui-component vue-ui-age-pyramid ${X.value?`vue-data-ui-wrapper-fullscreen`:``}`),ref_key:`agePyramid`,ref:M,id:`vue-ui-age-pyramid_${A.value}`,style:c(`font-family:${I.value.style.fontFamily};width:100%; text-align:center;background:${I.value.style.backgroundColor};${I.value.responsive?`height:100%`:``}`),onMouseenter:a[1]||=()=>r(It)(!0),onMouseleave:a[2]||=()=>r(It)(!1)},[I.value.userOptions.buttons.annotator?(o(),d(r(Le),{key:0,svgRef:r(Rt),backgroundColor:I.value.style.backgroundColor,color:I.value.style.color,active:Z.value,isCursorPointer:L.value,onClose:Q},{"annotator-action-close":g(()=>[u(i.$slots,`annotator-action-close`,{},void 0,!0)]),"annotator-action-color":g(({color:e})=>[u(i.$slots,`annotator-action-color`,m(s({color:e})),void 0,!0)]),"annotator-action-draw":g(({mode:e})=>[u(i.$slots,`annotator-action-draw`,m(s({mode:e})),void 0,!0)]),"annotator-action-undo":g(({disabled:e})=>[u(i.$slots,`annotator-action-undo`,m(s({disabled:e})),void 0,!0)]),"annotator-action-redo":g(({disabled:e})=>[u(i.$slots,`annotator-action-redo`,m(s({disabled:e})),void 0,!0)]),"annotator-action-delete":g(({disabled:e})=>[u(i.$slots,`annotator-action-delete`,m(s({disabled:e})),void 0,!0)]),_:3},8,[`svgRef`,`backgroundColor`,`color`,`active`,`isCursorPointer`])):t(``,!0),Kt.value?(o(),y(`div`,{key:1,ref_key:`noTitle`,ref:Dt,class:`vue-data-ui-no-title-space`,style:`height:36px; width: 100%;background:transparent`},null,512)):t(``,!0),I.value.style.title.text?(o(),y(`div`,{key:2,ref_key:`chartTitle`,ref:Tt,style:`width:100%;background:transparent`},[(o(),d(Oe,{key:`title_${Ot.value}`,config:{title:{cy:`pyramid-div-title`,...I.value.style.title},subtitle:{cy:`pyramid-div-subtitle`,...I.value.style.title.subtitle}}},null,8,[`config`]))],512)):t(``,!0),I.value.userOptions.show&&xt.value&&(r(Lt)||r(Ft))?(o(),d(r(Re),{ref_key:`userOptionsRef`,ref:jt,key:`user_options_${wt.value}`,backgroundColor:I.value.style.backgroundColor,color:I.value.style.color,isImaging:r(Ut),isPrinting:r(Ht),uid:A.value,hasTooltip:I.value.userOptions.buttons.tooltip&&I.value.style.tooltip.show,hasPdf:I.value.userOptions.buttons.pdf,hasXls:I.value.userOptions.buttons.csv,hasImg:I.value.userOptions.buttons.img,hasSvg:I.value.userOptions.buttons.svg,hasTable:I.value.userOptions.buttons.table,hasFullscreen:I.value.userOptions.buttons.fullscreen,hasAltCopy:I.value.userOptions.buttons.altCopy,isFullscreen:X.value,isTooltip:V.value.showTooltip,titles:{...I.value.userOptions.buttonTitles},chartElement:M.value,position:I.value.userOptions.position,hasAnnotator:I.value.userOptions.buttons.annotator,isAnnotation:Z.value,callbacks:I.value.userOptions.callbacks,printScale:I.value.userOptions.print.scale,tableDialog:I.value.table.useDialog,isCursorPointer:L.value,onToggleFullscreen:on,onGeneratePdf:r(Wt),onGenerateCsv:an,onGenerateImage:hn,onGenerateSvg:mn,onToggleTable:sn,onToggleTooltip:cn,onToggleAnnotator:Q,onCopyAlt:gn,style:c({visibility:r(Lt)?r(Ft)?`visible`:`hidden`:`visible`})},re({_:2},[i.$slots.menuIcon?{name:`menuIcon`,fn:g(({isOpen:e,color:t})=>[u(i.$slots,`menuIcon`,m(s({isOpen:e,color:t})),void 0,!0)]),key:`0`}:void 0,i.$slots.optionTooltip?{name:`optionTooltip`,fn:g(()=>[u(i.$slots,`optionTooltip`,{},void 0,!0)]),key:`1`}:void 0,i.$slots.optionPdf?{name:`optionPdf`,fn:g(()=>[u(i.$slots,`optionPdf`,{},void 0,!0)]),key:`2`}:void 0,i.$slots.optionCsv?{name:`optionCsv`,fn:g(()=>[u(i.$slots,`optionCsv`,{},void 0,!0)]),key:`3`}:void 0,i.$slots.optionImg?{name:`optionImg`,fn:g(()=>[u(i.$slots,`optionImg`,{},void 0,!0)]),key:`4`}:void 0,i.$slots.optionSvg?{name:`optionSvg`,fn:g(()=>[u(i.$slots,`optionSvg`,{},void 0,!0)]),key:`5`}:void 0,i.$slots.optionTable?{name:`optionTable`,fn:g(()=>[u(i.$slots,`optionTable`,{},void 0,!0)]),key:`6`}:void 0,i.$slots.optionFullscreen?{name:`optionFullscreen`,fn:g(({toggleFullscreen:e,isFullscreen:t})=>[u(i.$slots,`optionFullscreen`,m(s({toggleFullscreen:e,isFullscreen:t})),void 0,!0)]),key:`7`}:void 0,i.$slots.optionAnnotator?{name:`optionAnnotator`,fn:g(({toggleAnnotator:e,isAnnotator:t})=>[u(i.$slots,`optionAnnotator`,m(s({toggleAnnotator:e,isAnnotator:t})),void 0,!0)]),key:`8`}:void 0,i.$slots.optionAltCopy?{name:`optionAltCopy`,fn:g(({altCopy:e})=>[u(i.$slots,`optionAltCopy`,m(s({altCopy:e})),void 0,!0)]),key:`9`}:void 0]),1032,`backgroundColor.color.isImaging.isPrinting.uid.hasTooltip.hasPdf.hasXls.hasImg.hasSvg.hasTable.hasFullscreen.hasAltCopy.isFullscreen.isTooltip.titles.chartElement.position.hasAnnotator.isAnnotation.callbacks.printScale.tableDialog.isCursorPointer.onGeneratePdf.style`.split(`.`))):t(``,!0),(o(),y(`svg`,{ref_key:`svgRef`,ref:Rt,xmlns:r(me),class:e({"vue-data-ui-fullscreen--on":X.value,"vue-data-ui-fulscreen--off":!X.value}),viewBox:`0 0 ${H.value.width<=0?10:H.value.width} ${H.value.height<=0?10:H.value.height}`,style:c(`max-width:100%;overflow:visible;background:transparent;color:${I.value.style.color}`)},[ee(r(Be)),i.$slots[`chart-background`]?(o(),y(`foreignObject`,{key:0,x:W.value.left,y:W.value.top,width:Math.max(.1,W.value.width),height:Math.max(.1,W.value.height),style:{pointerEvents:`none`}},[u(i.$slots,`chart-background`,{},void 0,!0)],8,Ue)):t(``,!0),b(`defs`,null,[b(`linearGradient`,{id:`age_pyramid_left_${A.value}`,x1:`0%`,y1:`0%`,x2:`100%`,y2:`0%`},[b(`stop`,{offset:`0%`,"stop-color":I.value.style.layout.bars.left.color},null,8,Ge),b(`stop`,{offset:`100%`,"stop-color":r(ve)(r(_e)(I.value.style.layout.bars.left.color,I.value.style.layout.bars.gradient.shiftHue),100-I.value.style.layout.bars.gradient.intensity)},null,8,Ke)],8,We),b(`linearGradient`,{id:`age_pyramid_right_${A.value}`,x1:`0%`,y1:`0%`,x2:`100%`,y2:`0%`},[b(`stop`,{offset:`0%`,"stop-color":r(ve)(r(_e)(I.value.style.layout.bars.right.color,I.value.style.layout.bars.gradient.shiftHue),100-I.value.style.layout.bars.gradient.intensity)},null,8,Je),b(`stop`,{offset:`100%`,"stop-color":I.value.style.layout.bars.right.color},null,8,Ye)],8,qe)]),(o(!0),y(_,null,f(J.value,(e,t)=>(o(),y(`g`,null,[b(`rect`,{x:e.left.x,y:e.left.y,width:r(w)(e.left.width<=0?1e-4:e.left.width),height:e.left.height<=0?1e-4:e.left.height,fill:I.value.style.layout.bars.gradient.underlayer,rx:I.value.style.layout.bars.borderRadius},null,8,Xe),b(`rect`,{x:e.left.x,y:e.left.y,width:e.left.width<=0?1e-4:e.left.width,height:e.left.height<=0?1e-4:e.left.height,fill:I.value.style.layout.bars.gradient.show?`url(#age_pyramid_left_${A.value})`:e.left.color,rx:I.value.style.layout.bars.borderRadius},null,8,Ze),b(`rect`,{x:e.right.x,y:e.right.y,width:e.right.width<=0?1e-4:e.right.width,height:e.right.height<=0?1e-4:e.right.height,fill:I.value.style.layout.bars.gradient.underlayer,rx:I.value.style.layout.bars.borderRadius},null,8,Qe),b(`rect`,{x:e.right.x,y:e.right.y,width:e.right.width<=0?1e-4:e.right.width,height:e.right.height<=0?1e-4:e.right.height,fill:I.value.style.layout.bars.gradient.show?`url(#age_pyramid_right_${A.value})`:e.right.color,rx:I.value.style.layout.bars.borderRadius},null,8,$e)]))),256)),b(`g`,null,[I.value.style.layout.dataLabels.sideTitles.show?(o(),y(`g`,et,[b(`text`,{x:W.value.left,y:I.value.style.layout.dataLabels.sideTitles.fontSize,fill:I.value.style.layout.dataLabels.sideTitles.useSideColor?I.value.style.layout.bars.left.color:I.value.style.layout.dataLabels.sideTitles.color,"font-size":I.value.style.layout.dataLabels.sideTitles.fontSize,"text-anchor":`start`,"font-weight":I.value.style.layout.dataLabels.sideTitles.bold?`bold`:`normal`},l(I.value.translations.female),9,tt),b(`text`,{x:W.value.right,y:I.value.style.layout.dataLabels.sideTitles.fontSize,fill:I.value.style.layout.dataLabels.sideTitles.useSideColor?I.value.style.layout.bars.right.color:I.value.style.layout.dataLabels.sideTitles.color,"font-size":I.value.style.layout.dataLabels.sideTitles.fontSize,"text-anchor":`end`,"font-weight":I.value.style.layout.dataLabels.sideTitles.bold?`bold`:`normal`},l(I.value.translations.male),9,nt)])):t(``,!0),I.value.style.layout.dataLabels.yAxis.show?(o(),y(`g`,rt,[(o(!0),y(_,null,f(Xt.value,(e,n)=>(o(),y(_,null,[n%I.value.style.layout.dataLabels.yAxis.showEvery===0?(o(),y(`text`,{key:0,x:W.value.centerX,y:W.value.top+W.value.height/q.value*n+I.value.style.layout.dataLabels.yAxis.fontSize/3,"text-anchor":`middle`,"font-size":I.value.style.layout.dataLabels.yAxis.fontSize,fill:I.value.style.layout.dataLabels.yAxis.color,"font-weight":I.value.style.layout.dataLabels.yAxis.bold?`bold`:`normal`},l(r(T)(I.value.style.layout.dataLabels.yAxis.formatter,e,r(C)({v:e}),{datapoint:e,seriesIndex:n})),9,it)):t(``,!0)],64))),256))])):t(``,!0),I.value.style.layout.dataLabels.xAxis.show?(o(),y(`g`,at,[I.value.style.layout.grid.show?(o(),y(`g`,ot,[b(`line`,{x1:G.value.right[0].x,x2:G.value.right.at(-1).x,y1:W.value.bottom+I.value.style.layout.dataLabels.xAxis.fontSize/2,y2:W.value.bottom+I.value.style.layout.dataLabels.xAxis.fontSize/2,stroke:I.value.style.layout.grid.stroke,"stroke-width":I.value.style.layout.grid.strokeWidth,"stroke-linecap":`round`},null,8,st),b(`line`,{x1:G.value.left[0].x,x2:G.value.left.at(-1).x,y1:W.value.bottom+I.value.style.layout.dataLabels.xAxis.fontSize/2,y2:W.value.bottom+I.value.style.layout.dataLabels.xAxis.fontSize/2,stroke:I.value.style.layout.grid.stroke,"stroke-width":I.value.style.layout.grid.strokeWidth,"stroke-linecap":`round`},null,8,ct)])):t(``,!0),(o(!0),y(_,null,f(G.value.right,(e,n)=>(o(),y(`g`,null,[I.value.style.layout.grid.show?(o(),y(`line`,{key:0,x1:e.x,x2:e.x,y1:W.value.bottom+I.value.style.layout.dataLabels.xAxis.fontSize/2,y2:W.value.bottom+I.value.style.layout.dataLabels.xAxis.fontSize/2+4,stroke:I.value.style.layout.grid.stroke,"stroke-width":I.value.style.layout.grid.strokeWidth,"stroke-linecap":`round`},null,8,lt)):t(``,!0)]))),256)),(o(!0),y(_,null,f(G.value.left,(e,n)=>(o(),y(`g`,null,[I.value.style.layout.grid.show?(o(),y(`line`,{key:0,x1:e.x,x2:e.x,y1:W.value.bottom+I.value.style.layout.dataLabels.xAxis.fontSize/2,y2:W.value.bottom+I.value.style.layout.dataLabels.xAxis.fontSize/2+4,stroke:I.value.style.layout.grid.stroke,"stroke-width":I.value.style.layout.grid.strokeWidth,"stroke-linecap":`round`},null,8,ut)):t(``,!0)]))),256)),b(`g`,{ref_key:`xAxisLabels`,ref:At},[(o(!0),y(_,null,f(G.value.right,(e,t)=>(o(),y(`text`,{class:`vue-ui-age-pyramid-x-axis-label`,"font-size":I.value.style.layout.dataLabels.xAxis.fontSize,fill:I.value.style.layout.dataLabels.xAxis.color,"text-anchor":I.value.style.layout.dataLabels.xAxis.rotation>0?`start`:I.value.style.layout.dataLabels.xAxis.rotation<0?`end`:`middle`,"font-weight":I.value.style.layout.dataLabels.xAxis.bold?`bold`:`normal`,transform:`translate(${e.x}, ${W.value.bottom+I.value.style.layout.dataLabels.xAxis.fontSize*2}) rotate(${I.value.style.layout.dataLabels.xAxis.rotation})`},l(r(T)(I.value.style.layout.dataLabels.xAxis.formatter,e.value/I.value.style.layout.dataLabels.xAxis.scale,r(C)({v:e.value/I.value.style.layout.dataLabels.xAxis.scale}),{datapoint:e,seriesIndex:t})),9,dt))),256)),(o(!0),y(_,null,f(G.value.left,(e,t)=>(o(),y(`text`,{class:`vue-ui-age-pyramid-x-axis-label`,"font-size":I.value.style.layout.dataLabels.xAxis.fontSize,fill:I.value.style.layout.dataLabels.xAxis.color,"text-anchor":I.value.style.layout.dataLabels.xAxis.rotation>0?`start`:I.value.style.layout.dataLabels.xAxis.rotation<0?`end`:`middle`,"font-weight":I.value.style.layout.dataLabels.xAxis.bold?`bold`:`normal`,transform:`translate(${e.x}, ${W.value.bottom+I.value.style.layout.dataLabels.xAxis.fontSize*2}) rotate(${I.value.style.layout.dataLabels.xAxis.rotation})`},l(r(T)(I.value.style.layout.dataLabels.xAxis.formatter,e.value/I.value.style.layout.dataLabels.xAxis.scale,r(C)({v:e.value/I.value.style.layout.dataLabels.xAxis.scale}),{datapoint:e,seriesIndex:t})),9,ft))),256))],512),b(`text`,{x:W.value.right,y:H.value.height,"text-anchor":`end`,"font-size":I.value.style.layout.dataLabels.xAxis.fontSize,fill:I.value.style.layout.dataLabels.xAxis.color,"font-weight":I.value.style.layout.dataLabels.xAxis.bold?`bold`:`normal`},l(I.value.style.layout.dataLabels.xAxis.translation),9,pt)])):t(``,!0)]),(o(!0),y(_,null,f(E.dataset,(e,t)=>(o(),y(`g`,null,[b(`rect`,{x:W.value.left,y:W.value.top+W.value.height/q.value*t-I.value.style.layout.bars.gap/2,width:W.value.width<=0?1e-4:W.value.width,height:W.value.height/q.value<=0?1e-4:W.value.height/q.value,fill:j.value!==null&&j.value===t?r(ve)(I.value.style.highlighter.color,I.value.style.highlighter.opacity):`transparent`,onMouseover:n=>rn(t,e),onMouseleave:n=>nn(t,e),onClick:n=>tn(t,e)},null,40,mt)]))),256)),u(i.$slots,`svg`,{svg:{...H.value,isPrintingImg:r(Ht)|r(Ut)|P.value,isPrintingSvg:F.value}},void 0,!0)],14,He)),i.$slots.watermark?(o(),y(`div`,ht,[u(i.$slots,`watermark`,m(s({isPrinting:r(Ht)||r(Ut)||P.value||F.value})),void 0,!0)])):t(``,!0),u(i.$slots,`legend`,{legend:J.value},void 0,!0),i.$slots.source?(o(),y(`div`,{key:5,ref_key:`source`,ref:Et,dir:`auto`},[u(i.$slots,`source`,{},void 0,!0)],512)):t(``,!0),ee(r(Ne),{teleportTo:I.value.style.tooltip.teleportTo,show:V.value.showTooltip&&St.value,backgroundColor:I.value.style.tooltip.backgroundColor,color:I.value.style.tooltip.color,borderRadius:I.value.style.tooltip.borderRadius,borderColor:I.value.style.tooltip.borderColor,borderWidth:I.value.style.tooltip.borderWidth,fontSize:I.value.style.tooltip.fontSize,backgroundOpacity:I.value.style.tooltip.backgroundOpacity,position:I.value.style.tooltip.position,offsetY:I.value.style.tooltip.offsetY,parent:M.value,content:Ct.value,isFullscreen:X.value,isCustom:I.value.style.tooltip.customFormat&&typeof I.value.style.tooltip.customFormat==`function`,smooth:I.value.style.tooltip.smooth,backdropFilter:I.value.style.tooltip.backdropFilter,smoothForce:I.value.style.tooltip.smoothForce,smoothSnapThreshold:I.value.style.tooltip.smoothSnapThreshold},{"tooltip-before":g(()=>[u(i.$slots,`tooltip-before`,m(s({...$t.value})),void 0,!0)]),"tooltip-after":g(()=>[u(i.$slots,`tooltip-after`,m(s({...$t.value})),void 0,!0)]),_:3},8,[`teleportTo`,`show`,`backgroundColor`,`color`,`borderRadius`,`borderColor`,`borderWidth`,`fontSize`,`backgroundOpacity`,`position`,`offsetY`,`parent`,`content`,`isFullscreen`,`isCustom`,`smooth`,`backdropFilter`,`smoothForce`,`smoothSnapThreshold`]),xt.value&&I.value.userOptions.buttons.table?(o(),d(ae($.value.component),te({key:6},$.value.props,{ref_key:`tableUnit`,ref:N,onClose:un}),re({content:g(()=>[(o(),d(r(Ie),{key:`table_${kt.value}`,colNames:Y.value.colNames,head:Y.value.head,body:Y.value.body,config:Y.value.config,title:I.value.table.useDialog?``:$.value.title,withCloseButton:!I.value.table.useDialog,isCursorPointer:L.value,onClose:un},{th:g(({th:e})=>[n(l(e),1)]),td:g(({td:e})=>[n(l(e),1)]),_:1},8,[`colNames`,`head`,`body`,`config`,`title`,`withCloseButton`,`isCursorPointer`]))]),_:2},[I.value.table.useDialog?{name:`title`,fn:g(()=>[n(l($.value.title),1)]),key:`0`}:void 0,I.value.table.useDialog?{name:`actions`,fn:g(()=>[b(`button`,{tabindex:`0`,class:`vue-ui-user-options-button`,onClick:a[0]||=e=>an(I.value.userOptions.callbacks.csv),style:c({cursor:L.value?`pointer`:`default`})},[ee(r(Pe),{name:`fileCsv`,stroke:$.value.props.color},null,8,[`stroke`])],4)]),key:`1`}:void 0]),1040)):t(``,!0),u(i.$slots,`skeleton`,{},()=>[r(Nt)?(o(),d(Se,{key:0})):t(``,!0)],!0)],46,Ve))}},[[`__scopeId`,`data-v-4b2065dd`]]),_t=Object.freeze(Object.defineProperty({__proto__:null,default:gt},Symbol.toStringTag,{value:`Module`}));export{Be as a,_t as b};