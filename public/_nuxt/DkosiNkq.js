const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./B9jcbJ_P.js","./xh7dz5-d.js","./BLt7TXlb.js","./CWNsAIol.js","./Cf-0F-2c.js","./CbFHGlY2.js","./ByvxprxI.js","./CRSLCJ2m.js","./8DvoFuCx.js","./CH8pva4p.js","./C0O4I1kb.js","./DdyLBgN8.js","./C66xQW7K.js","./DuIAB7Tu.js","./DHC76net.js","./BDmUravP.js","./D7-tWLRc.js","./CBD7ngdF.js","./BIodG7vT.js"])))=>i.map(i=>d[i]);
import{At as e,C as t,D as n,Dt as r,G as i,H as a,J as o,M as s,Mt as c,Nt as l,O as u,Q as d,R as ee,S as f,St as te,T as ne,Tt as re,Z as p,b as m,et as ie,jt as h,k as g,lt as _,m as v,ot as ae,st as oe,w as y,x as b,yt as x,z as se}from"./BLt7TXlb.js";import{t as S}from"./YZkb6lnT.js";import{F as ce,M as le,Mt as C,N as ue,Nt as de,P as fe,U as pe,V as me,_ as he,a as ge,bt as _e,h as w,pt as ve,rt as ye,u as T,vt as be}from"./Cf-0F-2c.js";import{n as xe,r as Se,t as Ce}from"./tZv40UlZ.js";import{n as we,t as Te}from"./8DvoFuCx.js";import{t as Ee}from"./Cme7ewGR.js";import{t as De}from"./CWNsAIol.js";import{n as Oe,t as ke}from"./D4ushAer.js";import{t as Ae}from"./CLl0-3D6.js";import{t as je}from"./BwaPX4qL.js";import{t as Me}from"./oZ4LAWkj.js";import{t as Ne}from"./BDmUravP.js";import{t as Pe}from"./BIZzPpPz.js";import{a as Fe,n as Ie}from"./D4v1zV2y.js";import{t as Le}from"./Cpd__yay.js";import{t as Re}from"./BEpjx3T_.js";import{t as ze}from"./DMqKe8aR.js";var Be={userOptions:{show:!1},style:{zoom:{minimap:{show:!0}},layout:{candle:{gradient:{show:!1}}}}},Ve={userOptions:{show:!1},style:{backgroundColor:`#1A1A1A`,color:`#CCCCCC`,layout:{selector:{color:`#CCCCCC`},grid:{stroke:`#5A5A5A`,xAxis:{dataLabels:{color:`#CCCCCC`}},yAxis:{dataLabels:{color:`#CCCCCC`}}},wick:{stroke:`#5A5A5A`,extremity:{color:`#5A5A5A`}},candle:{stroke:`#1A1A1A`,gradient:{show:!1}}},zoom:{color:`#4A4A4A`,highlightColor:`#9A9A9A`,minimap:{show:!0,selectedColor:`#8A8A8A`,lineColor:`#424242`,indicatorColor:`#CCCCCC`}},title:{color:`#CCCCCC`,subtitle:{color:`#757575`}},tooltip:{backgroundColor:`#1A1A1A`,backgroundOpacity:70,color:`#CCCCCC`,borderColor:`#3A3A3A`}},table:{th:{backgroundColor:`#1A1A1A`,color:`#CCCCCC`},td:{backgroundColor:`#1A1A1A`,color:`#CCCCCC`}}},He={style:{backgroundColor:`#1A1A1A`,color:`#CCCCCC`,layout:{selector:{color:`#CCCCCC`},grid:{stroke:`#5A5A5A`,xAxis:{dataLabels:{color:`#CCCCCC`}},yAxis:{dataLabels:{color:`#CCCCCC`}}},wick:{stroke:`#5A5A5A`,extremity:{color:`#5A5A5A`}},candle:{stroke:`#1A1A1A`}},zoom:{color:`#4A4A4A`,highlightColor:`#9A9A9A`,minimap:{selectedColor:`#8A8A8A`,lineColor:`#424242`,indicatorColor:`#CCCCCC`}},title:{color:`#CCCCCC`,subtitle:{color:`#757575`}},tooltip:{backgroundColor:`#1A1A1A`,backgroundOpacity:70,color:`#CCCCCC`,borderColor:`#5A5A5A`}},table:{th:{backgroundColor:`#1A1A1A`,color:`#CCCCCC`},td:{backgroundColor:`#1A1A1A`,color:`#CCCCCC`}}},Ue={style:{backgroundColor:`#FFF8E1`,color:`#424242`,layout:{selector:{color:`#424242`},grid:{stroke:`#5D4037`,xAxis:{dataLabels:{color:`#424242`}},yAxis:{dataLabels:{color:`#424242`}}},wick:{stroke:`#5D4037`,extremity:{color:`#5D4037`}},candle:{stroke:`#FFF8E1`,colors:{bullish:`#D32F2F`,bearish:`#F57C00`},gradient:{show:!1}}},zoom:{color:`#5D4037`,highlightColor:`#FF8A65`},title:{color:`#424242`,subtitle:{color:`#757575`}},tooltip:{backgroundColor:`#FFECB3`,backgroundOpacity:30,color:`#424242`,borderColor:`#FF8A65`}},table:{th:{backgroundColor:`#FFF8E1`,color:`#424242`},td:{backgroundColor:`#FFF8E1`,color:`#424242`}}},We={style:{backgroundColor:`#1E1E1E`,color:`#BDBDBD`,layout:{selector:{color:`#FFF8E1`},grid:{stroke:`#5D4037`,xAxis:{dataLabels:{color:`#BDBDBD`}},yAxis:{dataLabels:{color:`#BDBDBD`}}},wick:{stroke:`#BDBDBD`,extremity:{color:`#BDBDBD`}},candle:{stroke:`#1E1E1E`,colors:{bullish:`#D32F2F`,bearish:`#F57C00`},gradient:{show:!1}}},zoom:{color:`#5D4037`,highlightColor:`#FF8A65`},title:{color:`#FFF8E1`,subtitle:{color:`#BDBDBD`}},tooltip:{backgroundColor:`#1E1E1E`,backgroundOpacity:30,color:`#FFF8E1`,borderColor:`#FF8A65`}},table:{th:{backgroundColor:`#1E1E1E`,color:`#BDBDBD`},td:{backgroundColor:`#1E1E1E`,color:`#BDBDBD`}}},Ge={style:{backgroundColor:`#1A1A1A`,color:`#99AA99`,layout:{selector:{color:`#7DA9B5`},grid:{stroke:`#334C33`,xAxis:{dataLabels:{color:`#99CC99`}},yAxis:{dataLabels:{color:`#99CC99`}}},wick:{stroke:`#334C33`,extremity:{color:`#334C33`}},candle:{stroke:`#1A1A1A`,colors:{bullish:`#00FF00`,bearish:`#334C33`},gradient:{show:!1}}},zoom:{color:`#5F6A5F`,highlightColor:`#66CC66`},title:{color:`#66CC66`,subtitle:{color:`#99AA99`}},tooltip:{backgroundColor:`#2A2F2A`,color:`#AACCAA`,borderColor:`#66CC66`}},table:{th:{backgroundColor:`#1A1A1A`,color:`#99AA99`},td:{backgroundColor:`#1A1A1A`,color:`#AACCAA`}}},Ke={style:{backgroundColor:`#fbfafa`,color:`#8A9892`,layout:{selector:{color:`#8F837A`},grid:{stroke:`transparent`,xAxis:{dataLabels:{color:`#8A9892`}},yAxis:{dataLabels:{color:`#8A9892`}}},wick:{stroke:`#D7E0D2`,extremity:{shape:`circle`,size:2,color:`#C5B8A7`}},candle:{stroke:`#fbfafa`,colors:{bullish:`#A0AC94`,bearish:`#C09E85`},gradient:{show:!0}}},zoom:{color:`#E0CFC3`,highlightColor:`#8F837A`},title:{color:`#8A9892`,subtitle:{color:`#99AA99`}},tooltip:{backgroundColor:`#fbfafa`,color:`#8A9892`}},table:{th:{backgroundColor:`#fbfafa`,color:`#8F837A`},td:{backgroundColor:`#fbfafa`,color:`#8F837A`}}},qe={style:{backgroundColor:`#f6f6fb`,color:`#50606C`,layout:{selector:{color:`#7DA9B5`},grid:{stroke:`#334C33`,xAxis:{dataLabels:{color:`#61747E`}},yAxis:{dataLabels:{color:`#61747E`}}},wick:{stroke:`#61747E`,extremity:{color:`#61747E`}},candle:{stroke:`#1A1A1A`,colors:{bullish:`#92B0AB`,bearish:`#EFECEC`},gradient:{show:!1}}},zoom:{color:`#92B0AB`,highlightColor:`#50606C`},title:{color:`#50606C`,subtitle:{color:`#718890`}},tooltip:{backgroundColor:`#f6f6fb`,color:`#50606C`}},table:{th:{backgroundColor:`#f6f6fb`,color:`#50606C`},td:{backgroundColor:`#f6f6fb`,color:`#50606C`}}},Je={default:{},minimal:Be,minimalDark:Ve,dark:He,celebration:Ue,celebrationNight:We,hack:Ge,zen:Ke,concrete:qe},Ye=Object.freeze(Object.defineProperty({__proto__:null,celebration:Ue,celebrationNight:We,concrete:qe,dark:He,default:Je,hack:Ge,minimal:Be,minimalDark:Ve,zen:Ke},Symbol.toStringTag,{value:`Module`})),Xe=[`id`],Ze=[`xmlns`,`aria-label`,`viewBox`],Qe=[`x`,`y`,`width`,`height`],$e={key:1},et=[`id`],tt=[`stop-color`],nt=[`stop-color`],rt=[`stop-color`],it=[`id`],at=[`stop-color`],ot=[`stop-color`],st=[`stop-color`],ct={key:0},lt=[`x1`,`x2`,`y1`,`y2`,`stroke`,`stroke-width`],ut=[`x1`,`x2`,`y1`,`y2`,`stroke`,`stroke-width`],dt=[`x1`,`x2`,`y1`,`y2`,`stroke`,`stroke-width`,`stroke-dasharray`],ft=[`x1`,`x2`,`y1`,`y2`,`stroke`,`stroke-width`,`stroke-dasharray`],pt=[`x1`,`x2`,`y1`,`y2`,`stroke`,`stroke-width`],mt=[`x1`,`x2`,`y1`,`y2`,`stroke`,`stroke-width`],ht=[`x`,`y`,`font-size`,`fill`,`font-weight`],gt=[`transform`,`text-anchor`,`font-size`,`fill`,`font-weight`],_t=[`transform`,`text-anchor`,`font-size`,`fill`,`font-weight`],vt=[`x`,`y`,`width`,`height`,`fill`,`rx`],yt={key:0},bt=[`cx`,`cy`,`r`,`fill`],xt=[`cx`,`cy`,`r`,`fill`],St={key:1},Ct=[`x`,`y`,`width`,`height`,`rx`,`fill`],wt=[`x`,`y`,`width`,`height`,`fill`,`rx`],Tt=[`x`,`y`,`height`,`width`,`fill`,`rx`],Et=[`x`,`y`,`height`,`width`,`fill`,`rx`,`stroke`,`stroke-width`],Dt=[`d`,`stroke`],Ot=[`x`,`y`,`height`,`width`,`fill`,`onMouseover`,`onMouseleave`,`onClick`],kt=[`data-start`,`data-end`],At={key:4,class:`vue-data-ui-watermark`},jt=[`d`,`stroke`],Mt=[`d`,`stroke`,`stroke-width`],Nt=[`innerHTML`],Pt=De({__name:`vue-ui-candlestick`,props:{config:{type:Object,default(){return{}}},dataset:{type:Array,default(){return[]}},selectedXIndex:{type:Number,default:void 0}},emits:[`selectX`,`copyAlt`],setup(De,{expose:Be,emit:Ve}){let He=g(()=>S(()=>import(`./B9jcbJ_P.js`),__vite__mapDeps([0,1,2,3,4]),import.meta.url)),Ue=g(()=>S(()=>import(`./CbFHGlY2.js`),__vite__mapDeps([5,2,4]),import.meta.url)),We=g(()=>S(()=>import(`./ByvxprxI.js`),__vite__mapDeps([6,7,2,1,3,4,8]),import.meta.url)),Ge=g(()=>S(()=>import(`./CH8pva4p.js`),__vite__mapDeps([9,2,1,3,4,10]),import.meta.url)),Ke=g(()=>S(()=>import(`./DdyLBgN8.js`),__vite__mapDeps([11,2,1,3,4,12,13]),import.meta.url)),qe=g(()=>S(()=>import(`./DHC76net.js`),__vite__mapDeps([14,2,1,3,4,15,16,13]),import.meta.url)),Ye=g(()=>S(()=>import(`./CBD7ngdF.js`),__vite__mapDeps([17,2]),import.meta.url)),Pt=g(()=>S(()=>import(`./BIodG7vT.js`),__vite__mapDeps([18,2,1,3,4]),import.meta.url)),{vue_ui_candlestick:Ft}=Te(),{isThemeValid:It,warnInvalidTheme:Lt}=je(),E=De,Rt=Ve,zt=m(()=>!!E.dataset&&E.dataset.length),D=x(!1),Bt=x(null),O=x(de()),Vt=x(!1),Ht=x(``),k=x(void 0),Ut=x(0),A=x(null),Wt=x(null),Gt=x(null),j=x(null),Kt=x(null),qt=x(null),Jt=x(0),Yt=x(0),Xt=x(0),Zt=x(null),M=x(null),N=x(null),Qt=x(null),$t=x(null),en=x(!1),tn=x(!1),P=x(fn()),nn=m(()=>P.value.userOptions.useCursorPointer),rn=m(()=>fe({defaultConfig:{useCssAnimation:!1,userOptions:{show:!1},table:{show:!1},style:{backgroundColor:`#99999930`,layout:{candle:{colors:{bearish:`#BABABA`,bullish:`#CACACA`}},grid:{stroke:`#6A6A6A`,verticalLines:{stroke:`#6A6A6A`},horizontalLines:{stroke:`#6A6A6A`},yAxis:{dataLabels:{show:!1},scale:{min:null,max:null}}},wick:{stroke:`#6A6A6A`,extremity:{color:`#6A6A6A`}}},tooltip:{show:!1},zoom:{show:!1,startIndex:null,endIndex:null}}},userConfig:P.value.skeletonConfig??{}})),{loading:F,FINAL_DATASET:I,manualLoading:an}=ke({...re(E),FINAL_CONFIG:P,prepareConfig:fn,callback:()=>{Promise.resolve().then(async()=>{await ir()})},skeletonDataset:E.config?.skeletonDataset??[[17040672e5,10,20,2,10,30],[17067456e5,10,30,5,20,50],[17092512e5,20,50,10,30,80],[17119296e5,30,80,20,50,130],[17145216e5,50,130,30,100,210],[17172e8,80,210,50,150,340],[1719792e6,130,340,80,280,550],[17224704e5,210,550,130,450,890],[17251488e5,340,890,210,750,1440],[17277408e5,550,1440,340,1230,2330],[17304192e5,890,2330,550,1950,3770],[17330112e5,1440,3770,890,3200,5100]],skeletonConfig:fe({defaultConfig:P.value,userConfig:rn.value})}),{userOptionsVisible:on,setUserOptionsVisibility:sn,keepUserOptionState:cn}=ze({config:P.value}),{svgRef:ln}=Re({config:P.value.style.title});function un(){sn(!0)}function dn(){sn(!1),Rt(`selectX`,{seriesIndex:null,datapoint:null}),k.value=null}function fn(){let e=we({userConfig:E.config,defaultConfig:Ft}),t={},n=e.theme;if(n)if(!It.value(e))Lt(e),t=e;else{let r=we({userConfig:Je[n]||E.config,defaultConfig:e});t={...we({userConfig:E.config,defaultConfig:r})}}else t=e;return t}ae(()=>E.config,e=>{F.value||(P.value=fn()),on.value=!P.value.userOptions.showOnChartHover,pn(),Jt.value+=1,Xt.value+=1,Yt.value+=1,V.value.showTable=P.value.table.show,V.value.showTooltip=P.value.style.tooltip.show,En()},{deep:!0}),ae(()=>E.dataset,e=>{Array.isArray(e)&&e.length>0&&(an.value=!1),tr()},{deep:!0});let L=x({height:P.value.style.height,width:P.value.style.width,xAxisFontSize:P.value.style.layout.grid.xAxis.dataLabels.fontSize,yAxisFontSize:P.value.style.layout.grid.yAxis.dataLabels.fontSize}),R=te(null),z=te(null);i(()=>{pn()});let B=m(()=>!!P.value.debug);function pn(){if(me(E.dataset)&&(w({componentName:`VueUiCandlestick`,type:`dataset`,debug:B.value}),an.value=!0),me(E.dataset)||(an.value=P.value.loading),setTimeout(()=>{D.value=!0},10),P.value.responsive){let e=Ie(()=>{D.value=!1;let{width:e,height:t}=Fe({chart:A.value,title:P.value.style.title.text?Wt.value:null,slicer:P.value.style.zoom.show&&U.value>6?j.value.$el:null,legend:Gt.value,source:Kt.value,noTitle:qt.value});requestAnimationFrame(()=>{L.value.width=e,L.value.height=t-12,P.value.responsiveProportionalSizing?(L.value.xAxisFontSize=pe({relator:Math.min(e,t),adjuster:P.value.style.width,source:P.value.style.layout.grid.xAxis.dataLabels.fontSize,threshold:6,fallback:6}),L.value.yAxisFontSize=pe({relator:Math.min(e,t),adjuster:P.value.style.width,source:P.value.style.layout.grid.yAxis.dataLabels.fontSize,threshold:6,fallback:6})):(L.value.xAxisFontSize=P.value.style.layout.grid.xAxis.dataLabels.fontSize,L.value.yAxisFontSize=P.value.style.layout.grid.yAxis.dataLabels.fontSize),Bt.value&&clearTimeout(Bt.value),Bt.value=setTimeout(()=>{D.value=!0},10)})});R.value&&(z.value&&R.value.unobserve(z.value),R.value.disconnect()),R.value=new ResizeObserver(e),z.value=A.value.parentNode,R.value.observe(z.value)}ir()}a(()=>{R.value&&(z.value&&R.value.unobserve(z.value),R.value.disconnect())});let{isPrinting:mn,isImaging:hn,generatePdf:gn,generateImage:_n}=Ee({elementId:`vue-ui-candlestick_${O.value}`,fileName:P.value.style.title.text||`vue-ui-candlestick`,options:P.value.userOptions.print}),vn=m(()=>P.value.userOptions.show&&!P.value.style.title.text),V=x({showTable:P.value.table.show,showTooltip:P.value.style.tooltip.show}),yn=x(0),bn=Ie(e=>{yn.value=e},100);oe(e=>{let t=M.value;if(!t)return;let n=new ResizeObserver(e=>{bn(e[0].contentRect.height)});n.observe(t),e(()=>n.disconnect())}),a(()=>{yn.value=0});let xn=m(()=>{let e=0;return M.value&&(e=yn.value+L.value.xAxisFontSize),e});function Sn(){let e=P.value.style.layout.grid.yAxis.dataLabels.offsetX;return Zt.value&&(e=Array.from(Zt.value.querySelectorAll(`text`)).reduce((e,t)=>{let n=t.getComputedTextLength();return n>e?n:e},0)),e+13}let H=m(()=>{let{top:e,right:t,bottom:n,left:r}=P.value.style.layout.padding,i=Sn();return{top:e+12,right:L.value.width-t,left:r+i,bottom:L.value.height-n-xn.value,width:L.value.width-r-t-i,height:L.value.height-e-n-xn.value-12}}),Cn=m(()=>{let{left:e,top:t,width:n,height:r}=H.value,i=W.value.start,a=W.value.end-i,o=n/a,s=G.value.start-i,c=G.value.end-i,l=Math.max(0,Math.min(a,s)),u=Math.max(0,Math.min(a,c));return{x:e+l*o,y:t,width:(u-l)*o,height:r,fill:P.value.style.zoom.preview.fill,stroke:P.value.style.zoom.preview.stroke,"stroke-width":P.value.style.zoom.preview.strokeWidth,"stroke-dasharray":P.value.style.zoom.preview.strokeDasharray,"stroke-linecap":`round`,"stroke-linejoin":`round`,style:{pointerEvents:`none`,transition:`none !important`,animation:`none !important`}}}),U=m(()=>I.value.length),W=x({start:0,end:U.value}),G=x({start:0,end:U.value}),wn=m(()=>P.value.style.zoom.preview.enable&&(G.value.start!==W.value.start||G.value.end!==W.value.end));function Tn(e,t){G.value[e]=t}function En(){let e=Math.max(0,Math.min(W.value.start??0,U.value-1)),t=Math.max(e+1,Math.min(W.value.end??U.value,U.value));(!Number.isFinite(e)||!Number.isFinite(t)||t<=e)&&(e=0,t=U.value),W.value.start=e,W.value.end=t,G.value.start=e,G.value.end=t,j.value&&(j.value.setStartValue(e),j.value.setEndValue(t))}let Dn=m(()=>I.value.map((e,t)=>({...e,absoluteIndex:t}))),On=m(()=>Dn.value.slice(W.value.start,W.value.end)),K=m(()=>(I.value.forEach((e,t)=>{[null,void 0].includes(e[0])&&w({componentName:`VueUiCandlestick`,type:`datasetAttribute`,property:`period (index 0)`,index:t,debug:B.value}),[null,void 0].includes(e[1])&&w({componentName:`VueUiCandlestick`,type:`datasetAttribute`,property:`open (index 1)`,index:t,debug:B.value}),[null,void 0].includes(e[2])&&w({componentName:`VueUiCandlestick`,type:`datasetAttribute`,property:`high (index 2)`,index:t,debug:B.value}),[null,void 0].includes(e[3])&&w({componentName:`VueUiCandlestick`,type:`datasetAttribute`,property:`low (index 3)`,index:t,debug:B.value}),[null,void 0].includes(e[4])&&w({componentName:`VueUiCandlestick`,type:`datasetAttribute`,property:`close (index 4)`,index:t,debug:B.value}),[null,void 0].includes(e[5])&&w({componentName:`VueUiCandlestick`,type:`datasetAttribute`,property:`volume (index 5)`,index:t,debug:B.value})}),On.value.map(e=>({absoluteIndex:e.absoluteIndex,period:e[0],open:e[1],high:e[2],low:e[3],close:e[4],volume:e[5]})))),kn=m(()=>Dn.value.map(e=>({absoluteIndex:e.absoluteIndex,period:e[0],open:e[1],high:e[2],low:e[3],close:e[4],volume:e[5]}))),q=m(()=>H.value.width/On.value.length),An=m(()=>({max:P.value.style.layout.grid.yAxis.scale.max===null?Math.max(...K.value.map(e=>e.high)):P.value.style.layout.grid.yAxis.scale.max,min:P.value.style.layout.grid.yAxis.scale.min===null?0:P.value.style.layout.grid.yAxis.scale.min})),J=m(()=>he(An.value.min,An.value.max,P.value.style.layout.grid.yAxis.dataLabels.steps));function jn(e,t,n=null,r=null){return{...e,x:T(H.value.left+t*q.value+q.value/2),y:T(H.value.top+(1-(e-J.value.min)/(J.value.max-J.value.min))*H.value.height),value:T(e),isMax:e===n,isMin:e===r}}let Y=m(()=>{let e={o:Math.max(...K.value.map(e=>e.open)),h:Math.max(...K.value.map(e=>e.high)),l:Math.max(...K.value.map(e=>e.low)),c:Math.max(...K.value.map(e=>e.low))},t={o:Math.min(...K.value.map(e=>e.open)),h:Math.min(...K.value.map(e=>e.high)),l:Math.min(...K.value.map(e=>e.low)),c:Math.min(...K.value.map(e=>e.low))},n=Math.max(...K.value.map(e=>e.volume)),r=Math.min(...K.value.map(e=>e.volume));return K.value.map((i,a)=>{let o=jn(i.open,a,e.o,t.o),s=jn(i.high,a,e.h,t.h),c=jn(i.low,a,e.l,t.l),l=jn(i.close,a,e.c,t.c),u=i.close>i.open,d=i.volume===n,ee=i.volume===r;return{period:i.period,open:o,high:s,low:c,close:l,volume:i.volume,isBullish:u,absoluteIndex:i.absoluteIndex,isMaxVolume:d,isMinVolume:ee}})});function Mn({item:e,index:t,minimapH:n,unitW:r}){let i=P.value.style.layout.grid.yAxis.scale.min??0,a=P.value.style.layout.grid.yAxis.scale.max??Math.max(...I.value.map(e=>e[2]));return{...e,x:T(t*r),y:T((1-(e-i)/(a-i))*n),value:T(e)}}let Nn=m(()=>({minimapH:e,unitW:t})=>kn.value.map((n,r)=>{let i=Mn({item:n.open,index:r,minimapH:e,unitW:t}),a=Mn({item:n.high,index:r,minimapH:e,unitW:t}),o=Mn({item:n.low,index:r,minimapH:e,unitW:t}),s=Mn({item:n.close,index:r,minimapH:e,unitW:t}),c=n.close>n.open;return{period:n.period,open:i,high:a,low:o,close:s,volume:n.volume,isBullish:c,absoluteIndex:n.absoluteIndex}})),Pn=m(()=>P.value.style.zoom.minimap.show?[{name:``,series:I.value.map(e=>e[2]),color:`#000000`,isVisible:!0}]:[]);function Fn(e){return T((e-J.value.min)/(J.value.max-J.value.min))}let In=m(()=>J.value.ticks.map(e=>({y:H.value.bottom-H.value.height*Fn(e),value:T(e)}))),Ln=m(()=>K.value.map(e=>e.period)),X=x([]),Rn=x([]),zn=0;oe(()=>{let e=++zn;(async()=>{let t=await xe({values:I.value.map(e=>e[0]),maxDatapoints:I.value.length,formatter:P.value.style.layout.grid.xAxis.dataLabels.datetimeFormatter,start:W.value.start,end:W.value.end});e===zn&&(X.value=t)})()});let Bn=0;oe(()=>{let e=++Bn;(async()=>{let t=await xe({values:I.value.map(e=>e[0]),maxDatapoints:I.value.length,formatter:P.value.style.layout.grid.xAxis.dataLabels.datetimeFormatter,start:0,end:U.value});e===Bn&&(Rn.value=t)})()});let Vn=m(()=>{let e=P.value.style.layout.grid.xAxis.dataLabels.modulo;return X.value.length?Math.min(e,[...new Set(X.value.map(e=>e.text))].length):e}),Hn=x({months:[],shortMonths:[],days:[],shortDays:[]}),Un=0;oe(()=>{let e=++Un,t=P.value.style.layout.grid.xAxis.dataLabels.datetimeFormatter;(async()=>{let n=await Se(t.locale).catch(()=>Se(`en`));e===Un&&(Hn.value=n.data)})()});let Wn=m(()=>{let e=P.value.style.layout.grid.xAxis.dataLabels.datetimeFormatter,t=Ce({useUTC:e.useUTC,locale:Hn.value,januaryAsYear:e.januaryAsYear});return(e,n)=>{let r=I.value.map(e=>e[0])?.[e];return r==null?``:t.formatDate(new Date(r),n)}}),Gn=m(()=>(I.value.map(e=>e[0])||[]).map((e,t)=>({text:Wn.value(t,P.value.style.tooltip.timeFormat),absoluteIndex:t}))),Kn=m(()=>(I.value.map(e=>e[0])||[]).map((e,t)=>({text:Wn.value(t,P.value.style.zoom.timeFormat),absoluteIndex:t}))),qn=m(()=>{let e=P.value.style.layout.grid.xAxis.dataLabels,t=X.value||[],n=Rn.value||[],r=W.value.start??0,i=k.value,a=U.value,o=t.map(e=>e?.text??``),s=n.map(e=>e?.text??``);return le(!!e.showOnlyFirstAndLast,!!e.showOnlyAtModulo,Math.max(1,Vn.value||1),o,s,r,i,a)}),Jn=m(()=>P.value.style.layout.grid.xAxis.dataLabels.datetimeFormatter.enable?{start:X.value.find(e=>e.absoluteIndex===W.value.start)?.text??``,end:X.value.find(e=>e.absoluteIndex===W.value.end-1)?.text??``}:{start:I.value[W.value.start]?I.value[W.value.start][0]:I.value[0][0],end:I.value[W.value.end-1]?I.value[W.value.end-1][0]:I.value.at(-1)[0]}),Yn=x(null);function Xn(e,t){P.value.events.datapointClick&&P.value.events.datapointClick({datapoint:t,seriesIndex:e+W.value.start})}function Zn(e,t){P.value.events.datapointLeave&&P.value.events.datapointLeave({datapoint:t,seriesIndex:e+W.value.start}),k.value=void 0,Vt.value=!1}ae(()=>E.selectedXIndex,e=>{if([null,void 0].includes(E.selectedXIndex)){k.value=null;return}let t=e-W.value.start;t<0||e>=W.value.end?k.value=null:k.value=t??null},{immediate:!0});function Qn(e,t){P.value.events.datapointEnter&&P.value.events.datapointEnter({datapoint:t,seriesIndex:e+W.value.start}),k.value=e,Yn.value={datapoint:t,seriesIndex:e,series:Y.value,config:P.value},wr({seriesIndex:e,datapoint:t});let n=P.value.style.tooltip.customFormat;if(ce(n)&&ve(()=>n({seriesIndex:e,datapoint:t,series:Y.value,config:P.value})))Ht.value=n({seriesIndex:e,datapoint:t,series:Y.value,config:P.value});else if(P.value.style.tooltip.show){let n=``,{period:r,open:i,high:a,low:o,close:s,volume:c,isBullish:l}=Y.value[e],{period:u,open:d,high:ee,low:f,close:te,volume:ne}=P.value.translations,re=P.value.style.layout.grid.xAxis.dataLabels.datetimeFormatter.enable?P.value.style.tooltip.useDefaultTimeFormat?X.value[e].text:Gn.value[e].text:r;n+=`<div><svg style="margin-right:6px" viewBox="0 0 12 12" height="12" width="12"><rect x="0" y="0" height="12" width="12" rx="${P.value.style.layout.candle.borderRadius*3}" stroke="${P.value.style.layout.candle.stroke}" stroke-width="${P.value.style.layout.candle.strokeWidth}" 
                fill="${P.value.style.layout.candle.gradient.show?l?`url(#bullish_gradient_${O.value})`:`url(#bearish_gradient_${O.value})`:l?P.value.style.layout.candle.colors.bullish:P.value.style.layout.candle.colors.bearish}"/></svg>${re}</div>`,n+=`${ne} : <b>${isNaN(c)?`-`:Number(c.toFixed(P.value.style.tooltip.roundingValue)).toLocaleString()}</b>`,n+=`<div style="margin-top:6px;padding-top:6px;border-top:1px solid ${P.value.style.tooltip.borderColor}">`;let p=C({p:P.value.style.tooltip.prefix,v:i.value,s:P.value.style.tooltip.suffix,r:P.value.style.tooltip.roundingValue}),m=C({p:P.value.style.tooltip.prefix,v:a.value,s:P.value.style.tooltip.suffix,r:P.value.style.tooltip.roundingValue}),ie=C({p:P.value.style.tooltip.prefix,v:o.value,s:P.value.style.tooltip.suffix,r:P.value.style.tooltip.roundingValue}),h=C({p:P.value.style.tooltip.prefix,v:s.value,s:P.value.style.tooltip.suffix,r:P.value.style.tooltip.roundingValue});P.value.style.tooltip.showChart?n+=`<div style="width:100%;display:flex;align-items:center;justify-content:center;">
                    <svg viewBox="0 0 100 100" width="100px" style="background: transparent; overflow: visible">
                        <g>
                            <line x1="50" x2="50" y1="20" y2="80" stroke="${t.isBullish?P.value.style.layout.candle.colors.bullish:P.value.style.layout.candle.colors.bearish}" stroke-width="2" stroke-linecap="round" />
                            ${t.isBullish?`
                                <line x1="45" x2="50" y1="65" y2="65" stroke="${P.value.style.layout.candle.colors.bullish}" stroke-width="1.5" stroke-linecap="round" />
                                <line x1="50" x2="55" y1="35" y2="35" stroke="${P.value.style.layout.candle.colors.bullish}" stroke-width="1.5" stroke-linecap="round" />
                                <text x="38" y="70" text-anchor="end" fill="${P.value.style.tooltip.color}">${p}</text>
                                <text x="62" y="40" text-anchor="start" fill="${P.value.style.tooltip.color}">${h}</text>
                            `:`
                                <line x1="45" x2="50" y1="35" y2="35" stroke="${P.value.style.layout.candle.colors.bearish}" stroke-width="1.5" stroke-linecap="round" />
                                <line x1="50" x2="55" y1="65" y2="65" stroke="${P.value.style.layout.candle.colors.bearish}" stroke-width="1.5" stroke-linecap="round" />
                                <text x="40" y="40" text-anchor="end" fill="${P.value.style.tooltip.color}">${p}</text>
                                <text x="60" y="70" text-anchor="start" fill="${P.value.style.tooltip.color}">${h}</text>
                            `}
                            <text x="50" y="13" text-anchor="middle" fill="${P.value.style.tooltip.color}">${m}</text>
                            <text x="50" y="97" text-anchor="middle" fill="${P.value.style.tooltip.color}">${ie}</text>
                        <g>
                    </svg>
                    <div>
                `:(n+=`<div>${d}: <b>${p}</b></div>`,n+=`<div>${ee}: <b>${m}</b></div>`,n+=`<div>${f}: <b>${ie}</b></div>`,n+=`<div>${te}: <b>${h}</b></div>`),n+=`</div>`,Ht.value=`<div style="text-align:right">${n}</div>`}Vt.value=!0}let $n=x(null);function er(){return new Promise(e=>requestAnimationFrame(()=>requestAnimationFrame(()=>e())))}a(()=>{$n.value&&cancelAnimationFrame($n.value)});async function tr(){ir(),await se(),$n.value&&cancelAnimationFrame($n.value),$n.value=requestAnimationFrame(async()=>{await er(),ir()})}let Z=x(!1),nr=x(!1),rr=x(!1);function ir(){if(!Z.value){Z.value=!0;try{let{startIndex:e,endIndex:t}=P.value.style.zoom,n=U.value,r=e??0,i=t==null?n:Math.min(ar(t+1),n);rr.value=!0,W.value.start=r,W.value.end=i,G.value.start=r,G.value.end=i,En(),nr.value=!0}finally{queueMicrotask(()=>{rr.value=!1}),Z.value=!1}}}function ar(e){let t=U.value;return e>t?t:e<0||e<W.value.start?P.value.style.zoom.startIndex===null?1:P.value.style.zoom.startIndex+1:e}function or(e=null){se(()=>{let t=[P.value.translations.period,P.value.translations.open,P.value.translations.high,P.value.translations.low,P.value.translations.close,P.value.translations.volume],n=Y.value.map((e,t)=>[P.value.style.layout.grid.xAxis.dataLabels.datetimeFormatter.enable?X.value[t].text:e.period,e.open.value,e.high.value,e.low.value,e.close.value,e.volume]),r=ge([[P.value.style.title.text],[P.value.style.title.subtitle.text],[[``],[``],[``]],t].concat(n));e?e(r):ue({csvContent:r,title:P.value.style.title.text||`vue-ui-candlestick`})})}let sr=m(()=>{let e=Y.value.map((e,t)=>{let n=P.value.style.layout.grid.xAxis.dataLabels.datetimeFormatter.enable?X.value?.[t]?.text??``:e.period,r=C({p:P.value.table.td.prefix,v:e.open.value,s:P.value.table.td.suffix,r:P.value.table.td.roundingValue}),i=C({p:P.value.table.td.prefix,v:e.high.value,s:P.value.table.td.suffix,r:P.value.table.td.roundingValue}),a=C({p:P.value.table.td.prefix,v:e.low.value,s:P.value.table.td.suffix,r:P.value.table.td.roundingValue}),o=C({p:P.value.table.td.prefix,v:e.close.value,s:P.value.table.td.suffix,r:P.value.table.td.roundingValue});return[`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 12" height="12" width="12" style="margin-right: 6px"><rect x="0" y="0" height="12" width="12" rx="${P.value.style.layout.candle.borderRadius*3}" fill="${P.value.style.layout.candle.gradient.show?e.isBullish?`url(#bullish_gradient_${O.value}`:`url(#bearish_gradient_${O.value})`:e.isBullish?P.value.style.layout.candle.colors.bullish:P.value.style.layout.candle.colors.bearish}"/></svg> ${n}`,r,i,a,o,`${isNaN(e.volume)?`-`:e.volume.toLocaleString()}`]}),t={th:{backgroundColor:P.value.table.th.backgroundColor,color:P.value.table.th.color,outline:P.value.table.th.outline},td:{backgroundColor:P.value.table.td.backgroundColor,color:P.value.table.td.color,outline:P.value.table.td.outline},breakpoint:P.value.table.responsiveBreakpoint},n=[P.value.translations.period,P.value.translations.open,P.value.translations.high,P.value.translations.low,P.value.translations.last,P.value.translations.volume];return{head:n,body:e,config:t,colNames:n}}),Q=x(!1);function cr(e){Q.value=e,Ut.value+=1}function lr(){V.value.showTable=!V.value.showTable}function ur(){V.value.showTooltip=!V.value.showTooltip}let dr=x(!1);function fr(){dr.value=!dr.value}async function pr({scale:e=2}={}){if(!A.value)return;let{width:t,height:n}=A.value.getBoundingClientRect(),r=t/n,{imageUri:i,base64:a}=await Ne({domElement:A.value,base64:!0,img:!0,scale:e});return{imageUri:i,base64:a,title:P.value.style.title.text,width:t,height:n,aspectRatio:r}}let mr=m(()=>L.value.width),hr=m(()=>L.value.height);Me({timeLabelsEls:M,timeLabels:X,slicer:W,configRef:P,rotationPath:[`style`,`layout`,`grid`,`xAxis`,`dataLabels`,`rotation`],autoRotatePath:[`style`,`layout`,`grid`,`xAxis`,`dataLabels`,`autoRotate`,`enable`],isAutoSize:!1,rotation:P.value.style.layout.grid.xAxis.dataLabels.autoRotate.angle,width:mr,height:hr}),ae(P,()=>{V.value={showTable:P.value.table.show,showTooltip:P.value.style.tooltip.show}},{immediate:!0});let $=m(()=>{let e=P.value.table.useDialog&&!P.value.table.show,t=V.value.showTable;return{component:e?Pt:We,title:`${P.value.style.title.text}${P.value.style.title.subtitle.text?`: ${P.value.style.title.subtitle.text}`:``}`,props:e?{backgroundColor:P.value.table.th.backgroundColor,color:P.value.table.th.color,headerColor:P.value.table.th.color,headerBg:P.value.table.th.backgroundColor,isFullscreen:Q.value,fullscreenParent:A.value,forcedWidth:Math.min(800,window.innerWidth*.8),isCursorPointer:nn.value}:{hideDetails:!0,config:{open:t,maxHeight:1e4,body:{backgroundColor:P.value.style.backgroundColor,color:P.value.style.color},head:{backgroundColor:P.value.style.backgroundColor,color:P.value.style.color}}}}});ae(()=>V.value.showTable,e=>{P.value.table.show||(e&&P.value.table.useDialog&&N.value?N.value.open():`close`in N.value&&N.value.close())});function gr(){V.value.showTable=!1,Qt.value&&Qt.value.setTableIconState(!1)}let _r=m(()=>P.value.style.backgroundColor),{exportSvg:vr,getSvg:yr}=Ae({svg:ln,title:m(()=>P.value.style.title),backgroundColor:_r});async function br({isCb:e}){tn.value=!0,await se();try{if(e){let{blob:e,url:t,text:n,dataUrl:r}=await yr();await Promise.resolve(P.value.userOptions.callbacks.svg({blob:e,url:t,text:n,dataUrl:r}))}else await Promise.resolve(vr())}finally{tn.value=!1}}function xr(e){$t.value=e}function Sr(e){Z.value||rr.value||e!==W.value.start&&(W.value.start=e,G.value.start=e,En())}function Cr(e){if(Z.value||rr.value)return;let t=ar(e);t!==W.value.end&&(W.value.end=t,G.value.end=t,En())}function wr({seriesIndex:e,datapoint:t}){Rt(`selectX`,{dataset:t,index:W.value.start+e,indexLabel:``})}function Tr(e){if(e?.stage===`start`){en.value=!0;return}if(e?.stage===`end`){en.value=!1;return}_n()}async function Er(){if(Rt(`copyAlt`,{config:P.value,dataset:Y.value}),!P.value.userOptions.callbacks.altCopy){console.warn("Vue Data UI - A callback must be set for `altCopy` in userOptions.");return}await Promise.resolve(P.value.userOptions.callbacks.altCopy({config:P.value,dataset:Y.value}))}return Be({getImage:pr,generatePdf:gn,generateCsv:or,generateImage:_n,generateSvg:br,toggleTable:lr,toggleTooltip:ur,toggleAnnotator:fr,toggleFullscreen:cr,copyAlt:Er}),(i,a)=>(o(),y(`div`,{ref_key:`candlestickChart`,ref:A,class:e(`vue-data-ui-component vue-ui-candlestick ${Q.value?`vue-data-ui-wrapper-fullscreen`:``} ${P.value.useCssAnimation?``:`vue-ui-dna`}`),style:c(`position:relative;font-family:${P.value.style.fontFamily}; text-align:center;background:${P.value.style.backgroundColor}; ${P.value.responsive?`height: 100%`:``}`),id:`vue-ui-candlestick_${O.value}`,onMouseenter:un,onMouseleave:dn},[P.value.userOptions.buttons.annotator?(o(),f(r(Ke),{key:0,svgRef:r(ln),backgroundColor:P.value.style.backgroundColor,color:P.value.style.color,active:dr.value,isCursorPointer:nn.value,onClose:fr},{"annotator-action-close":_(()=>[d(i.$slots,`annotator-action-close`,{},void 0,!0)]),"annotator-action-color":_(({color:e})=>[d(i.$slots,`annotator-action-color`,h(s({color:e})),void 0,!0)]),"annotator-action-draw":_(({mode:e})=>[d(i.$slots,`annotator-action-draw`,h(s({mode:e})),void 0,!0)]),"annotator-action-undo":_(({disabled:e})=>[d(i.$slots,`annotator-action-undo`,h(s({disabled:e})),void 0,!0)]),"annotator-action-redo":_(({disabled:e})=>[d(i.$slots,`annotator-action-redo`,h(s({disabled:e})),void 0,!0)]),"annotator-action-delete":_(({disabled:e})=>[d(i.$slots,`annotator-action-delete`,h(s({disabled:e})),void 0,!0)]),_:3},8,[`svgRef`,`backgroundColor`,`color`,`active`,`isCursorPointer`])):t(``,!0),vn.value?(o(),y(`div`,{key:1,ref_key:`noTitle`,ref:qt,class:`vue-data-ui-no-title-space`,style:`height:36px; width: 100%;background:transparent`},null,512)):t(``,!0),P.value.style.title.text?(o(),y(`div`,{key:2,ref_key:`chartTitle`,ref:Wt,style:`width:100%;background:transparent`},[(o(),f(Pe,{key:`title_${Xt.value}`,config:{title:{cy:`candlestick-div-title`,...P.value.style.title},subtitle:{cy:`candlestick-div-subtitle`,...P.value.style.title.subtitle}}},null,8,[`config`]))],512)):t(``,!0),P.value.userOptions.show&&zt.value&&(r(cn)||r(on))?(o(),f(r(qe),{ref_key:`userOptionsRef`,ref:Qt,key:`user_options_${Ut.value}`,backgroundColor:P.value.style.backgroundColor,color:P.value.style.color,isImaging:r(hn),isPrinting:r(mn),uid:O.value,hasTooltip:P.value.userOptions.buttons.tooltip&&P.value.style.tooltip.show,hasPdf:P.value.userOptions.buttons.pdf,hasImg:P.value.userOptions.buttons.img,hasSvg:P.value.userOptions.buttons.svg,hasXls:P.value.userOptions.buttons.csv,hasTable:P.value.userOptions.buttons.table,hasFullscreen:P.value.userOptions.buttons.fullscreen,hasAltCopy:P.value.userOptions.buttons.altCopy,isFullscreen:Q.value,isTooltip:V.value.showTooltip,titles:{...P.value.userOptions.buttonTitles},chartElement:A.value,position:P.value.userOptions.position,hasAnnotator:P.value.userOptions.buttons.annotator,isAnnotation:dr.value,callbacks:P.value.userOptions.callbacks,printScale:P.value.userOptions.print.scale,tableDialog:P.value.table.useDialog,isCursorPointer:nn.value,onToggleFullscreen:cr,onGeneratePdf:r(gn),onGenerateCsv:or,onGenerateImage:Tr,onGenerateSvg:br,onToggleTable:lr,onToggleTooltip:ur,onToggleAnnotator:fr,onCopyAlt:Er,style:c({visibility:r(cn)?r(on)?`visible`:`hidden`:`visible`})},ne({_:2},[i.$slots.menuIcon?{name:`menuIcon`,fn:_(({isOpen:e,color:t})=>[d(i.$slots,`menuIcon`,h(s({isOpen:e,color:t})),void 0,!0)]),key:`0`}:void 0,i.$slots.optionTooltip?{name:`optionTooltip`,fn:_(()=>[d(i.$slots,`optionTooltip`,{},void 0,!0)]),key:`1`}:void 0,i.$slots.optionPdf?{name:`optionPdf`,fn:_(()=>[d(i.$slots,`optionPdf`,{},void 0,!0)]),key:`2`}:void 0,i.$slots.optionCsv?{name:`optionCsv`,fn:_(()=>[d(i.$slots,`optionCsv`,{},void 0,!0)]),key:`3`}:void 0,i.$slots.optionImg?{name:`optionImg`,fn:_(()=>[d(i.$slots,`optionImg`,{},void 0,!0)]),key:`4`}:void 0,i.$slots.optionSvg?{name:`optionSvg`,fn:_(()=>[d(i.$slots,`optionSvg`,{},void 0,!0)]),key:`5`}:void 0,i.$slots.optionTable?{name:`optionTable`,fn:_(()=>[d(i.$slots,`optionTable`,{},void 0,!0)]),key:`6`}:void 0,i.$slots.optionFullscreen?{name:`optionFullscreen`,fn:_(({toggleFullscreen:e,isFullscreen:t})=>[d(i.$slots,`optionFullscreen`,h(s({toggleFullscreen:e,isFullscreen:t})),void 0,!0)]),key:`7`}:void 0,i.$slots.optionAnnotator?{name:`optionAnnotator`,fn:_(({toggleAnnotator:e,isAnnotator:t})=>[d(i.$slots,`optionAnnotator`,h(s({toggleAnnotator:e,isAnnotator:t})),void 0,!0)]),key:`8`}:void 0,i.$slots.optionAltCopy?{name:`optionAltCopy`,fn:_(({altCopy:e})=>[d(i.$slots,`optionAltCopy`,h(s({altCopy:e})),void 0,!0)]),key:`9`}:void 0]),1032,`backgroundColor.color.isImaging.isPrinting.uid.hasTooltip.hasPdf.hasImg.hasSvg.hasXls.hasTable.hasFullscreen.hasAltCopy.isFullscreen.isTooltip.titles.chartElement.position.hasAnnotator.isAnnotation.callbacks.printScale.tableDialog.isCursorPointer.onGeneratePdf.style`.split(`.`))):t(``,!0),(o(),y(`svg`,{ref_key:`svgRef`,ref:ln,xmlns:r(_e),"aria-label":P.value.style.title.text||`candlestick chart`,class:e({"vue-data-ui-fullscreen--on":Q.value,"vue-data-ui-fulscreen--off":!Q.value}),viewBox:`0 0 ${L.value.width<=0?10:L.value.width} ${L.value.height<=0?10:L.value.height}`,style:c(`max-width:100%;overflow:visible;background:transparent;color:${P.value.style.color}`)},[u(r(Ye)),i.$slots[`chart-background`]?(o(),y(`foreignObject`,{key:0,x:H.value.left,y:H.value.top,width:Math.max(.1,H.value.width),height:Math.max(.1,H.value.height),style:{pointerEvents:`none`}},[d(i.$slots,`chart-background`,{},void 0,!0)],8,Qe)):t(``,!0),Y.value.length>0?(o(),y(`g`,$e,[b(`defs`,null,[b(`linearGradient`,{id:`bearish_gradient_${O.value}`,x2:`0%`,y2:`100%`},[b(`stop`,{offset:`0%`,"stop-color":P.value.style.layout.candle.colors.bearish},null,8,tt),b(`stop`,{offset:`50%`,"stop-color":`${r(ye)(P.value.style.layout.candle.colors.bearish,.02)}DE`},null,8,nt),b(`stop`,{offset:`100%`,"stop-color":`${r(ye)(P.value.style.layout.candle.colors.bearish,.05)}66`},null,8,rt)],8,et),b(`linearGradient`,{id:`bullish_gradient_${O.value}`,x2:`0%`,y2:`100%`},[b(`stop`,{offset:`0%`,"stop-color":P.value.style.layout.candle.colors.bullish},null,8,at),b(`stop`,{offset:`50%`,"stop-color":`${r(ye)(P.value.style.layout.candle.colors.bullish,.02)}DE`},null,8,ot),b(`stop`,{offset:`100%`,"stop-color":`${r(ye)(P.value.style.layout.candle.colors.bullish,.05)}66`},null,8,st)],8,it)]),P.value.style.layout.grid.show?(o(),y(`g`,ct,[b(`line`,{x1:H.value.left,x2:H.value.left,y1:H.value.top,y2:H.value.bottom,stroke:P.value.style.layout.grid.stroke,"stroke-width":P.value.style.layout.grid.strokeWidth,"stroke-linecap":`round`},null,8,lt),b(`line`,{x1:H.value.left,x2:H.value.right,y1:H.value.bottom,y2:H.value.bottom,stroke:P.value.style.layout.grid.stroke,"stroke-width":P.value.style.layout.grid.strokeWidth,"stroke-linecap":`round`},null,8,ut),P.value.style.layout.grid.horizontalLines.show?(o(!0),y(v,{key:0},p(In.value,e=>(o(),y(`line`,{x1:H.value.left,x2:H.value.right,y1:e.y,y2:e.y,stroke:P.value.style.layout.grid.horizontalLines.stroke,"stroke-width":P.value.style.layout.grid.horizontalLines.strokeWidth,"stroke-dasharray":P.value.style.layout.grid.horizontalLines.strokeDasharray,"stroke-linecap":`round`},null,8,dt))),256)):t(``,!0),P.value.style.layout.grid.verticalLines.show?(o(!0),y(v,{key:1},p(qn.value,(e,n)=>(o(),y(`g`,null,[e.text?(o(),y(`line`,{key:0,x1:H.value.left+q.value*n+q.value/2,x2:H.value.left+q.value*n+q.value/2,y1:H.value.top,y2:H.value.bottom,stroke:P.value.style.layout.grid.verticalLines.stroke,"stroke-width":P.value.style.layout.grid.verticalLines.strokeWidth,"stroke-dasharray":P.value.style.layout.grid.verticalLines.strokeDasharray,"stroke-linecap":`round`},null,8,ft)):t(``,!0)]))),256)):t(``,!0),P.value.style.layout.grid.xAxis.ticks.show?(o(!0),y(v,{key:2},p(qn.value,(e,n)=>(o(),y(`g`,null,[e.text?(o(),y(`line`,{key:0,x1:H.value.left+q.value*n+q.value/2,x2:H.value.left+q.value*n+q.value/2,y1:H.value.bottom,y2:H.value.bottom+3,stroke:P.value.style.layout.grid.stroke,"stroke-width":P.value.style.layout.grid.strokeWidth,"stroke-linecap":`round`},null,8,pt)):t(``,!0)]))),256)):t(``,!0)])):t(``,!0),P.value.style.layout.grid.yAxis.dataLabels.show?(o(),y(`g`,{key:1,ref_key:`scaleLabels`,ref:Zt},[(o(!0),y(v,null,p(In.value,(e,n)=>(o(),y(`g`,null,[e.value>=J.value.min&&e.value<=J.value.max?(o(),y(`line`,{key:0,x1:H.value.left,x2:H.value.left-5,y1:e.y,y2:e.y,stroke:P.value.style.layout.grid.stroke,"stroke-width":P.value.style.layout.grid.strokeWidth,"stroke-linecap":`round`},null,8,mt)):t(``,!0),e.value>=J.value.min&&e.value<=J.value.max?(o(),y(`text`,{key:1,x:H.value.left-8+P.value.style.layout.grid.yAxis.dataLabels.offsetX,y:e.y+L.value.yAxisFontSize/3,"font-size":L.value.yAxisFontSize,"text-anchor":`end`,fill:P.value.style.layout.grid.yAxis.dataLabels.color,"font-weight":P.value.style.layout.grid.yAxis.dataLabels.bold?`bold`:`normal`},l(r(C)({p:P.value.style.layout.grid.yAxis.dataLabels.prefix,v:e.value,s:P.value.style.layout.grid.yAxis.dataLabels.suffix,r:P.value.style.layout.grid.yAxis.dataLabels.roundingValue})),9,ht)):t(``,!0)]))),256))],512)):t(``,!0),P.value.style.layout.grid.xAxis.dataLabels.show&&!P.value.style.layout.grid.xAxis.dataLabels.datetimeFormatter.enable?(o(),y(`g`,{key:2,ref_key:`timeLabelsEls`,ref:M},[(o(!0),y(v,null,p(Ln.value,(e,t)=>(o(),y(`g`,null,[b(`text`,{class:`vue-data-ui-time-label`,transform:`translate(${H.value.left+q.value*t+q.value/2}, ${H.value.bottom+L.value.xAxisFontSize*1.5}), rotate(${P.value.style.layout.grid.xAxis.dataLabels.rotation})`,"text-anchor":P.value.style.layout.grid.xAxis.dataLabels.rotation>0?`start`:P.value.style.layout.grid.xAxis.dataLabels.rotation<0?`end`:`middle`,"font-size":L.value.xAxisFontSize,fill:P.value.style.layout.grid.xAxis.dataLabels.color,"font-weight":P.value.style.layout.grid.xAxis.dataLabels.bold?`bold`:`normal`},l(e),9,gt)]))),256))],512)):t(``,!0),P.value.style.layout.grid.xAxis.dataLabels.show&&P.value.style.layout.grid.xAxis.dataLabels.datetimeFormatter.enable?(o(),y(`g`,{key:3,ref_key:`timeLabelsEls`,ref:M},[(o(!0),y(v,null,p(qn.value,(e,t)=>(o(),y(`g`,null,[b(`text`,{class:`vue-data-ui-time-label`,transform:`translate(${H.value.left+q.value*t+q.value/2}, ${H.value.bottom+L.value.xAxisFontSize*1.5}), rotate(${P.value.style.layout.grid.xAxis.dataLabels.rotation})`,"text-anchor":P.value.style.layout.grid.xAxis.dataLabels.rotation>0?`start`:P.value.style.layout.grid.xAxis.dataLabels.rotation<0?`end`:`middle`,"font-size":L.value.xAxisFontSize,fill:P.value.style.layout.grid.xAxis.dataLabels.color,"font-weight":P.value.style.layout.grid.xAxis.dataLabels.bold?`bold`:`normal`},l(e?.text??``),9,_t)]))),256))],512)):t(``,!0),P.value.type===`candlestick`?(o(),y(v,{key:4},[b(`g`,null,[(o(!0),y(v,null,p(Y.value,(n,i)=>(o(),y(`g`,null,[b(`rect`,{x:n.open.x-P.value.style.layout.wick.strokeWidth/2,y:n.high.y,width:P.value.style.layout.wick.strokeWidth,height:Math.abs(n.high.y-n.low.y),fill:P.value.style.layout.wick.stroke,stroke:`none`,rx:P.value.style.layout.wick.strokeWidth/2,class:e({"vue-data-ui-transition":D.value&&!r(F)})},null,10,vt),P.value.style.layout.wick.extremity.shape===`circle`?(o(),y(`g`,yt,[b(`circle`,{cx:n.high.x,cy:n.high.y,r:P.value.style.layout.wick.extremity.size===`auto`?q.value/20:P.value.style.layout.wick.extremity.size,fill:P.value.style.layout.wick.extremity.color,class:e({"vue-data-ui-transition":D.value&&!r(F)})},null,10,bt),b(`circle`,{cx:n.low.x,cy:n.low.y,r:P.value.style.layout.wick.extremity.size===`auto`?q.value/20:P.value.style.layout.wick.extremity.size,fill:P.value.style.layout.wick.extremity.color,class:e({"vue-data-ui-transition":D.value&&!r(F)})},null,10,xt)])):t(``,!0),P.value.style.layout.wick.extremity.shape===`line`?(o(),y(`g`,St,[b(`rect`,{x:n.high.x-(P.value.style.layout.wick.extremity.size===`auto`?q.value*P.value.style.layout.candle.widthRatio:P.value.style.layout.wick.extremity.size)/2,y:n.high.y-P.value.style.layout.wick.strokeWidth/2,width:Math.abs(n.high.x-(P.value.style.layout.wick.extremity.size===`auto`?q.value*P.value.style.layout.candle.widthRatio:P.value.style.layout.wick.extremity.size)/2-(n.high.x+(P.value.style.layout.wick.extremity.size===`auto`?q.value*P.value.style.layout.candle.widthRatio:P.value.style.layout.wick.extremity.size)/2)),height:P.value.style.layout.wick.strokeWidth,rx:P.value.style.layout.wick.strokeWidth/2,fill:P.value.style.layout.wick.extremity.color,stroke:`none`,class:e({"vue-data-ui-transition":D.value&&!r(F)})},null,10,Ct),b(`rect`,{x:n.low.x-(P.value.style.layout.wick.extremity.size===`auto`?q.value*P.value.style.layout.candle.widthRatio:P.value.style.layout.wick.extremity.size)/2,y:n.low.y-P.value.style.layout.wick.strokeWidth/2,width:Math.abs(n.low.x-(P.value.style.layout.wick.extremity.size===`auto`?q.value*P.value.style.layout.candle.widthRatio:P.value.style.layout.wick.extremity.size)/2-(n.low.x+(P.value.style.layout.wick.extremity.size===`auto`?q.value*P.value.style.layout.candle.widthRatio:P.value.style.layout.wick.extremity.size)/2)),height:P.value.style.layout.wick.strokeWidth,fill:P.value.style.layout.wick.extremity.color,stroke:`none`,rx:P.value.style.layout.wick.strokeWidth/2,class:e({"vue-data-ui-transition":D.value&&!r(F)})},null,10,wt)])):t(``,!0)]))),256))]),b(`g`,null,[(o(!0),y(v,null,p(Y.value,(t,n)=>(o(),y(`rect`,{x:t.open.x-q.value/2+q.value*(1-P.value.style.layout.candle.widthRatio)/2,y:t.isBullish?t.close.y:t.open.y,height:Math.abs(t.close.y-t.open.y)<=0?1e-4:Math.abs(t.close.y-t.open.y),width:q.value*P.value.style.layout.candle.widthRatio<=0?1e-4:q.value*P.value.style.layout.candle.widthRatio,fill:P.value.style.layout.candle.gradient.underlayer,rx:P.value.style.layout.candle.borderRadius,stroke:`none`,class:e({"vue-data-ui-transition":D.value&&!r(F)})},null,10,Tt))),256)),(o(!0),y(v,null,p(Y.value,(t,n)=>(o(),y(`rect`,{x:t.open.x-q.value/2+q.value*(1-P.value.style.layout.candle.widthRatio)/2,y:t.isBullish?t.close.y:t.open.y,height:Math.abs(t.close.y-t.open.y)<=0?1e-4:Math.abs(t.close.y-t.open.y),width:q.value*P.value.style.layout.candle.widthRatio<=0?1e-4:q.value*P.value.style.layout.candle.widthRatio,fill:t.isBullish?P.value.style.layout.candle.gradient.show?`url(#bullish_gradient_${O.value})`:P.value.style.layout.candle.colors.bullish:P.value.style.layout.candle.gradient.show?`url(#bearish_gradient_${O.value})`:P.value.style.layout.candle.colors.bearish,rx:P.value.style.layout.candle.borderRadius,stroke:P.value.style.layout.candle.stroke,"stroke-width":P.value.style.layout.candle.strokeWidth,"stroke-linecap":`round`,"stroke-linejoin":`round`,class:e({"vue-data-ui-transition":D.value&&!r(F)})},null,10,Et))),256))])],64)):t(``,!0),P.value.type===`ohlc`?(o(!0),y(v,{key:5},p(Y.value,(e,t)=>(o(),y(`g`,null,[b(`path`,{d:`M ${e.high.x},${e.high.y} ${e.low.x},${e.low.y} M${e.open.x-Math.min(6,q.value/3)},${e.open.y} ${e.open.x},${e.open.y} M${e.close.x},${e.close.y} ${e.close.x+Math.min(6,q.value/3)},${e.close.y}`,stroke:e.isBullish?P.value.style.layout.candle.colors.bullish:P.value.style.layout.candle.colors.bearish,"stroke-width":1},null,8,Dt)]))),256)):t(``,!0),b(`g`,null,[(o(!0),y(v,null,p(Y.value,(e,t)=>(o(),y(`rect`,{x:H.value.left+t*q.value,y:H.value.top,height:H.value.height<=0?1e-4:H.value.height,width:q.value<=0?1e-4:q.value,fill:k.value===t||$t.value===t?r(be)(P.value.style.layout.selector.color,P.value.style.layout.selector.opacity):`transparent`,onMouseover:()=>Qn(t,e),onMouseleave:()=>Zn(t,e),onClick:()=>Xn(t,e)},null,40,Ot))),256))])])):t(``,!0),wn.value?(o(),y(`rect`,ee({key:2},Cn.value,{"data-start":W.value.start,"data-end":W.value.end}),null,16,kt)):t(``,!0),d(i.$slots,`svg`,{svg:{...L.value,data:Y.value,drawingArea:H.value,isPrintingImg:r(mn)|r(hn)|en.value,isPrintingSvg:tn.value}},void 0,!0)],14,Ze)),i.$slots.watermark?(o(),y(`div`,At,[d(i.$slots,`watermark`,h(s({isPrinting:r(mn)||r(hn)||en.value||tn.value})),void 0,!0)])):t(``,!0),P.value.style.zoom.show&&U.value>6&&zt.value&&nr.value?(o(),f(Le,{key:5,ref_key:`chartSlicer`,ref:j,allMinimaps:Pn.value,background:P.value.style.zoom.color,borderColor:P.value.style.backgroundColor,customFormat:P.value.style.zoom.customFormat,cutNullValues:!1,enableRangeHandles:P.value.style.zoom.enableRangeHandles,enableSelectionDrag:P.value.style.zoom.enableSelectionDrag,end:W.value.end,focusOnDrag:P.value.style.zoom.focusOnDrag,focusRangeRatio:P.value.style.zoom.focusRangeRatio,fontSize:P.value.style.zoom.fontSize,immediate:!P.value.style.zoom.preview.enable,inputColor:P.value.style.zoom.color,isPreview:wn.value,labelLeft:Jn.value.start||``,labelRight:Jn.value.end||``,max:U.value,min:0,minimap:P.value.style.zoom.minimap.show?r(I).map(e=>e[2]):[],minimapCompact:P.value.style.zoom.minimap.compact,minimapFrameColor:P.value.style.zoom.minimap.frameColor,minimapIndicatorColor:P.value.style.zoom.minimap.indicatorColor,minimapMerged:!1,minimapSelectedColor:P.value.style.zoom.minimap.selectedColor,minimapSelectedColorOpacity:P.value.style.zoom.minimap.selectedColorOpacity,minimapSelectedIndex:k.value,minimapSelectionRadius:1,preciseLabels:Kn.value,refreshEndPoint:P.value.style.zoom.endIndex===null?U.value:P.value.style.zoom.endIndex+1,refreshStartPoint:P.value.style.zoom.startIndex===null?0:P.value.style.zoom.startIndex,selectColor:P.value.style.zoom.highlightColor,selectedSeries:r(I),smoothMinimap:!1,start:W.value.start,textColor:P.value.style.color,timeLabels:Rn.value,usePreciseLabels:P.value.style.layout.grid.xAxis.dataLabels.datetimeFormatter.enable&&!P.value.style.zoom.useDefaultFormat,useResetSlot:P.value.style.zoom.useResetSlot,valueEnd:W.value.end,valueStart:W.value.start,verticalHandles:P.value.style.zoom.minimap.verticalHandles,minScale:P.value.style.layout.grid.yAxis.scale.min,maxScale:P.value.style.layout.grid.yAxis.scale.max,maxWidth:P.value.style.zoom.maxWidth,additionalMinimapHeight:P.value.style.zoom.minimap.additionalHeight,handleType:P.value.style.zoom.minimap.handleType,handleIconColor:P.value.style.zoom.minimap.handleIconColor,handleBorderWidth:P.value.style.zoom.minimap.handleBorderWidth,handleBorderColor:P.value.style.zoom.minimap.handleBorderColor,handleFill:P.value.style.zoom.minimap.handleFill,handleWidth:P.value.style.zoom.minimap.handleWidth,"onUpdate:end":Cr,"onUpdate:start":Sr,onTrapMouse:xr,onReset:tr,onFutureEnd:a[0]||=e=>Tn(`end`,e),onFutureStart:a[1]||=e=>Tn(`start`,e)},{"reset-action":_(({reset:e})=>[d(i.$slots,`reset-action`,h(s({reset:e})),void 0,!0)]),slotMap:_(({height:e,unitW:t})=>[(o(!0),y(v,null,p(Nn.value({minimapH:e,unitW:t}),(e,n)=>(o(),y(`g`,null,[b(`path`,{d:`M ${e.high.x},${e.high.y} ${e.low.x},${e.low.y}`,stroke:e.isBullish?P.value.style.layout.candle.colors.bullish:P.value.style.layout.candle.colors.bearish,"stroke-width":1,style:c({opacity:n>=G.value.start&&n<=G.value.end?1:.6})},null,12,jt),b(`path`,{d:`M ${e.open.x},${e.open.y} ${e.close.x},${e.close.y}`,stroke:e.isBullish?P.value.style.layout.candle.colors.bullish:P.value.style.layout.candle.colors.bearish,"stroke-width":Math.min(6,t/1.5),style:c({opacity:n>=G.value.start&&n<=G.value.end?1:.6})},null,12,Mt)]))),256))]),_:3},8,`allMinimaps.background.borderColor.customFormat.enableRangeHandles.enableSelectionDrag.end.focusOnDrag.focusRangeRatio.fontSize.immediate.inputColor.isPreview.labelLeft.labelRight.max.minimap.minimapCompact.minimapFrameColor.minimapIndicatorColor.minimapSelectedColor.minimapSelectedColorOpacity.minimapSelectedIndex.preciseLabels.refreshEndPoint.refreshStartPoint.selectColor.selectedSeries.start.textColor.timeLabels.usePreciseLabels.useResetSlot.valueEnd.valueStart.verticalHandles.minScale.maxScale.maxWidth.additionalMinimapHeight.handleType.handleIconColor.handleBorderWidth.handleBorderColor.handleFill.handleWidth`.split(`.`))):t(``,!0),b(`div`,{ref_key:`chartLegend`,ref:Gt},[d(i.$slots,`legend`,{legend:Y.value},void 0,!0)],512),i.$slots.source?(o(),y(`div`,{key:6,ref_key:`source`,ref:Kt,dir:`auto`},[d(i.$slots,`source`,{},void 0,!0)],512)):t(``,!0),u(r(Ue),{teleportTo:P.value.style.tooltip.teleportTo,show:V.value.showTooltip&&Vt.value,backgroundColor:P.value.style.tooltip.backgroundColor,color:P.value.style.tooltip.color,borderRadius:P.value.style.tooltip.borderRadius,borderColor:P.value.style.tooltip.borderColor,borderWidth:P.value.style.tooltip.borderWidth,fontSize:P.value.style.tooltip.fontSize,backgroundOpacity:P.value.style.tooltip.backgroundOpacity,position:P.value.style.tooltip.position,offsetY:P.value.style.tooltip.offsetY,parent:A.value,content:Ht.value,isFullscreen:Q.value,isCustom:P.value.style.tooltip.customFormat&&typeof P.value.style.tooltip.customFormat==`function`,smooth:P.value.style.tooltip.smooth,backdropFilter:P.value.style.tooltip.backdropFilter,smoothForce:P.value.style.tooltip.smoothForce,smoothSnapThreshold:P.value.style.tooltip.smoothSnapThreshold},{"tooltip-before":_(()=>[d(i.$slots,`tooltip-before`,h(s({...Yn.value})),void 0,!0)]),"tooltip-after":_(()=>[d(i.$slots,`tooltip-after`,h(s({...Yn.value})),void 0,!0)]),_:3},8,[`teleportTo`,`show`,`backgroundColor`,`color`,`borderRadius`,`borderColor`,`borderWidth`,`fontSize`,`backgroundOpacity`,`position`,`offsetY`,`parent`,`content`,`isFullscreen`,`isCustom`,`smooth`,`backdropFilter`,`smoothForce`,`smoothSnapThreshold`]),zt.value&&P.value.userOptions.buttons.table?(o(),f(ie($.value.component),ee({key:7},$.value.props,{ref_key:`tableUnit`,ref:N,onClose:gr}),ne({content:_(()=>[(o(),f(r(Ge),{key:`table_${Yt.value}`,colNames:sr.value.colNames,head:sr.value.head,body:sr.value.body,config:sr.value.config,title:P.value.table.useDialog?``:$.value.title,withCloseButton:!P.value.table.useDialog,isCursorPointer:nn.value,onClose:gr},{th:_(({th:e})=>[n(l(e),1)]),td:_(({td:e})=>[b(`div`,{innerHTML:e},null,8,Nt)]),_:1},8,[`colNames`,`head`,`body`,`config`,`title`,`withCloseButton`,`isCursorPointer`]))]),_:2},[P.value.table.useDialog?{name:`title`,fn:_(()=>[n(l($.value.title),1)]),key:`0`}:void 0,P.value.table.useDialog?{name:`actions`,fn:_(()=>[b(`button`,{tabindex:`0`,class:`vue-ui-user-options-button`,onClick:a[2]||=e=>or(P.value.userOptions.callbacks.csv),style:c({cursor:nn.value?`pointer`:`default`})},[u(r(He),{name:`fileCsv`,stroke:$.value.props.color},null,8,[`stroke`])],4)]),key:`1`}:void 0]),1040)):t(``,!0),d(i.$slots,`skeleton`,{},()=>[r(F)?(o(),f(Oe,{key:0})):t(``,!0)],!0)],46,Xe))}},[[`__scopeId`,`data-v-b191e88c`]]),Ft=Object.freeze(Object.defineProperty({__proto__:null,default:Pt},Symbol.toStringTag,{value:`Module`}));export{Ye as a,Ft as b};