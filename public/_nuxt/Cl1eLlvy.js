const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./CbFHGlY2.js","./BLt7TXlb.js","./Cf-0F-2c.js","./B9jcbJ_P.js","./xh7dz5-d.js","./CWNsAIol.js","./DdyLBgN8.js","./C66xQW7K.js","./DuIAB7Tu.js","./DHC76net.js","./BDmUravP.js","./D7-tWLRc.js","./CBD7ngdF.js","./BIodG7vT.js"])))=>i.map(i=>d[i]);
import{At as e,C as t,D as n,Dt as r,G as i,H as a,J as o,M as s,Mt as c,Nt as l,O as u,Q as d,R as ee,S as f,T as te,Tt as ne,Z as p,b as m,et as re,f as ie,it as ae,jt as h,k as g,lt as _,m as v,o as oe,ot as y,w as b,x,yt as S,z as se}from"./BLt7TXlb.js";import{t as ce}from"./YZkb6lnT.js";import{F as le,Lt as ue,Mt as C,N as de,Nt as fe,P as pe,V as me,_t as he,a as ge,bt as _e,dt as ve,h as ye,it as w,pt as be,rt as xe,u as T,v as Se,vt as Ce,wt as we,y as Te,z as Ee}from"./Cf-0F-2c.js";import{n as De,t as Oe}from"./8DvoFuCx.js";import{t as ke}from"./Cme7ewGR.js";import{t as Ae}from"./CWNsAIol.js";import{n as je,t as Me}from"./D4ushAer.js";import{t as Ne}from"./CLl0-3D6.js";import{t as Pe}from"./BwaPX4qL.js";import{t as Fe}from"./BDmUravP.js";import{t as Ie}from"./BIZzPpPz.js";import{t as Le}from"./C0O4I1kb.js";import{a as Re,n as ze}from"./D4v1zV2y.js";import{t as Be}from"./CRSLCJ2m.js";import{t as Ve}from"./CB2Wh4RA.js";import{t as He}from"./BEpjx3T_.js";import{t as Ue}from"./DMqKe8aR.js";import{t as We}from"./DCHQRohe.js";import{t as Ge}from"./CMjlbb0z.js";var Ke={userOptions:{show:!1},style:{chart:{layout:{bars:{useGradient:!1,borderRadius:1}},legend:{show:!1}}}},qe={userOptions:{show:!1},style:{chart:{backgroundColor:`#1A1A1A`,color:`#CCCCCC`,layout:{separators:{color:`#4A4A4A`},bars:{useGradient:!1,borderRadius:1,underlayerColor:`#1A1A1A`,dataLabels:{color:`#CCCCCC`},nameLabels:{color:`#CCCCCC`},parentLabels:{color:`#CCCCCC`}},highlighter:{color:`#CCCCCC`}},legend:{show:!1,backgroundColor:`#1A1A1A`,color:`#CCCCCC`,selectAllToggle:{backgroundColor:`#3A3A3A`,color:`#CCCCCC`}},title:{color:`#CCCCCC`,subtitle:{color:`#757575`}},tooltip:{backgroundColor:`#1A1A1A`,backgroundOpacity:70,color:`#CCCCCC`,borderColor:`#3A3A3A`}}},table:{th:{backgroundColor:`#1A1A1A`,color:`#CCCCCC`},td:{backgroundColor:`#1A1A1A`,color:`#CCCCCC`}}},Je={style:{chart:{backgroundColor:`#1A1A1A`,color:`#CCCCCC`,layout:{separators:{color:`#4A4A4A`},bars:{dataLabels:{color:`#CCCCCC`},nameLabels:{color:`#CCCCCC`},parentLabels:{color:`#CCCCCC`}},highlighter:{color:`#CCCCCC`}},legend:{backgroundColor:`#1A1A1A`,color:`#CCCCCC`,selectAllToggle:{backgroundColor:`#3A3A3A`,color:`#CCCCCC`}},title:{color:`#CCCCCC`,subtitle:{color:`#757575`}},tooltip:{backgroundColor:`#1A1A1A`,backgroundOpacity:70,color:`#CCCCCC`,borderColor:`#5A5A5A`}}},table:{th:{backgroundColor:`#1A1A1A`,color:`#CCCCCC`},td:{backgroundColor:`#1A1A1A`,color:`#CCCCCC`}}},Ye={style:{chart:{backgroundColor:`#FFF8E1`,color:`#424242`,layout:{bars:{borderRadius:0,useGradient:!1,dataLabels:{color:`#424242`},nameLabels:{color:`#424242`},parentLabels:{color:`#424242`}},highlighter:{color:`#FF8A65`},separators:{show:!1}},legend:{backgroundColor:`#FFF8E1`,color:`#424242`,selectAllToggle:{backgroundColor:`#5D4037`,color:`#FFF8E1`}},title:{color:`#424242`,subtitle:{color:`#757575`}},tooltip:{backgroundColor:`#FFECB3`,backgroundOpacity:30,color:`#424242`,borderColor:`#FF8A65`}}},table:{th:{backgroundColor:`#FFF8E1`,color:`#424242`},td:{backgroundColor:`#FFF8E1`,color:`#424242`}}},Xe={style:{chart:{backgroundColor:`#1E1E1E`,color:`#BDBDBD`,layout:{bars:{borderRadius:0,useGradient:!1,dataLabels:{color:`#BDBDBD`},nameLabels:{color:`#BDBDBD`},parentLabels:{color:`#FFF8E1`}},highlighter:{color:`#FF8A65`},separators:{show:!1}},legend:{backgroundColor:`#1E1E1E`,color:`#BDBDBD`,selectAllToggle:{backgroundColor:`#3A3A3A`,color:`#BDBDBD`}},title:{color:`#FFF8E1`,subtitle:{color:`#BDBDBD`}},tooltip:{backgroundColor:`#1E1E1E`,backgroundOpacity:30,color:`#FFF8E1`,borderColor:`#FF8A65`}}},table:{th:{backgroundColor:`#1E1E1E`,color:`#BDBDBD`},td:{backgroundColor:`#1E1E1E`,color:`#BDBDBD`}}},Ze={style:{chart:{backgroundColor:`#1A1A1A`,color:`#99AA99`,layout:{bars:{borderRadius:0,useGradient:!1,dataLabels:{color:`#AACCAA`},nameLabels:{color:`#99CC99`},parentLabels:{color:`#99CC99`}},highlighter:{color:`#66CC66`},separators:{show:!1}},legend:{backgroundColor:`#1A1A1A`,color:`#99AA99`,selectAllToggle:{backgroundColor:`#3A3A3A`,color:`#99AA99`}},title:{color:`#66CC66`,subtitle:{color:`#99AA99`}},tooltip:{backgroundColor:`#2A2F2A`,color:`#AACCAA`,borderColor:`#66CC66`}}},table:{th:{backgroundColor:`#1A1A1A`,color:`#99AA99`},td:{backgroundColor:`#1A1A1A`,color:`#AACCAA`}}},Qe={style:{chart:{backgroundColor:`#fbfafa`,color:`#8A9892`,layout:{bars:{borderRadius:8,useGradient:!0,dataLabels:{color:`#A0AC94`},nameLabels:{color:`#8A9892`},parentLabels:{color:`#8A9892`}},highlighter:{color:`#8F837A`},separators:{show:!1}},legend:{backgroundColor:`#fbfafa`,color:`#99AA99`,selectAllToggle:{backgroundColor:`#E0CFC3`,color:`#8F837A`}},title:{color:`#8A9892`,subtitle:{color:`#99AA99`}},tooltip:{backgroundColor:`#fbfafa`,color:`#8A9892`}}},table:{th:{backgroundColor:`#fbfafa`,color:`#8F837A`},td:{backgroundColor:`#fbfafa`,color:`#8F837A`}}},$e={style:{chart:{backgroundColor:`#f6f6fb`,color:`#50606C`,layout:{bars:{borderRadius:0,useGradient:!0,dataLabels:{color:`#61747E`},nameLabels:{color:`#8A9892`},parentLabels:{color:`#8A9892`}},highlighter:{color:`#50606C`},separators:{show:!0,color:`#DEE1DE`}},legend:{backgroundColor:`#f6f6fb`,color:`#61747E`,selectAllToggle:{backgroundColor:`#50606C`,color:`#f6f6fb`}},title:{color:`#50606C`,subtitle:{color:`#718890`}},tooltip:{backgroundColor:`#f6f6fb`,color:`#50606C`}}},table:{th:{backgroundColor:`#f6f6fb`,color:`#50606C`},td:{backgroundColor:`#f6f6fb`,color:`#50606C`}}},et={default:{},minimal:Ke,minimalDark:qe,dark:Je,celebration:Ye,celebrationNight:Xe,hack:Ze,zen:Qe,concrete:$e},tt=Object.freeze(Object.defineProperty({__proto__:null,celebration:Ye,celebrationNight:Xe,concrete:$e,dark:Je,default:et,hack:Ze,minimal:Ke,minimalDark:qe,zen:Qe},Symbol.toStringTag,{value:`Module`})),nt=[`id`],rt=[`onClick`],it=[`xmlns`,`viewBox`],at=[`width`,`height`],ot=[`id`],st=[`stop-color`],ct=[`stop-color`],lt={key:1},ut=[`x`,`y`,`width`,`height`,`fill`,`rx`],dt=[`x`,`y`,`width`,`height`,`fill`,`rx`,`stroke`,`stroke-width`],ft=[`x`,`y`,`width`,`height`,`fill`,`rx`,`stroke`,`stroke-width`],pt=[`x1`,`x2`,`y1`,`y2`,`stroke`,`stroke-width`],mt=[`x1`,`x2`,`y1`,`y2`,`stroke`,`stroke-width`],ht={class:`vue-ui-horizontal-bar-parent-label`},gt=[`y`,`height`,`width`,`fill`],_t=[`y`,`font-size`,`fill`,`x`,`font-weight`,`innerHTML`],vt=[`y`,`font-size`,`fill`,`x`,`font-weight`],yt={class:`vue-ui-horizontal-bar-child-label`},bt=[`x`,`y`,`font-size`,`font-weight`,`innerHTML`],xt={class:`vue-ui-horizontal-bar-child-label`},St=[`x`,`y`,`font-size`,`fill`,`font-weight`,`innerHTML`],Ct={class:`vue-ui-horizontal-bar-child-label`},wt=[`x`,`y`,`text-anchor`,`font-size`,`fill`,`font-weight`],Tt=[`y`,`width`,`height`,`fill`,`onMouseenter`,`onMouseleave`,`onClick`],Et={key:5,class:`vue-data-ui-watermark`},Dt=[`onClick`],Ot={style:`width:100%;padding-top: 36px;position:relative`},kt={class:`vue-ui-data-table`},At={key:0},jt={style:{width:`100%`}},Mt=[`data-cell`],Nt={style:{display:`flex`,"align-items":`center`,gap:`5px`,"justify-content":`flex-end`,width:`100%`,"padding-right":`3px`}},Pt=[`data-cell`],Ft={style:{display:`flex`,"align-items":`center`,gap:`5px`,"justify-content":`flex-end`,width:`100%`,"padding-right":`3px`}},It=[`data-cell`],Lt={style:{display:`flex`,"align-items":`center`,gap:`5px`,"justify-content":`flex-end`,width:`100%`,"padding-right":`3px`}},Rt=[`data-cell`],zt={style:{display:`flex`,"align-items":`center`,gap:`5px`,"justify-content":`flex-end`,width:`100%`,"padding-right":`3px`}},Bt=[`data-cell`],Vt={style:{display:`flex`,"align-items":`center`,gap:`5px`,"justify-content":`flex-end`,width:`100%`,"padding-right":`3px`}},Ht=[`data-cell`],Ut={style:{display:`flex`,"align-items":`center`,gap:`5px`,"justify-content":`flex-end`,width:`100%`,"padding-right":`3px`}},Wt=[`data-cell`],Gt={style:{display:`flex`,"align-items":`center`,gap:`5px`,"justify-content":`flex-end`,width:`100%`,"padding-right":`3px`}},Kt=Ae({__name:`vue-ui-horizontal-bar`,props:{config:{type:Object,default(){return{}}},dataset:{type:Array,default(){return[]}}},emits:[`selectLegend`,`copyAlt`],setup(Ae,{expose:Ke,emit:qe}){oe(e=>({da33bd4a:e.tdo}));let Je=g(()=>ce(()=>import(`./CbFHGlY2.js`),__vite__mapDeps([0,1,2]),import.meta.url)),Ye=g(()=>ce(()=>import(`./B9jcbJ_P.js`),__vite__mapDeps([3,4,1,5,2]),import.meta.url)),Xe=g(()=>ce(()=>import(`./DdyLBgN8.js`),__vite__mapDeps([6,1,4,5,2,7,8]),import.meta.url)),Ze=g(()=>ce(()=>import(`./DHC76net.js`),__vite__mapDeps([9,1,4,5,2,10,11,8]),import.meta.url)),Qe=g(()=>ce(()=>import(`./CBD7ngdF.js`),__vite__mapDeps([12,1]),import.meta.url)),$e=g(()=>ce(()=>import(`./BIodG7vT.js`),__vite__mapDeps([13,1,4,5,2]),import.meta.url)),{vue_ui_vertical_bar:tt}=Oe(),{isThemeValid:Kt,warnInvalidTheme:qt}=Pe(),Jt=ae(),E=Ae,Yt=m({get(){return!!E.dataset&&E.dataset.length},set(e){return e}}),D=S(fe()),Xt=S(!1),Zt=S(``),Qt=S(null),$t=S(0),O=S(null),en=S(null),tn=S(null),nn=S(null),rn=S(null),an=S(0),on=S(0),sn=S(null),cn=S(null),ln=S(null),un=S(null),dn=S(null),k=S([]),fn=S({none:0,asc:1,desc:2}),A=S(0),pn=S(!1),mn=S(0),j=S(0),hn=S(null),gn=S(!1),_n=S(!1),vn=qe,M=S(On()),N=m(()=>M.value.userOptions.useCursorPointer),yn=m(()=>E.config?.skeletonDataset??[{name:``,value:6,color:`#d9d9d9`},{name:``,value:5,color:`#d9d9d9`},{name:``,value:4,color:`#d9d9d9`},{name:``,value:3,color:`#d9d9d9`},{name:``,value:2,color:`#d9d9d9`},{name:``,value:1,color:`#d9d9d9`}]),bn=m(()=>pe({defaultConfig:{useCssAnimation:!1,userOptions:{show:!1},table:{show:!1},style:{chart:{backgroundColor:`#99999930`,layout:{bars:{offsetX:110,dataLabels:{color:`transparent`,value:{prefix:``,suffix:``,formatter:null}},nameLabels:{color:`transparent`}},separators:{color:`#7A7A7A`}},legend:{show:!0,backgroundColor:`transparent`,color:`transparent`,prefix:``,suffix:``,formatter:null},title:{color:`#1A1A1A`,subtitle:{color:`#5A5A5A`}}}}},userConfig:M.value.skeletonConfig??{}})),{loading:xn,FINAL_DATASET:Sn,manualLoading:Cn}=Me({...ne(E),FINAL_CONFIG:M,prepareConfig:On,callback:()=>{Promise.resolve().then(async()=>{z.value.showTable=M.value.table.show,zn()})},skeletonDataset:yn.value,skeletonConfig:pe({defaultConfig:M.value,userConfig:bn.value})}),{userOptionsVisible:wn,setUserOptionsVisibility:Tn,keepUserOptionState:En}=Ue({config:M.value}),{svgRef:Dn}=He({config:M.value.style.chart.title});function On(){let e=De({userConfig:E.config,defaultConfig:tt}),t={},n=e.theme;if(n)if(!Kt.value(e))qt(e),t=e;else{let r=De({userConfig:et[n]||E.config,defaultConfig:e});t={...De({userConfig:E.config,defaultConfig:r}),customPalette:e.customPalette.length?e.customPalette:ve[n]||w}}else t=e;return E.config&&Se(E.config,`events.datapointEnter`)?t.events.datapointEnter=E.config.events.datapointEnter:t.events.datapointEnter=null,E.config&&Se(E.config,`events.datapointLeave`)?t.events.datapointLeave=E.config.events.datapointLeave:t.events.datapointLeave=null,E.config&&Se(E.config,`events.datapointClick`)?t.events.datapointClick=E.config.events.datapointClick:t.events.datapointClick=null,t}let P=S(M.value.style.chart.width),F=S(M.value.style.chart.height),I=S(M.value.style.chart.layout.bars.gap);y(()=>E.config,e=>{xn.value||(M.value=On()),wn.value=!M.value.userOptions.showOnChartHover,an.value+=1,on.value+=1,z.value.showTable=M.value.table.show,z.value.sortDesc=M.value.style.chart.layout.bars.sort===`desc`,z.value.showTooltip=M.value.style.chart.tooltip.show,P.value=M.value.style.chart.width,F.value=M.value.style.chart.height,I.value=M.value.style.chart.layout.bars.gap},{deep:!0}),y(()=>E.dataset,e=>{Array.isArray(e)&&e.length>0&&(Cn.value=!1)},{deep:!0});let{isPrinting:kn,isImaging:An,generatePdf:jn,generateImage:Mn}=ke({elementId:`vue-ui-vertical-bar_${D.value}`,fileName:M.value.style.chart.title.text||`vue-ui-vertical-bar`,options:M.value.userOptions.print}),Nn=m(()=>M.value.userOptions.show&&!M.value.style.chart.title.text),Pn=m(()=>Te(M.value.customPalette)),Fn=S(null),In=m(()=>M.value.table.responsiveBreakpoint),Ln=m(()=>!!M.value.debug),Rn=S(0),L=S(null),R=S(null);function zn(){if(O.value&&(me(E.dataset)&&(ye({componentName:`VueUiVerticalBar`,type:`dataset`,debug:Ln.value}),Yt.value=!1,Cn.value=!0),me(E.dataset)||(Cn.value=M.value.loading),M.value.responsive)){let e=ze(()=>{let{width:e,height:t}=Re({chart:O.value,title:M.value.style.chart.title.text?en.value:null,legend:M.value.style.chart.legend.show?tn.value:null,source:nn.value,noTitle:rn.value});Rn.value=t/3,requestAnimationFrame(async()=>{F.value=t,P.value=e})});L.value&&(R.value&&L.value.unobserve(R.value),L.value.disconnect()),L.value=new ResizeObserver(e),se(()=>{R.value=O.value?.parentNode,R.value&&L.value.observe(R.value)})}}a(()=>{L.value&&(R.value&&L.value.unobserve(R.value),L.value.disconnect())});let z=S({showTable:M.value.table.show,sortDesc:M.value.style.chart.layout.bars.sort===`desc`,showTooltip:M.value.style.chart.tooltip.show}),Bn=m(()=>z.value.sortDesc),B=m(()=>(Sn.value.forEach((e,t)=>{!e.value&&!e.children&&ye({componentName:`VueUiVerticalBar`,type:`datasetAttributeEmpty`,property:`value (index ${t})`,debug:Ln.value}),e.children&&(me(e.children)?ye({componentName:`VueUiVerticalBar`,type:`datasetAttributeEmpty`,property:`children (index ${t})`,debug:Ln.value}):e.children.forEach((e,t)=>{[null,void 0].includes(e.name)&&ye({componentName:`VueUiVerticalBar`,type:`datasetSerieAttribute`,property:`name`,key:`children`,index:t,debug:Ln.value})}))}),Sn.value.map((e,t)=>{let n=`vertical_parent_${t}_${D.value}`,r=e.children&&e.children.length>0,i=T(e.value?e.value:r?e.children.map(e=>e.value||0).reduce((e,t)=>e+t,0):0),a=i>=0?1:-1;return{...e,id:n,absoluteIndex:t,shape:`square`,opacity:k.value.includes(n)?.5:1,value:Math.abs(i),sign:a,hasChildren:r,isChild:!1,segregate:()=>J(n),isSegregated:k.value.includes(n),color:he(e.color)||Pn.value[t]||w[t]||w[t%w.length],children:!e.children||!e.children.length?[]:e.children.toSorted(pn.value?()=>0:(e,t)=>Bn.value?t.value-e.value:e.value-t.value).map((r,o)=>({...r,value:T(Math.abs(r.value)),absoluteIndex:t,sign:r.value>=0?1:-1,isChild:!0,parentId:n,parentName:e.name,parentValue:i,parentSign:a,id:`vertical_child_${t}_${o}_${D.value}`,childIndex:o,color:he(r.color)||he(e.color)||Pn.value[t]||w[t]||w[t%w.length]})).map((t,n)=>({...t,isFirstChild:n===0,isLastChild:n===e.children.length-1}))}}).toSorted(pn.value?()=>0:(e,t)=>Bn.value?t.value-e.value:e.value-t.value))),V=m(()=>B.value.filter(e=>!k.value.includes(e.id))),H=m(()=>V.value.flatMap(e=>e.hasChildren?e.children:e)),Vn=m(()=>B.value.flatMap(e=>e.hasChildren?e.children:e)),Hn=m(()=>V.value.flatMap(e=>e.children&&e.children.length>0?e.children.length:1).reduce((e,t)=>e+t,0)),Un=m(()=>({cy:`vertical-bar-div-legend`,backgroundColor:M.value.style.chart.legend.backgroundColor,color:M.value.style.chart.legend.color,fontSize:M.value.style.chart.legend.fontSize,paddingBottom:12,fontWeight:M.value.style.chart.legend.bold?`bold`:``})),U=m(()=>M.value.style.chart.layout.bars.parentLabels.show?M.value.style.chart.layout.bars.parentLabels.fontSize*3+M.value.style.chart.layout.bars.parentLabels.paddingBottom:0),W=m(()=>{let e=[],t=0;return H.value.forEach((n,r)=>{n.isChild&&n.childIndex===0&&M.value.style.chart.layout.bars.parentLabels.show&&(t+=1),e[r]=t}),e}),G=m(()=>{let e=Math.max(0,...W.value)*U.value;return(F.value-24-(Hn.value-1)*I.value-e)/Hn.value}),K=m(()=>({width:P.value,height:F.value,padding:{top:12,left:128+M.value.style.chart.layout.bars.offsetX,right:64+M.value.style.chart.layout.bars.paddingRight,bottom:12}})),Wn=S(0);function Gn(){se(()=>{if(!dn.value){Wn.value=0;return}Wn.value=Array.from(dn.value.querySelectorAll(`text`)).reduce((e,t)=>{let n=t.getBBox?.().width??t.getComputedTextLength();return n>e?n:e},0)+12})}y(()=>[H.value,P.value,F.value,M.value.style.chart.layout.bars.nameLabels,M.value.style.chart.layout.bars.offsetX],()=>Gn(),{deep:!0}),i(()=>{Gn()});function Kn(){se(()=>{mn.value=0,j.value=0,requestAnimationFrame(()=>{if(!hn.value){mn.value=0,j.value=0;return}let e=Array.from(hn.value.querySelectorAll(`text`));if(!e.length){mn.value=0,j.value=0;return}let t=1/0,n=0;e.forEach(e=>{let r=e.getBBox(),i=r.x,a=r.x+r.width;i<t&&(t=i),a>n&&(n=a)});let r=P.value,i=Math.max(0,0-t+24),a=Math.max(0,n-r+24);j.value=i,mn.value=a})})}y(k,()=>Kn(),{deep:!0}),y(()=>[H.value,P.value,F.value],()=>Kn(),{deep:!0}),i(()=>Kn());let q=m(()=>{let e=Wn.value+Math.abs(M.value.style.chart.layout.bars.nameLabels.offsetX)+j.value+M.value.style.chart.layout.bars.offsetX,t=K.value.width-K.value.padding.right,n=Math.max(0,t-e-mn.value-j.value-M.value.style.chart.layout.bars.offsetX);return{top:K.value.padding.top,bottom:K.value.padding.top+K.value.height,left:e,right:t,width:n,fullHeight:K.value.padding.top+K.value.padding.bottom+K.value.height}});function qn(){k.value.length?k.value=[]:B.value.forEach(e=>{k.value.push(e.id)}),Kn()}async function J(e){if(k.value.includes(e))k.value=k.value.filter(t=>t!==e);else{if(k.value.length===B.value.length-1)return;k.value.push(e)}vn(`selectLegend`,V.value),Kn()}function Jn(e){return B.value.length?B.value.find(t=>t.name===e)||(M.value.debug&&console.warn(`VueUiHorizontalBar - Series name not found "${e}"`),null):(M.value.debug&&console.warn(`VueUiHorizontalBar - There are no series to show.`),null)}function Yn(e){let t=Jn(e);t!==null&&k.value.includes(t.id)&&J(t.id)}function Xn(e){let t=Jn(e);t!==null&&(k.value.includes(t.id)||J(t.id))}let Y=m(()=>V.value.map(e=>Math.abs(e.value)).reduce((e,t)=>e+t,0));function Zn(e,t=!1,n=0){return t?C({v:T(Math.abs(e)/Y.value*100),s:`%`,r:n}):Math.abs(e)/Y.value}let X=m(()=>H.value.map(e=>e.sign).includes(-1)),Qn=m(()=>Math.max(...V.value.flatMap(e=>e.children&&e.children.length?Math.max(...e.children.map(e=>e.value)):e.value)));function Z(e){let t=e/Qn.value;return q.value.width/(X.value?2:1)*t}function $n(e){return Z(e)+q.value.left}function er(e,t){let n=V.value.find(t=>t.id===e.parentId);return{y:q.value.top+(I.value+G.value)*t+W.value[t]*U.value-U.value+M.value.style.chart.layout.bars.parentLabels.fontSize,name:n.name,value:[void 0,NaN,null].includes(n.value)?``:n.sign===1?n.value:-n.value,percentageToTotal:isNaN(n.value/Y.value)?``:Zn(n.value,!0,M.value.style.chart.layout.bars.dataLabels.percentage.roundingPercentage),sign:n.sign}}function tr(){return V.value}function nr(e,t){return er(e,t).name}function rr(e,t){let n=er(e,t);return lr(n.value,n,t,e.parentSign||e.sign)}let ir=S(null),ar=S(null);function or({datapoint:e,seriesIndex:t}){M.value.events.datapointClick&&M.value.events.datapointClick({datapoint:e,seriesIndex:t})}function sr({datapoint:e,seriesIndex:t}){M.value.events.datapointLeave&&M.value.events.datapointLeave({datapoint:e,seriesIndex:t}),Qt.value=null,Xt.value=!1,ir.value=null}function cr(e,t){M.value.events.datapointEnter&&M.value.events.datapointEnter({datpoint:e,seriesIndex:t}),ar.value={datapoint:e,seriesIndex:t,series:B.value,config:M.value},Xt.value=!0,ir.value=e.id;let n=``,r=e.isChild?e.parentName:e.name,i=e.isChild?e.name:``,a=M.value.style.chart.tooltip.customFormat;le(a)&&be(()=>a({datapoint:e,series:B.value,config:M.value,seriesIndex:t}))?Zt.value=a({datapoint:e,series:B.value,config:M.value,seriesIndex:t}):(n+=`<div style="width:100%;text-align:center;border-bottom:1px solid ${M.value.style.chart.tooltip.borderColor};padding-bottom:6px;margin-bottom:3px;text-align:left;">
                <div style="display:flex;align-items:center;gap:4px;"><svg viewBox="0 0 60 60" height="14" width="14"><rect x="0" y="0" height="60" width="60" rx="5" stroke="none" fill="${e.color}"/>${Jt.pattern?`<rect x="0" y="0" height="60" width="60" rx="5" stroke="none" fill="url(#pattern_${D.value}_${e.absoluteIndex})"/>`:``}</svg> ${r}</div>
                ${i?`<div>${i}</div>`:``}
            </div>`,M.value.style.chart.tooltip.showValue&&(n+=`<div>${M.value.translations.value}: <b>${we(M.value.style.chart.layout.bars.dataLabels.value.formatter,e.sign===1?e.value:-e.value,C({p:M.value.style.chart.tooltip.prefix,v:e.sign===1?e.value:-e.value,s:M.value.style.chart.tooltip.suffix,r:M.value.style.chart.tooltip.roundingValue}),{datapoint:e,seriesIndex:t})}</b></div>`),M.value.style.chart.tooltip.showPercentage&&(n+=`<div>${M.value.translations.percentageToTotal} : <b>${C({v:Math.abs(e.value)/Y.value*100,s:`%`,r:M.value.style.chart.tooltip.roundingPercentage})}</b></div>`,e.isChild&&(n+=`<div>${M.value.translations.percentageToSerie}: <b>${C({v:Math.abs(e.value)/Math.abs(e.parentValue)*100,s:`%`,r:M.value.style.chart.tooltip.roundingPercentage})}</b></div>`)),Zt.value=`<div style="text-align:left">${n}</div>`)}function lr(e,t,n,r){if(!M.value.style.chart.layout.bars.dataLabels.value.show)return``;let i=we(M.value.style.chart.layout.bars.dataLabels.value.formatter,T(r===-1&&e>=0?-e:e),C({p:M.value.style.chart.layout.bars.dataLabels.value.prefix,v:T(r===-1&&e>=0?-e:e),s:M.value.style.chart.layout.bars.dataLabels.value.suffix,r:M.value.style.chart.layout.bars.dataLabels.value.roundingValue}),{datapoint:t,seriesIndex:n}),a=`(${Zn(e,!0,M.value.style.chart.layout.bars.dataLabels.percentage.roundingPercentage)})`;return`${i}${M.value.style.chart.layout.bars.dataLabels.percentage.show?` ${a}`:``}`}let Q=m(()=>({head:[M.value.translations.parentName,M.value.translations.value,M.value.translations.percentageToTotal,M.value.translations.childName,M.value.translations.value,M.value.translations.percentageToSerie,M.value.translations.percentageToTotal],body:H.value.map(e=>e.isChild?e.isFirstChild?{color:e.color,parentName:e.parentName,parentValue:e.parentValue,percentageToTotal:e.parentValue/Y.value,childName:e.name,childValue:e.sign===1?e.value:-e.value,childPercentageToParent:Math.abs(e.value)/Math.abs(e.parentValue),childPercentageToTotal:Math.abs(e.value)/Y.value}:{color:``,parentName:``,parentValue:``,percentageToTotal:``,childName:e.name,childValue:e.sign===1?e.value:-e.value,childPercentageToParent:Math.abs(e.value)/Math.abs(e.parentValue),childPercentageToTotal:Math.abs(e.value)/Y.value}:{color:e.color,parentName:e.name,parentValue:e.sign===1?e.value:-e.value,percentageToTotal:Math.abs(e.value)/Y.value,childName:``,childValue:``,childPercentageToParent:``,childPercentageToTotal:``})}));function ur(e=null){let t=[[M.value.style.chart.title.text],[M.value.style.chart.title.subtitle.text],[``]],n=Q.value.head,r=Q.value.body.map(e=>[e.parentName,e.parentValue,e.percentageToTotal,e.childName,e.childValue,e.childPercentageToParent,e.childPercentageToTotal]),i=ge(t.concat([n]).concat(r));e?e(i):de({csvContent:i,title:M.value.style.chart.title.text||`vue-ui-vertical-bar`})}let $=S(!1);function dr(e){$.value=e,$t.value+=1}function fr(){z.value.showTable=!z.value.showTable}i(()=>{[`none`,`asc`,`desc`].includes(M.value.style.chart.layout.bars.sort)||ye({componentName:`VueUiVerticalBar`,type:`attributeWrongValue`,property:`style.chart.layout.bars.sort`,key:M.value.style.chart.layout.bars.sort}),A.value=fn.value[M.value.style.chart.layout.bars.sort],z.value.sortDesc=A.value===2,pn.value=A.value===0});function pr(){A.value+=1,A.value>2&&(A.value=0)}function mr(){pr(),z.value.sortDesc=A.value===2,pn.value=A.value===0}function hr(){z.value.showTooltip=!z.value.showTooltip}let gr=S(!1);function _r(){gr.value=!gr.value}async function vr({scale:e=2}={}){if(!O.value)return;let{width:t,height:n}=O.value.getBoundingClientRect(),r=t/n,{imageUri:i,base64:a}=await Fe({domElement:O.value,base64:!0,img:!0,scale:e});return{imageUri:i,base64:a,title:M.value.style.chart.title.text,width:t,height:n,aspectRatio:r}}let yr=m(()=>{let e=M.value.table.useDialog&&!M.value.table.show,t=z.value.showTable;return{component:e?$e:Be,title:`${M.value.style.chart.title.text}${M.value.style.chart.title.subtitle.text?`: ${M.value.style.chart.title.subtitle.text}`:``}`,props:e?{backgroundColor:M.value.table.th.backgroundColor,color:M.value.table.th.color,headerColor:M.value.table.th.color,headerBg:M.value.table.th.backgroundColor,isFullscreen:$.value,fullscreenParent:O.value,forcedWidth:Math.min(800,window.innerWidth*.8),isCursorPointer:N.value}:{hideDetails:!0,config:{open:t,maxHeight:1e4,body:{backgroundColor:M.value.style.chart.backgroundColor,color:M.value.style.chart.color},head:{backgroundColor:M.value.style.chart.backgroundColor,color:M.value.style.chart.color}}}}});y(()=>z.value.showTable,e=>{M.value.table.show||(e&&M.value.table.useDialog&&cn.value?cn.value.open():`close`in cn.value&&cn.value.close())});let{isResponsive:br}=We(Fn,In);function xr(){z.value.showTable=!1,ln.value&&ln.value.setTableIconState(!1)}let Sr=m(()=>B.value.map((e,t)=>({...e,shape:`square`,display:`${e.name}: ${we(M.value.style.chart.layout.bars.dataLabels.value.formatter,e.value,C({p:M.value.style.chart.legend.prefix,v:e.value,s:M.value.style.chart.legend.suffix,r:M.value.style.chart.legend.roundingValue}),{datapoint:e,seriesIndex:t})}`}))),Cr=m(()=>M.value.style.chart.backgroundColor),wr=m(()=>M.value.style.chart.legend),{exportSvg:Tr,getSvg:Er}=Ne({svg:Dn,title:m(()=>M.value.style.chart.title),legend:wr,legendItems:m(()=>Sr.value.map(e=>({...e,name:e.display}))),backgroundColor:Cr});async function Dr({isCb:e}){_n.value=!0,await se();try{if(e){let{blob:e,url:t,text:n,dataUrl:r}=await Er();await Promise.resolve(M.value.userOptions.callbacks.svg({blob:e,url:t,text:n,dataUrl:r}))}else await Promise.resolve(Tr())}finally{_n.value=!1}}function Or(e){if(e?.stage===`start`){gn.value=!0;return}if(e?.stage===`end`){gn.value=!1;return}Mn()}function kr(){console.warn(`[autoSize]: this legacy method can be safely removed as it has no impact.`)}async function Ar(){if(vn(`copyAlt`,{config:M.value,dataset:V.value}),!M.value.userOptions.callbacks.altCopy){console.warn("Vue Data UI - A callback must be set for `altCopy` in userOptions.");return}await Promise.resolve(M.value.userOptions.callbacks.altCopy({config:M.value,dataset:V.value}))}return Ke({autoSize:kr,getData:tr,getImage:vr,generatePdf:jn,generateCsv:ur,generateImage:Mn,generateSvg:Dr,hideSeries:Xn,showSeries:Yn,toggleTable:fr,toggleSort:mr,toggleTooltip:hr,toggleAnnotator:_r,toggleFullscreen:dr,copyAlt:Ar}),(i,a)=>(o(),b(`div`,{class:e(`vue-data-ui-component vue-ui-vertical-bar ${$.value?`vue-data-ui-wrapper-fullscreen`:``} ${M.value.useCssAnimation?``:`vue-ui-dna`} ${M.value.responsive?`vue-ui-vertical-bar-autosize`:``}`),ref_key:`verticalBarChart`,ref:O,id:`vue-ui-vertical-bar_${D.value}`,style:c(`font-family:${M.value.style.fontFamily};width:100%; text-align:center;background:${M.value.style.chart.backgroundColor};height:100%`),onMouseenter:a[3]||=()=>r(Tn)(!0),onMouseleave:a[4]||=()=>r(Tn)(!1)},[M.value.userOptions.buttons.annotator?(o(),f(r(Xe),{key:0,svgRef:r(Dn),backgroundColor:M.value.style.chart.backgroundColor,color:M.value.style.chart.color,active:gr.value,isCursorPointer:N.value,onClose:_r},{"annotator-action-close":_(()=>[d(i.$slots,`annotator-action-close`,{},void 0,!0)]),"annotator-action-color":_(({color:e})=>[d(i.$slots,`annotator-action-color`,h(s({color:e})),void 0,!0)]),"annotator-action-draw":_(({mode:e})=>[d(i.$slots,`annotator-action-draw`,h(s({mode:e})),void 0,!0)]),"annotator-action-undo":_(({disabled:e})=>[d(i.$slots,`annotator-action-undo`,h(s({disabled:e})),void 0,!0)]),"annotator-action-redo":_(({disabled:e})=>[d(i.$slots,`annotator-action-redo`,h(s({disabled:e})),void 0,!0)]),"annotator-action-delete":_(({disabled:e})=>[d(i.$slots,`annotator-action-delete`,h(s({disabled:e})),void 0,!0)]),_:3},8,[`svgRef`,`backgroundColor`,`color`,`active`,`isCursorPointer`])):t(``,!0),Nn.value?(o(),b(`div`,{key:1,ref_key:`noTitle`,ref:rn,class:`vue-data-ui-no-title-space`,style:`height:36px; width: 100%;background:transparent`},null,512)):t(``,!0),M.value.style.chart.title.text?(o(),b(`div`,{key:2,ref_key:`chartTitle`,ref:en,style:`width:100%;background:transparent;padding-bottom:12px`},[(o(),f(Ie,{key:`title_${an.value}`,config:{title:{cy:`vertical-bar-div-title`,...M.value.style.chart.title},subtitle:{cy:`vertical-bar-div-subtitle`,...M.value.style.chart.title.subtitle}}},null,8,[`config`]))],512)):t(``,!0),M.value.userOptions.show&&Yt.value&&(r(En)||r(wn))?(o(),f(r(Ze),{ref_key:`userOptionsRef`,ref:ln,backgroundColor:M.value.style.chart.backgroundColor,color:M.value.style.chart.color,key:`user_options_${$t.value}`,isImaging:r(An),isPrinting:r(kn),uid:D.value,hasTooltip:M.value.userOptions.buttons.tooltip&&M.value.style.chart.tooltip.show,hasPdf:M.value.userOptions.buttons.pdf,hasImg:M.value.userOptions.buttons.img,hasSvg:M.value.userOptions.buttons.svg,hasXls:M.value.userOptions.buttons.csv,hasTable:M.value.userOptions.buttons.table,hasSort:M.value.userOptions.buttons.sort,hasFullscreen:M.value.userOptions.buttons.fullscreen,hasAltCopy:M.value.userOptions.buttons.altCopy,isFullscreen:$.value,isTooltip:z.value.showTooltip,titles:{...M.value.userOptions.buttonTitles},chartElement:O.value,position:M.value.userOptions.position,hasAnnotator:M.value.userOptions.buttons.annotator,isAnnotation:gr.value,callbacks:M.value.userOptions.callbacks,printScale:M.value.userOptions.print.scale,tableDialog:M.value.table.useDialog,isCursorPointer:N.value,onToggleFullscreen:dr,onGeneratePdf:r(jn),onGenerateCsv:ur,onGenerateImage:Or,onGenerateSvg:Dr,onToggleTable:fr,onToggleSort:mr,onToggleTooltip:hr,onToggleAnnotator:_r,onCopyAlt:Ar,style:c({visibility:r(En)?r(wn)?`visible`:`hidden`:`visible`})},te({_:2},[i.$slots.menuIcon?{name:`menuIcon`,fn:_(({isOpen:e,color:t})=>[d(i.$slots,`menuIcon`,h(s({isOpen:e,color:t})),void 0,!0)]),key:`0`}:void 0,i.$slots.optionTooltip?{name:`optionTooltip`,fn:_(()=>[d(i.$slots,`optionTooltip`,{},void 0,!0)]),key:`1`}:void 0,i.$slots.optionPdf?{name:`optionPdf`,fn:_(()=>[d(i.$slots,`optionPdf`,{},void 0,!0)]),key:`2`}:void 0,i.$slots.optionCsv?{name:`optionCsv`,fn:_(()=>[d(i.$slots,`optionCsv`,{},void 0,!0)]),key:`3`}:void 0,i.$slots.optionImg?{name:`optionImg`,fn:_(()=>[d(i.$slots,`optionImg`,{},void 0,!0)]),key:`4`}:void 0,i.$slots.optionSvg?{name:`optionSvg`,fn:_(()=>[d(i.$slots,`optionSvg`,{},void 0,!0)]),key:`5`}:void 0,i.$slots.optionTable?{name:`optionTable`,fn:_(()=>[d(i.$slots,`optionTable`,{},void 0,!0)]),key:`6`}:void 0,i.$slots.optionLabels?{name:`optionLabels`,fn:_(()=>[d(i.$slots,`optionLabels`,{},void 0,!0)]),key:`7`}:void 0,i.$slots.optionSort?{name:`optionSort`,fn:_(()=>[d(i.$slots,`optionSort`,{},void 0,!0)]),key:`8`}:void 0,i.$slots.optionFullscreen?{name:`optionFullscreen`,fn:_(({toggleFullscreen:e,isFullscreen:t})=>[d(i.$slots,`optionFullscreen`,h(s({toggleFullscreen:e,isFullscreen:t})),void 0,!0)]),key:`9`}:void 0,i.$slots.optionAnnotator?{name:`optionAnnotator`,fn:_(({toggleAnnotator:e,isAnnotator:t})=>[d(i.$slots,`optionAnnotator`,h(s({toggleAnnotator:e,isAnnotator:t})),void 0,!0)]),key:`10`}:void 0,i.$slots.optionAltCopy?{name:`optionAltCopy`,fn:_(({altCopy:e})=>[d(i.$slots,`optionAltCopy`,h(s({altCopy:e})),void 0,!0)]),key:`11`}:void 0]),1032,`backgroundColor.color.isImaging.isPrinting.uid.hasTooltip.hasPdf.hasImg.hasSvg.hasXls.hasTable.hasSort.hasFullscreen.hasAltCopy.isFullscreen.isTooltip.titles.chartElement.position.hasAnnotator.isAnnotation.callbacks.printScale.tableDialog.isCursorPointer.onGeneratePdf.style`.split(`.`))):t(``,!0),M.value.style.chart.legend.show&&M.value.style.chart.legend.position===`top`?(o(),b(`div`,{key:4,ref_key:`chartLegend`,ref:tn},[(o(),f(Ge,{key:`legend_top_${on.value}`,legendSet:B.value,config:Un.value,onClickMarker:a[0]||=({legend:e})=>J(e.id)},te({item:_(({legend:e,index:t})=>[x(`div`,{onClick:t=>J(e.id),style:c(`opacity:${k.value.includes(e.id)?.5:1}`)},l(e.name)+`: `+l(r(we)(M.value.style.chart.layout.bars.dataLabels.value.formatter,e.value,r(C)({p:M.value.style.chart.legend.prefix,v:e.value,s:M.value.style.chart.legend.suffix,r:M.value.style.chart.legend.roundingValue}),{datapoint:e,seriesIndex:t})),13,rt)]),legendToggle:_(()=>[B.value.length>2&&M.value.style.chart.legend.selectAllToggle.show&&!r(xn)?(o(),f(Ve,{key:0,backgroundColor:M.value.style.chart.legend.selectAllToggle.backgroundColor,color:M.value.style.chart.legend.selectAllToggle.color,fontSize:M.value.style.chart.legend.fontSize,checked:k.value.length>0,onToggle:qn},null,8,[`backgroundColor`,`color`,`fontSize`,`checked`])):t(``,!0)]),_:2},[i.$slots.pattern?{name:`legend-pattern`,fn:_(({legend:e,index:t})=>[u(Le,{shape:e.shape,radius:30,stroke:`none`,plot:{x:30,y:30},fill:`url(#pattern_${D.value}_${t})`},null,8,[`shape`,`fill`])]),key:`0`}:void 0]),1032,[`legendSet`,`config`]))],512)):t(``,!0),(o(),b(`svg`,{ref_key:`svgRef`,ref:Dn,xmlns:r(_e),class:e({"vue-data-ui-fullscreen--on":$.value,"vue-data-ui-fulscreen--off":!$.value}),viewBox:`0 0 ${P.value} ${F.value}`,style:c(`max-width:100%;overflow:visible;background:transparent;color:${M.value.style.chart.color}`)},[x(`g`,{ref_key:`G`,ref:sn,class:`vue-data-ui-g`},[u(r(Qe)),i.$slots[`chart-background`]?(o(),b(`foreignObject`,{key:0,x:0,y:0,width:P.value,height:F.value,style:{pointerEvents:`none`}},[d(i.$slots,`chart-background`,{},void 0,!0)],8,at)):t(``,!0),(o(!0),b(v,null,p(H.value,(e,t)=>(o(),b(`linearGradient`,{x1:`0%`,y1:`0%`,x2:`100%`,y2:`0%`,id:`vertical_bar_gradient_${D.value}_${t}`},[x(`stop`,{offset:`0%`,"stop-color":e.color},null,8,st),x(`stop`,{offset:`100%`,"stop-color":r(Ce)(r(xe)(e.color,.03),100-M.value.style.chart.layout.bars.gradientIntensity)},null,8,ct)],8,ot))),256)),i.$slots.pattern?(o(),b(`g`,lt,[(o(!0),b(v,null,p(H.value,e=>(o(),b(`defs`,null,[d(i.$slots,`pattern`,ee({ref_for:!0},{seriesIndex:e.absoluteIndex,patternId:`pattern_${D.value}_${e.absoluteIndex}`}),void 0,!0)]))),256))])):t(``,!0),(o(!0),b(v,null,p(H.value,(t,n)=>(o(),b(`g`,null,[x(`rect`,{x:r(T)(X.value?q.value.left+q.value.width/2-(t.sign===1?0:Z(t.value)<=0?1e-4:Z(t.value)):q.value.left),y:q.value.top+(I.value+G.value)*n+W.value[n]*U.value,width:r(T)(Z(t.value)<=0?1e-4:Z(t.value)),height:G.value<=0?1e-4:G.value,fill:M.value.style.chart.layout.bars.underlayerColor,rx:M.value.style.chart.layout.bars.borderRadius,class:e({animated:M.value.useCssAnimation})},null,10,ut)]))),256)),(o(!0),b(v,null,p(H.value,(n,a)=>(o(),b(`g`,null,[x(`rect`,{x:r(T)(X.value?q.value.left+q.value.width/2-(n.sign===1?0:Z(n.value)<=0?1e-4:Z(n.value)):q.value.left),y:q.value.top+(I.value+G.value)*a+W.value[a]*U.value,width:r(T)(Z(n.value)<=0?1e-4:Z(n.value)),height:G.value<=0?1e-4:G.value,fill:M.value.style.chart.layout.bars.useGradient?`url(#vertical_bar_gradient_${D.value}_${a})`:r(Ce)(n.color,M.value.style.chart.layout.bars.fillOpacity),rx:M.value.style.chart.layout.bars.borderRadius,stroke:M.value.style.chart.layout.bars.useStroke?n.color:`none`,"stroke-width":M.value.style.chart.layout.bars.useStroke?M.value.style.chart.layout.bars.strokeWidth:0,class:e({animated:M.value.useCssAnimation})},null,10,dt),i.$slots.pattern?(o(),b(`rect`,{key:0,x:r(T)(X.value?q.value.left+q.value.width/2-(n.sign===1?0:Z(n.value)<=0?1e-4:Z(n.value)):q.value.left),y:q.value.top+(I.value+G.value)*a+W.value[a]*U.value,width:r(T)(Z(n.value)<=0?1e-4:Z(n.value)),height:G.value<=0?1e-4:G.value,fill:`url(#pattern_${D.value}_${n.absoluteIndex})`,rx:M.value.style.chart.layout.bars.borderRadius,stroke:M.value.style.chart.layout.bars.useStroke?n.color:`none`,"stroke-width":M.value.style.chart.layout.bars.useStroke?M.value.style.chart.layout.bars.strokeWidth:0,class:e({animated:M.value.useCssAnimation})},null,10,ft)):t(``,!0),(!n.isChild||n.isLastChild)&&M.value.style.chart.layout.separators.show&&a!==H.value.length-1?(o(),b(`line`,{key:1,x1:P.value,x2:M.value.style.chart.layout.separators.fullWidth?0:q.value.left,y1:G.value+I.value/2+q.value.top+(I.value+G.value)*a+W.value[a]*U.value,y2:G.value+I.value/2+q.value.top+(I.value+G.value)*a+W.value[a]*U.value,stroke:M.value.style.chart.layout.separators.color,"stroke-width":M.value.style.chart.layout.separators.strokeWidth,"stroke-linecap":`round`,style:{transition:`none !important`,animation:`none !important`}},null,8,pt)):t(``,!0),X.value&&M.value.style.chart.layout.separators.show?(o(),b(`line`,{key:2,x1:q.value.left+q.value.width/2,x2:q.value.left+q.value.width/2,y1:q.value.top,y2:q.value.bottom,stroke:M.value.style.chart.layout.separators.color,"stroke-width":M.value.style.chart.layout.separators.strokeWidth,"stroke-linecap":`round`},null,8,mt)):t(``,!0)]))),256)),x(`g`,{ref_key:`parentLabels`,ref:un},[(o(!0),b(v,null,p(H.value,(e,n)=>(o(),b(`g`,ht,[e.isChild&&e.childIndex===0&&M.value.style.chart.layout.bars.parentLabels.show?(o(),b(`rect`,{key:0,class:`vue-ui-horizontal-bar-parent-marker`,x:2,y:er(e,n).y-M.value.style.chart.layout.bars.parentLabels.fontSize/1.5,height:M.value.style.chart.layout.bars.parentLabels.fontSize/1.5,width:M.value.style.chart.layout.bars.parentLabels.fontSize/1.5,rx:1,fill:e.color,style:{animation:`none !important`,transition:`none !important`}},null,8,gt)):t(``,!0),e.isChild&&e.childIndex===0&&M.value.style.chart.layout.bars.parentLabels.show?(o(),b(`text`,{key:1,y:er(e,n).y,"font-size":M.value.style.chart.layout.bars.parentLabels.fontSize,fill:M.value.style.chart.layout.bars.parentLabels.color,x:M.value.style.chart.layout.bars.parentLabels.offsetX+M.value.style.chart.layout.bars.parentLabels.fontSize,"font-weight":M.value.style.chart.layout.bars.parentLabels.bold?`bold`:`normal`,"text-anchor":`start`,innerHTML:r(ue)({content:`${nr(e,n)}`,fontSize:M.value.style.chart.layout.bars.parentLabels.fontSize,fill:M.value.style.chart.layout.bars.parentLabels.color,x:M.value.style.chart.layout.bars.parentLabels.offsetX+M.value.style.chart.layout.bars.parentLabels.fontSize,y:er(e,n).y,translateY:!1})},null,8,_t)):t(``,!0),e.isChild&&e.childIndex===0&&M.value.style.chart.layout.bars.parentLabels.show?(o(),b(`text`,{key:2,y:er(e,n).y+r(Ee)(nr(e,n))*M.value.style.chart.layout.bars.parentLabels.fontSize*1.1,"font-size":M.value.style.chart.layout.bars.parentLabels.fontSize,fill:M.value.style.chart.layout.bars.parentLabels.color,x:M.value.style.chart.layout.bars.parentLabels.offsetX+M.value.style.chart.layout.bars.parentLabels.fontSize,"font-weight":M.value.style.chart.layout.bars.dataLabels.bold?`bold`:`normal`,"text-anchor":`start`},l(rr(e,n)),9,vt)):t(``,!0)]))),256))],512),x(`g`,{ref_key:`childLabels`,ref:dn},[(o(!0),b(v,null,p(Vn.value,(e,n)=>(o(),b(`g`,yt,[(e.isChild||!e.hasChildren)&&M.value.style.chart.layout.bars.nameLabels.show?(o(),b(`text`,{key:0,"text-anchor":`start`,x:Math.abs(M.value.style.chart.layout.bars.nameLabels.offsetX),y:r(T)(q.value.top+(I.value+G.value)*n+G.value/2+M.value.style.chart.layout.bars.nameLabels.fontSize/2+W.value[n]*U.value),"font-size":M.value.style.chart.layout.bars.nameLabels.fontSize,fill:`transparent`,"font-weight":M.value.style.chart.layout.bars.nameLabels.bold?`bold`:`normal`,style:{"user-select":`none`},innerHTML:r(ue)({content:e.name,fontSize:M.value.style.chart.layout.bars.nameLabels.fontSize,fill:`transparent`,x:Math.abs(M.value.style.chart.layout.bars.nameLabels.offsetX),y:r(T)(q.value.top+(I.value+G.value)*n+G.value/2+M.value.style.chart.layout.bars.nameLabels.fontSize/2+W.value[n]*U.value),translateY:!0})},null,8,bt)):t(``,!0)]))),256))],512),x(`g`,null,[(o(!0),b(v,null,p(H.value,(e,n)=>(o(),b(`g`,xt,[(e.isChild||!e.hasChildren)&&M.value.style.chart.layout.bars.nameLabels.show?(o(),b(`text`,{key:0,"text-anchor":`end`,x:q.value.left+M.value.style.chart.layout.bars.nameLabels.offsetX-6,y:q.value.top+(I.value+G.value)*n+G.value/2+M.value.style.chart.layout.bars.nameLabels.fontSize/3+W.value[n]*U.value,"font-size":M.value.style.chart.layout.bars.nameLabels.fontSize,fill:M.value.style.chart.layout.bars.nameLabels.color,"font-weight":M.value.style.chart.layout.bars.nameLabels.bold?`bold`:`normal`,innerHTML:r(ue)({content:e.name,fontSize:M.value.style.chart.layout.bars.nameLabels.fontSize,fill:M.value.style.chart.layout.bars.nameLabels.color,x:q.value.left+M.value.style.chart.layout.bars.nameLabels.offsetX-6,y:q.value.top+(I.value+G.value)*n+G.value/2+M.value.style.chart.layout.bars.nameLabels.fontSize/3+W.value[n]*U.value,translateY:!0})},null,8,St)):t(``,!0)]))),256))]),x(`g`,{ref_key:`dataLabels`,ref:hn},[(o(!0),b(v,null,p(H.value,(e,t)=>(o(),b(`g`,Ct,[x(`text`,{x:X.value?q.value.left+q.value.width/2+(e.sign===1?-12:12)+(e.sign===1?-M.value.style.chart.layout.bars.dataLabels.offsetX:M.value.style.chart.layout.bars.dataLabels.offsetX):Math.min($n(e.value)+3+M.value.style.chart.layout.bars.dataLabels.offsetX,q.value.right-2),y:q.value.top+(I.value+G.value)*t+G.value/2+W.value[t]*U.value+M.value.style.chart.layout.bars.dataLabels.fontSize/3,"text-anchor":!X.value||e.sign===-1?`start`:`end`,"font-size":M.value.style.chart.layout.bars.dataLabels.fontSize,fill:M.value.style.chart.layout.bars.dataLabels.color,"font-weight":M.value.style.chart.layout.bars.dataLabels.bold?`bold`:`normal`},l(lr(e.value,e,t,e.sign)),9,wt)]))),256))],512),(o(!0),b(v,null,p(H.value,(e,t)=>(o(),b(`g`,null,[x(`rect`,{x:0,y:q.value.top+(I.value+G.value)*t-I.value/2+W.value[t]*U.value,width:P.value,height:G.value+I.value<=0?1e-4:G.value+I.value,fill:ir.value===e.id?r(Ce)(M.value.style.chart.layout.highlighter.color,M.value.style.chart.layout.highlighter.opacity):`transparent`,onMouseenter:n=>cr(e,t),onMouseleave:n=>sr({datapoint:e,seriesIndex:t}),onClick:n=>or({datapoint:e,seriesIndex:t})},null,40,Tt)]))),256)),d(i.$slots,`svg`,{svg:{...K.value,isPrintingImg:r(kn)|r(An)|gn.value,isPrintingSvg:_n.value}},void 0,!0)],512)],14,it)),i.$slots.watermark?(o(),b(`div`,Et,[d(i.$slots,`watermark`,h(s({isPrinting:r(kn)||r(An)||gn.value||_n.value})),void 0,!0)])):t(``,!0),M.value.style.chart.legend.show&&M.value.style.chart.legend.position===`bottom`?(o(),b(`div`,{key:6,ref_key:`chartLegend`,ref:tn},[(o(),f(Ge,{key:`legend_bottom_${on.value}`,legendSet:B.value,config:Un.value,isCursorPointer:N.value,onClickMarker:a[1]||=({legend:e})=>J(e.id)},te({item:_(({legend:e,index:t})=>[x(`div`,{onClick:t=>J(e.id),style:c(`opacity:${k.value.includes(e.id)?.5:1}`)},l(e.name)+`: `+l(r(we)(M.value.style.chart.layout.bars.dataLabels.value.formatter,e.value,r(C)({p:M.value.style.chart.legend.prefix,v:e.value,s:M.value.style.chart.legend.suffix,r:M.value.style.chart.legend.roundingValue}),{datapoint:e,seriesIndex:t})),13,Dt)]),legendToggle:_(()=>[B.value.length>2&&M.value.style.chart.legend.selectAllToggle.show&&!r(xn)?(o(),f(Ve,{key:0,backgroundColor:M.value.style.chart.legend.selectAllToggle.backgroundColor,color:M.value.style.chart.legend.selectAllToggle.color,fontSize:M.value.style.chart.legend.fontSize,checked:k.value.length>0,isCursorPointer:N.value,onToggle:qn},null,8,[`backgroundColor`,`color`,`fontSize`,`checked`,`isCursorPointer`])):t(``,!0)]),_:2},[i.$slots.pattern?{name:`legend-pattern`,fn:_(({legend:e,index:t})=>[u(Le,{shape:e.shape,radius:30,stroke:`none`,plot:{x:30,y:30},fill:`url(#pattern_${D.value}_${t})`},null,8,[`shape`,`fill`])]),key:`0`}:void 0]),1032,[`legendSet`,`config`,`isCursorPointer`]))],512)):t(``,!0),d(i.$slots,`legend`,{legend:B.value},void 0,!0),i.$slots.source?(o(),b(`div`,{key:7,ref_key:`source`,ref:nn,dir:`auto`},[d(i.$slots,`source`,{},void 0,!0)],512)):t(``,!0),u(r(Je),{teleportTo:M.value.style.chart.tooltip.teleportTo,show:z.value.showTooltip&&Xt.value&&k.value.length<E.dataset.length,backgroundColor:M.value.style.chart.tooltip.backgroundColor,color:M.value.style.chart.tooltip.color,borderRadius:M.value.style.chart.tooltip.borderRadius,borderColor:M.value.style.chart.tooltip.borderColor,borderWidth:M.value.style.chart.tooltip.borderWidth,fontSize:M.value.style.chart.tooltip.fontSize,backgroundOpacity:M.value.style.chart.tooltip.backgroundOpacity,position:M.value.style.chart.tooltip.position,offsetY:M.value.style.chart.tooltip.offsetY,parent:O.value,content:Zt.value,isFullscreen:$.value,isCustom:M.value.style.chart.tooltip.customFormat&&typeof M.value.style.chart.tooltip.customFormat==`function`,smooth:M.value.style.chart.tooltip.smooth,backdropFilter:M.value.style.chart.tooltip.backdropFilter,smoothForce:M.value.style.chart.tooltip.smoothForce,smoothSnapThreshold:M.value.style.chart.tooltip.smoothSnapThreshold},{"tooltip-before":_(()=>[d(i.$slots,`tooltip-before`,h(s({...ar.value})),void 0,!0)]),"tooltip-after":_(()=>[d(i.$slots,`tooltip-after`,h(s({...ar.value})),void 0,!0)]),_:3},8,[`teleportTo`,`show`,`backgroundColor`,`color`,`borderRadius`,`borderColor`,`borderWidth`,`fontSize`,`backgroundOpacity`,`position`,`offsetY`,`parent`,`content`,`isFullscreen`,`isCustom`,`smooth`,`backdropFilter`,`smoothForce`,`smoothSnapThreshold`]),Yt.value&&M.value.userOptions.buttons.table?(o(),f(re(yr.value.component),ee({key:8},yr.value.props,{ref_key:`tableUnit`,ref:cn,onClose:xr}),te({content:_(()=>[x(`div`,{ref_key:`tableContainer`,ref:Fn,class:`vue-ui-vertical-bar-table atom-data-table`,style:c(`${M.value.table.useDialog?``:`max-height: 300px; margin-top: 24px`}`)},[x(`div`,Ot,[M.value.table.useDialog?t(``,!0):(o(),b(`div`,{key:0,role:`button`,tabindex:`0`,style:c(`width:32px; position: absolute; top: 0; right:4px; padding: 0 0px; display: flex; align-items:center;justify-content:center;height: 36px; width: 32px; cursor:${N.value?`pointer`:`default`}; background:${M.value.table.th.backgroundColor};`),onClick:xr,onKeypress:ie(xr,[`enter`])},[u(r(Ye),{name:`close`,stroke:M.value.table.th.color,"stroke-width":2},null,8,[`stroke`])],36)),x(`div`,{style:{width:`100%`,"container-type":`inline-size`},class:e({"vue-ui-responsive":r(br)})},[x(`table`,kt,[M.value.table.useDialog?t(``,!0):(o(),b(`caption`,{key:0,style:c({backgroundColor:M.value.table.th.backgroundColor,color:M.value.table.th.color,outline:M.value.table.th.outline}),class:`vue-ui-data-table__caption`},[n(l(M.value.style.chart.title.text)+` `,1),M.value.style.chart.title.subtitle.text?(o(),b(`span`,At,l(M.value.style.chart.title.subtitle.text),1)):t(``,!0)],4)),x(`thead`,null,[x(`tr`,{role:`row`,style:c(`background:${M.value.table.th.backgroundColor};color:${M.value.table.th.color}`)},[(o(!0),b(v,null,p(Q.value.head,e=>(o(),b(`th`,{style:c(`outline:${M.value.table.th.outline}`)},[x(`div`,jt,l(e),1)],4))),256))],4),x(`tr`,null,[x(`th`,{style:c(`background:${M.value.table.th.backgroundColor};color:${M.value.table.th.color};outline:${M.value.table.th.outline}`)},null,4),x(`th`,{style:c(`background:${M.value.table.th.backgroundColor};color:${M.value.table.th.color};outline:${M.value.table.th.outline};text-align:right;padding-right:5px;font-weight:bold`)},` ∑ `+l(M.value.table.td.prefix)+l(isNaN(Y.value)?``:Y.value.toFixed(M.value.table.td.roundingValue))+l(M.value.table.td.suffix),5),x(`th`,{style:c(`background:${M.value.table.th.backgroundColor};color:${M.value.table.th.color};outline:${M.value.table.th.outline};text-align:right;padding-right:5px;font-weight:bold`)},` 100% `,4),x(`th`,{style:c(`background:${M.value.table.th.backgroundColor};color:${M.value.table.th.color};outline:${M.value.table.th.outline}`)},null,4),x(`th`,{style:c(`background:${M.value.table.th.backgroundColor};color:${M.value.table.th.color};outline:${M.value.table.th.outline}`)},null,4),x(`th`,{style:c(`background:${M.value.table.th.backgroundColor};color:${M.value.table.th.color};outline:${M.value.table.th.outline}`)},null,4),x(`th`,{style:c(`background:${M.value.table.th.backgroundColor};color:${M.value.table.th.color};outline:${M.value.table.th.outline}`)},null,4)])]),x(`tbody`,null,[(o(!0),b(v,null,p(Q.value.body,(n,r)=>(o(),b(`tr`,{class:e({"vue-ui-data-table__tbody__row":!0,"vue-ui-data-table__tbody__row-even":r%2==0,"vue-ui-data-table__tbody__row-odd":r%2!=0}),style:c(`background:${M.value.table.td.backgroundColor};color:${M.value.table.td.color}`)},[x(`td`,{class:`vue-ui-data-table__tbody__td`,style:c(`outline:${M.value.table.td.outline};font-variant-numeric: tabular-nums;`),"data-cell":Q.value.head[0]??``},[x(`div`,Nt,[n.color?(o(),b(`span`,{key:0,style:c(`color:${n.color};margin-right:3px`)},`⬤`,4)):t(``,!0),x(`span`,null,l(n.parentName),1)])],12,Mt),x(`td`,{class:`vue-ui-data-table__tbody__td`,style:c(`outline:${M.value.table.td.outline}`),"data-cell":Q.value.head[1]??``},[x(`div`,Ft,l(M.value.table.td.prefix)+l([``,NaN,void 0].includes(n.parentValue)?``:n.parentValue.toFixed(M.value.table.td.roundingValue))+l(M.value.table.td.suffix),1)],12,Pt),x(`td`,{class:`vue-ui-data-table__tbody__td`,style:c(`outline:${M.value.table.td.outline}`),"data-cell":Q.value.head[2]??``},[x(`div`,Lt,l([``,NaN,void 0].includes(n.percentageToTotal)?``:`${(n.percentageToTotal*100).toFixed(M.value.table.td.roundingPercentage)}%`),1)],12,It),x(`td`,{class:`vue-ui-data-table__tbody__td`,style:c(`outline:${M.value.table.td.outline}`),"data-cell":Q.value.head[3]??``},[x(`div`,zt,l(n.childName),1)],12,Rt),x(`td`,{class:`vue-ui-data-table__tbody__td`,style:c(`outline:${M.value.table.td.outline}`),"data-cell":Q.value.head[4]??``},[x(`div`,Vt,l(M.value.table.td.prefix)+l([``,NaN,void 0].includes(n.childValue)?``:n.childValue.toFixed(M.value.table.td.roundingValue))+l(M.value.table.td.suffix),1)],12,Bt),x(`td`,{class:`vue-ui-data-table__tbody__td`,style:c(`outline:${M.value.table.td.outline}`),"data-cell":Q.value.head[5]??``},[x(`div`,Ut,l([``,NaN,void 0].includes(n.childPercentageToParent)?``:`${(n.childPercentageToParent*100).toFixed(M.value.table.td.roundingPercentage)}%`),1)],12,Ht),x(`td`,{class:`vue-ui-data-table__tbody__td`,style:c(`outline:${M.value.table.td.outline}`),"data-cell":Q.value.head[6]??``},[x(`div`,Gt,l([``,NaN,void 0].includes(n.childPercentageToTotal)?``:`${(n.childPercentageToTotal*100).toFixed(M.value.table.td.roundingPercentage)}%`),1)],12,Wt)],6))),256))])])],2)])],4)]),_:2},[M.value.table.useDialog?{name:`title`,fn:_(()=>[n(l(yr.value.title),1)]),key:`0`}:void 0,M.value.table.useDialog?{name:`actions`,fn:_(()=>[x(`button`,{tabindex:`0`,class:`vue-ui-user-options-button`,onClick:a[2]||=e=>ur(M.value.userOptions.callbacks.csv),style:c({cursor:N.value?`pointer`:`default`})},[u(r(Ye),{name:`fileCsv`,stroke:yr.value.props.color},null,8,[`stroke`])],4)]),key:`1`}:void 0]),1040)):t(``,!0),d(i.$slots,`skeleton`,{},()=>[r(xn)?(o(),f(je,{key:0})):t(``,!0)],!0)],46,nt))}},[[`__scopeId`,`data-v-72aee3de`]]),qt=Object.freeze(Object.defineProperty({__proto__:null,default:Kt},Symbol.toStringTag,{value:`Module`}));export{tt as a,qt as b};