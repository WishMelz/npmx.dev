import{A as e,At as t,C as n,D as r,Dt as i,J as a,Mt as o,Nt as s,O as c,St as l,Z as u,b as d,ht as f,lt as p,m,w as h,x as g}from"./BLt7TXlb.js";import{B as _,b as v,d as y,u as b}from"./CreLCcZP.js";import"./ByNgdIzL.js";import"./Cr_GQgS6.js";import"./B2KNUzwv.js";import{t as x}from"./BFu3gPrq.js";import{n as S}from"./DZubR30v.js";import{n as C,o as w,r as T,s as E,t as D}from"./mPlC9-cP.js";import{o as O,r as ee}from"./-B2-_an5.js";import{n as k,r as te}from"./qJmI0wnH.js";import"./CdWQmgpE.js";import{t as A}from"./Bi22IuVY.js";import{l as ne}from"./Brdikwlz.js";import{t as j}from"./D8lKuWTY.js";import{t as M}from"./Cf-Ej6y2.js";import{r as N}from"./_U3EnTB4.js";import{t as P}from"./CAwcA5eI.js";var F={class:`flex items-center gap-4 has-[input:focus-visible]:outline-solid has-[input:focus-visible]:outline-accent/70 has-[input:focus-visible]:outline-offset-4 rounded-xl w-fit`},I={class:`sr-only`},L=[`value`,`checked`,`aria-label`,`onChange`],R={key:0,class:`i-lucide:ban size-4 text-bg`,"aria-hidden":`true`},z=e({__name:`AccentColorPicker`,setup(e){let{accentColors:r,selectedAccentColor:c,setAccentColor:l}=D();return(e,d)=>(a(),h(`fieldset`,F,[g(`legend`,I,s(e.$t(`settings.accent_colors`)),1),(a(!0),h(m,null,u(i(r),r=>(a(),h(`label`,{key:r.id,class:t([`size-6 rounded-full transition-transform duration-150 motion-safe:hover:scale-110 has-[:checked]:ring-2 has-[:checked]:ring-fg has-[:checked]:ring-offset-2 has-[:checked]:ring-offset-bg-subtle has-[:focus-visible]:ring-2 has-[:focus-visible]:ring-fg has-[:focus-visible]:ring-offset-2 has-[:focus-visible]:ring-offset-bg-subtle`,r.id===`neutral`?`flex items-center justify-center bg-fg`:``]),style:o({backgroundColor:`var(--swatch-${r.id})`})},[g(`input`,{type:`radio`,name:`accent-color`,class:`sr-only`,value:r.id,checked:i(c)===r.id||!i(c)&&r.id===`sky`,"aria-label":r.id===`neutral`?e.$t(`settings.clear_accent`):r.name,onChange:e=>i(l)(r.id)},null,40,L),r.id===`neutral`?(a(),h(`span`,R)):n(``,!0)],6))),128))]))}}),B=Object.assign(A(z,[[`__scopeId`,`data-v-ff0f6372`]]),{__name:`SettingsAccentColorPicker`}),V={class:`flex items-center gap-4 has-[input:focus-visible]:outline-solid has-[input:focus-visible]:outline-accent/70 has-[input:focus-visible]:outline-offset-4 rounded-xl w-fit`},H={class:`sr-only`},U=[`value`,`checked`,`aria-label`,`onChange`],W=e({__name:`BgThemePicker`,setup(e){let{backgroundThemes:t,selectedBackgroundTheme:n,setBackgroundTheme:r}=C();return(e,c)=>(a(),h(`fieldset`,V,[g(`legend`,H,s(e.$t(`settings.background_themes`)),1),(a(!0),h(m,null,u(i(t),e=>(a(),h(`label`,{key:e.id,class:`size-6 rounded-full transition-transform duration-150 motion-safe:hover:scale-110 has-[:checked]:ring-2 has-[:checked]:ring-fg has-[:checked]:ring-offset-2 has-[:checked]:ring-offset-bg-subtle has-[:focus-visible]:ring-2 has-[:focus-visible]:ring-fg has-[:focus-visible]:ring-offset-2 has-[:focus-visible]:ring-offset-bg-subtle`,style:o({backgroundColor:e.value})},[g(`input`,{type:`radio`,name:`background-theme`,class:`sr-only`,value:e.id,checked:i(n)===e.id||!i(n)&&e.id===`neutral`,"aria-label":e.name,onChange:t=>i(r)(e.id)},null,40,U)],4))),128))]))}}),G=Object.assign(A(W,[[`__scopeId`,`data-v-691b2d39`]]),{__name:`SettingsBgThemePicker`}),K={class:`space-y-3`},q={class:`space-y-1.5`},J={class:`flex items-center justify-between text-xs text-fg-muted`},Y={class:`tabular-nums`},X={class:`h-1.5 bg-bg rounded-full overflow-hidden`},Z={key:0,class:`space-y-2`},re={class:`flex items-center justify-between`},ie={class:`text-xs text-fg-muted font-medium`},ae={class:`space-y-1 text-xs font-mono bg-bg rounded-md p-2 max-h-32 overflow-y-auto`},oe=[`title`],se={class:`pt-2 border-t border-border space-y-2`},ce={class:`text-xs text-fg-muted`},le={class:`flex flex-wrap gap-2`},ue=[`href`],Q=5,de=`https://github.com/npmx-dev/npmx.dev/blob/main/CONTRIBUTING.md#localization-i18n`,fe=e({__name:`TranslationHelper`,props:{status:{}},setup(e){let t=e,c=l(!1),f=d(()=>c.value||t.status.missingKeys.length<=Q?t.status.missingKeys:t.status.missingKeys.slice(0,Q)),p=d(()=>t.status.missingKeys.length>Q&&!c.value),_=d(()=>t.status.missingKeys.length-Q),{copy:v,copied:y}=O(),b=N(),x=N({style:`percent`});function S(){let e=t.status.missingKeys.map(e=>`  "${e}": ""`).join(`,
`);v(`// Missing translations for ${t.status.label} (${t.status.lang})
// Add these keys to: i18n/locales/${t.status.lang}.json

${e}`)}return(t,l)=>(a(),h(`div`,K,[g(`div`,q,[g(`div`,J,[g(`span`,null,s(t.$t(`settings.translation_progress`)),1),g(`span`,Y,s(i(b).format(e.status.completedKeys))+`/`+s(i(b).format(e.status.totalKeys))+` (`+s(i(x).format(e.status.percentComplete/100))+`)`,1)]),g(`div`,X,[g(`div`,{class:`h-full bg-accent transition-all duration-300 motion-reduce:transition-none`,style:o({width:`${e.status.percentComplete}%`})},null,4)])]),e.status.missingKeys.length>0?(a(),h(`div`,Z,[g(`div`,re,[g(`h4`,ie,s(t.$t(`i18n.missing_keys`,{count:i(b).format(e.status.missingKeys.length)},e.status.missingKeys.length)),1),g(`button`,{type:`button`,class:`text-xs text-accent hover:underline rounded focus-visible:outline-accent/70`,onClick:S},s(i(y)?t.$t(`common.copied`):t.$t(`i18n.copy_keys`)),1)]),g(`ul`,ae,[(a(!0),h(m,null,u(i(f),e=>(a(),h(`li`,{key:e,class:`text-fg-muted truncate`,title:e},s(e),9,oe))),128))]),i(p)?(a(),h(`button`,{key:0,type:`button`,class:`text-xs text-fg-muted hover:text-fg rounded focus-visible:outline-accent/70`,onClick:l[0]||=e=>c.value=!0},s(t.$t(`i18n.show_more_keys`,{count:i(b).format(i(_))},i(_))),1)):n(``,!0)])):n(``,!0),g(`div`,se,[g(`p`,ce,s(t.$t(`i18n.contribute_hint`)),1),g(`div`,le,[g(`a`,{href:e.status.githubEditUrl,target:`_blank`,rel:`noopener noreferrer`,class:`inline-flex items-center gap-1.5 px-2.5 py-1.5 text-xs bg-bg hover:bg-bg-subtle border border-border rounded-md transition-colors focus-visible:outline-accent/70`},[l[1]||=g(`span`,{class:`i-lucide:pen w-3.5 h-3.5`,"aria-hidden":`true`},null,-1),r(` `+s(t.$t(`i18n.edit_on_github`)),1)],8,ue),g(`a`,{href:de,target:`_blank`,rel:`noopener noreferrer`,class:`inline-flex items-center gap-1.5 px-2.5 py-1.5 text-xs text-fg-muted hover:text-fg rounded transition-colors focus-visible:outline-accent/70`},[l[2]||=g(`span`,{class:`i-lucide:file-text w-3.5 h-3.5`,"aria-hidden":`true`},null,-1),r(` `+s(t.$t(`i18n.view_guide`)),1)])])])]))}}),pe=Object.assign(fe,{__name:`SettingsTranslationHelper`});function me(){let{locale:e}=S(),{data:t,status:n,error:r}=x(`/lunaria/status.json`,{responseType:`json`,server:!1,getCachedData:(e,t)=>t.payload.data[e]??t.static.data[e]},`$_RVmx0z2Mi`);function i(e){return t.value?t.value.locales.find(t=>t.lang===e)??null:null}let a=d(()=>i(e.value));return{status:t,fetchStatus:n,error:r,getLocaleStatus:i,currentLocaleStatus:a,isComplete:d(()=>{let e=a.value;return e?e.percentComplete===100:!0}),isSourceLocale:d(()=>e.value===(t.value?.sourceLocale.lang??`en-US`)),githubEditUrl:d(()=>a.value?.githubEditUrl??null)}}var he=y(ne),ge={class:`container flex-1 py-12 sm:py-16 w-full`},_e={class:`max-w-2xl mx-auto`},ve={class:`mb-12`},ye={class:`flex items-baseline justify-between gap-4 mb-4`},be={class:`font-mono text-3xl sm:text-4xl font-medium`},xe={class:`sr-only sm:not-sr-only`},Se={class:`text-fg-muted text-lg`},Ce={class:`space-y-8`},we={class:`text-xs text-fg-muted uppercase tracking-wider mb-4`},Te={class:`bg-bg-subtle border border-border rounded-lg p-4 sm:p-6 space-y-6`},Ee={class:`space-y-2`},De={for:`theme-select`,class:`block text-sm text-fg font-medium`},Oe={class:`space-y-3`},ke={class:`block text-sm text-fg font-medium`},Ae={class:`space-y-3`},je={class:`block text-sm text-fg font-medium`},Me={class:`text-xs text-fg-muted uppercase tracking-wider mb-4`},Ne={class:`bg-bg-subtle border border-border rounded-lg p-4 sm:p-6`},Pe={class:`text-xs text-fg-muted uppercase tracking-wider mb-4`},$={class:`bg-bg-subtle border border-border rounded-lg p-4 sm:p-6`},Fe={class:`space-y-2`},Ie={for:`search-provider-select`,class:`block text-sm text-fg font-medium`},Le={class:`text-xs text-fg-muted mb-3`},Re={class:`text-xs text-fg-subtle mt-2`},ze={key:0,href:`https://www.algolia.com/developers`,target:`_blank`,rel:`noopener noreferrer`,class:`inline-flex items-center gap-1 text-xs text-fg-subtle hover:text-fg-muted transition-colors mt-2`},Be={class:`text-xs text-fg-muted uppercase tracking-wider mb-4`},Ve={class:`bg-bg-subtle border border-border rounded-lg p-4 sm:p-6 space-y-4`},He={class:`space-y-2`},Ue={for:`language-select`,class:`block text-sm text-fg font-medium`},We={key:0,class:`border-t border-border pt-4`},Ge={key:1,href:`https://github.com/npmx-dev/npmx.dev/tree/main/i18n/locales`,target:`_blank`,rel:`noopener noreferrer`,class:`inline-flex items-center gap-2 text-sm text-fg-muted hover:text-fg transition-colors duration-200 focus-visible:outline-accent/70 rounded`},Ke={class:`text-xs text-fg-muted uppercase tracking-wider mb-4`},qe={class:`bg-bg-subtle border border-border rounded-lg p-4 sm:p-6`},Je=e({__name:`settings`,setup(e){let{t}=S(),o=_(),l=j(),{settings:u}=w(),{locale:d,locales:m,setLocale:y}=S(),x=E(),{currentLocaleStatus:C,isSourceLocale:D}=me(),O=T();ee(e=>O.value&&te(e,`Escape`)&&!k(e.target)&&!document.documentElement.matches(`html:has(:modal)`),e=>{e.preventDefault(),o.back()},{dedupe:!0}),v({title:()=>`${t(`settings.title`)} - npmx`,ogTitle:()=>`${t(`settings.title`)} - npmx`,twitterTitle:()=>`${t(`settings.title`)} - npmx`,description:()=>t(`settings.meta_description`),ogDescription:()=>t(`settings.meta_description`),twitterDescription:()=>t(`settings.meta_description`)}),M(`Default`,{title:()=>t(`settings.title`),description:()=>t(`settings.tagline`),primaryColor:`#60a5fa`});let A=e=>(u.value.selectedLocale=e,y(e));return(e,_)=>{let v=P,y=B,S=G,w=he,T=b,E=pe;return a(),h(`main`,ge,[g(`article`,_e,[g(`header`,ve,[g(`div`,ye,[g(`h1`,be,s(i(t)(`settings.title`)),1),i(l)?(a(),h(`button`,{key:0,type:`button`,class:`cursor-pointer inline-flex items-center gap-2 font-mono text-sm text-fg-muted hover:text-fg transition-colors duration-200 rounded focus-visible:outline-accent/70 shrink-0 p-1.5 -mx-1.5`,onClick:_[0]||=e=>i(o).back()},[_[9]||=g(`span`,{class:`i-lucide:arrow-left rtl-flip w-4 h-4`,"aria-hidden":`true`},null,-1),g(`span`,xe,s(i(t)(`nav.back`)),1)])):n(``,!0)]),g(`p`,Se,s(i(t)(`settings.tagline`)),1)]),g(`div`,Ce,[g(`section`,null,[g(`h2`,we,s(i(t)(`settings.sections.appearance`)),1),g(`div`,Te,[g(`div`,Ee,[g(`label`,De,s(i(t)(`settings.theme`)),1),c(v,{id:`theme-select`,modelValue:i(x).preference,"onUpdate:modelValue":_[1]||=e=>i(x).preference=e,block:``,size:`sm`,class:`max-w-48`,items:[{label:i(t)(`settings.theme_system`),value:`system`},{label:i(t)(`settings.theme_light`),value:`light`},{label:i(t)(`settings.theme_dark`),value:`dark`}]},null,8,[`modelValue`,`items`])]),g(`div`,Oe,[g(`span`,ke,s(i(t)(`settings.accent_colors`)),1),c(y)]),g(`div`,Ae,[g(`span`,je,s(i(t)(`settings.background_themes`)),1),c(S)])])]),g(`section`,null,[g(`h2`,Me,s(i(t)(`settings.sections.display`)),1),g(`div`,Ne,[c(w,{label:i(t)(`settings.relative_dates`),modelValue:i(u).relativeDates,"onUpdate:modelValue":_[2]||=e=>i(u).relativeDates=e},null,8,[`label`,`modelValue`]),_[10]||=g(`div`,{class:`border-t border-border my-4`},null,-1),c(w,{label:i(t)(`settings.include_types`),description:i(t)(`settings.include_types_description`),modelValue:i(u).includeTypesInInstall,"onUpdate:modelValue":_[3]||=e=>i(u).includeTypesInInstall=e},null,8,[`label`,`description`,`modelValue`]),_[11]||=g(`div`,{class:`border-t border-border my-4`},null,-1),c(w,{label:i(t)(`settings.hide_platform_packages`),description:i(t)(`settings.hide_platform_packages_description`),modelValue:i(u).hidePlatformPackages,"onUpdate:modelValue":_[4]||=e=>i(u).hidePlatformPackages=e},null,8,[`label`,`description`,`modelValue`])])]),g(`section`,null,[g(`h2`,Pe,s(i(t)(`settings.sections.search`)),1),g(`div`,$,[g(`div`,Fe,[g(`label`,Ie,s(i(t)(`settings.data_source.label`)),1),g(`p`,Le,s(i(t)(`settings.data_source.description`)),1),c(T,null,{fallback:p(()=>[c(v,{id:`search-provider-select`,disabled:``,items:[{label:i(t)(`common.loading`),value:`loading`}],block:``,size:`sm`,class:`max-w-48`},null,8,[`items`])]),default:p(()=>[c(v,{id:`search-provider-select`,items:[{label:i(t)(`settings.data_source.npm`),value:`npm`},{label:i(t)(`settings.data_source.algolia`),value:`algolia`}],modelValue:i(u).searchProvider,"onUpdate:modelValue":_[5]||=e=>i(u).searchProvider=e,block:``,size:`sm`,class:`max-w-48`},null,8,[`items`,`modelValue`])]),_:1}),g(`p`,Re,s(i(u).searchProvider===`algolia`?i(t)(`settings.data_source.algolia_description`):i(t)(`settings.data_source.npm_description`)),1),i(u).searchProvider===`algolia`?(a(),h(`a`,ze,[r(s(i(t)(`search.algolia_disclaimer`))+` `,1),_[12]||=g(`span`,{class:`i-lucide:external-link w-3 h-3`,"aria-hidden":`true`},null,-1)])):n(``,!0)])])]),g(`section`,null,[g(`h2`,Be,s(i(t)(`settings.sections.language`)),1),g(`div`,Ve,[g(`div`,He,[g(`label`,Ue,s(i(t)(`settings.language`)),1),c(T,null,{fallback:p(()=>[c(v,{id:`language-select`,disabled:``,items:[{label:i(t)(`common.loading`),value:`loading`}],block:``,size:`sm`,class:`max-w-48`},null,8,[`items`])]),default:p(()=>[c(v,{id:`language-select`,items:i(m).map(e=>({label:e.name??``,value:e.code})),modelValue:i(d),"onUpdate:modelValue":[_[6]||=e=>f(d)?d.value=e:null,_[7]||=e=>A(e)],block:``,size:`sm`,class:`max-w-48`},null,8,[`items`,`modelValue`])]),_:1})]),i(C)&&!i(D)?(a(),h(`div`,We,[c(E,{status:i(C)},null,8,[`status`])])):(a(),h(`a`,Ge,[_[13]||=g(`span`,{class:`i-simple-icons:github w-4 h-4`,"aria-hidden":`true`},null,-1),r(` `+s(i(t)(`settings.help_translate`)),1)]))])]),g(`section`,null,[g(`h2`,Ke,s(i(t)(`settings.sections.keyboard_shortcuts`)),1),g(`div`,qe,[c(w,{label:i(t)(`settings.keyboard_shortcuts_enabled`),description:i(t)(`settings.keyboard_shortcuts_enabled_description`),modelValue:i(u).keyboardShortcuts,"onUpdate:modelValue":_[8]||=e=>i(u).keyboardShortcuts=e},null,8,[`label`,`description`,`modelValue`])])])])])])}}});export{Je as default};