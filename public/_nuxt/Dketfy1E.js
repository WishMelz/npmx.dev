import{$ as e,At as t,C as n,D as r,J as i,Mt as a,Nt as o,O as s,S as c,Z as l,b as u,f as d,l as f,m as p,o as m,p as h,u as g,ut as _,w as v,x as y,yt as b}from"./BLt7TXlb.js";import{Dt as x,Mt as S,N as C,P as w,St as T,T as E,_t as D,a as ee,gt as O,it as k,j as A,vt as j}from"./Cf-0F-2c.js";import{t as te}from"./8DvoFuCx.js";import{t as M}from"./CWNsAIol.js";import{t as N}from"./xh7dz5-d.js";import{r as P}from"./mQqLJAEZ.js";import{V as F}from"./CLh_3NxX.js";var I={name:`vue-ui-table`,props:{config:{type:Object,default(){return{}}},dataset:{type:Object,default(){return{}}}},components:{VueUiXy:P,VueUiDonut:F,BaseIcon:N},emits:[`page-change`],data(){return{uid:`vue-ui-table-${Math.random()}`,bodyCopy:JSON.parse(JSON.stringify(this.dataset.body)).map((e,t)=>({...e,absoluteIndex:t})),buttonTimeout:null,canMoveChart:!1,chart:{height:316,type:`bar`,width:512},constants:{ASC:1,BAR:`bar`,DATE:`date`,DESC:-1,DONUT:`donut`,LINE:`line`,NUMERIC:`numeric`,PERCENTAGE:`percentage`,TEXT:`text`},clientX:100,clientY:100,dragOffsetX:0,dragOffsetY:0,modalWidth:400,modalHeight:200,cssClass:{CELL:`smart-td-selected`,FIRST_TD:`smart-td-selected-first`,LAST_TD:`smart-td-selected-last`,ROW:`smart-td-selected-neighbor`},currentDonut:void 0,currentFilter:void 0,currentSearch:void 0,currentSelectionSpan:{col:void 0,rows:[]},currentPage:0,dates:{},filteredDatesIndexes:{},hasNaN:{},iconColor:`#2D353C`,iconSize:20,immutableRangeFilters:{},isExportRequest:!1,isLoading:!1,itemsPerPage:this.config.rowsPerPage?this.config.rowsPerPage:25,multiselects:{},paginatorOptions:[...new Set([10,25,50,100,250,500,this.config.rowsPerPage?this.config.rowsPerPage:25,this.dataset.body.length])].sort((e,t)=>e-t),palette:k,percentages:{},rafId:null,rangeFilters:{},searches:{},selectedColumn:void 0,selectedDonutCategory:void 0,selectedPlot:void 0,showChart:!1,showDonutOptions:!1,sorts:{},chartStep:0,chartTimeLabelSourceModel:``,tableBody:JSON.parse(JSON.stringify(this.dataset.body)).map((e,t)=>({...e,absoluteIndex:t})),tableHead:JSON.parse(JSON.stringify(this.dataset.header)).map((e,t)=>({average:Object.hasOwn(e,`average`)?e.average:!1,decimals:Object.hasOwn(e,`decimals`)?e.decimals:0,isMultiselect:Object.hasOwn(e,`isMultiselect`)?e.isMultiselect:!1,isPercentage:Object.hasOwn(e,`isPercentage`)?e.isPercentage:!1,isSearch:Object.hasOwn(e,`isSearch`)?e.isSearch:!1,isSort:Object.hasOwn(e,`isSort`)?e.isSort:!1,name:e.name,percentageTo:Object.hasOwn(e,`percentageTo`)?e.percentageTo:void 0,prefix:Object.hasOwn(e,`prefix`)?e.prefix:``,rangeFilter:Object.hasOwn(e,`rangeFilter`)?e.rangeFilter:!1,suffix:Object.hasOwn(e,`suffix`)?e.suffix:``,sum:Object.hasOwn(e,`sum`)?e.sum:!1,type:e.type,index:t})),filename:``}},setup(){let e=b(null);return{tableCaption:e,exportButtonTop:u(()=>e.value?e.value.getBoundingClientRect().height+3:3)}},mounted(){if(this.dataset.header.length===0)throw Error(`vue-ui-table error: missing header data.
Provide an array of objects of type:
{
 name: string;
 type: string; ('text' | 'numeric' | 'date')
 average: boolean;
 decimals: number | undefined;
 sum: boolean;
 isSort:boolean;
 isSearch: boolean;
 isMultiselect: boolean;
 isPercentage: boolean;
 percentageTo: string; (or '')
}`);if(this.dataset.body.length===0)throw Error(`vue-ui-table error: missing body data`);this.isLoading=!0,this.promiseWithAsyncFunction(this.prepareBodyCopy,()=>{this.$forceUpdate(),this.isLoading=!1}),document.addEventListener(`keydown`,e=>{let t=document.activeElement;(t&&Array.from(t.classList).includes(`td-focusable`)&&e.key.includes(`Arrow`)||e.code===`Space`)&&e.preventDefault()}),this.filename=this.FINAL_CONFIG.style.exportMenu.filename,this.chartTimeLabelSourceModel=this.dateHeaders[0]?.name??``},watch:{isExportRequest:function(e){if(e){let e=this.$refs.filenameInputRef;e&&e.focus()}},showChart:function(e){e&&this.$nextTick(()=>{this.closeDragElement()})},dataset:{handler(e){this.isLoading=!0,this.bodyCopy=JSON.parse(JSON.stringify(e.body)).map((e,t)=>({...e,absoluteIndex:t})),this.tableBody=JSON.parse(JSON.stringify(e.body)).map((e,t)=>({...e,absoluteIndex:t})),this.tableHead=JSON.parse(JSON.stringify(e.header)).map((e,t)=>({average:Object.hasOwn(e,`average`)?e.average:!1,decimals:Object.hasOwn(e,`decimals`)?e.decimals:0,isMultiselect:Object.hasOwn(e,`isMultiselect`)?e.isMultiselect:!1,isPercentage:Object.hasOwn(e,`isPercentage`)?e.isPercentage:!1,isSearch:Object.hasOwn(e,`isSearch`)?e.isSearch:!1,isSort:Object.hasOwn(e,`isSort`)?e.isSort:!1,name:e.name,percentageTo:Object.hasOwn(e,`percentageTo`)?e.percentageTo:void 0,prefix:Object.hasOwn(e,`prefix`)?e.prefix:``,rangeFilter:Object.hasOwn(e,`rangeFilter`)?e.rangeFilter:!1,suffix:Object.hasOwn(e,`suffix`)?e.suffix:``,sum:Object.hasOwn(e,`sum`)?e.sum:!1,type:e.type,index:t})),this.currentSelectionSpan={col:void 0,rows:[]},this.selectedColumn=void 0,this.itemsPerPage=this.config.rowsPerPage?this.config.rowsPerPage:25,this.percentages={},this.dates={},this.filteredDatesIndexes={},this.hasNaN={},this.immutableRangeFilters={},this.rangeFilters={},this.multiselects={},this.searches={},this.sorts={},this.showChart=!1,this.currentDonut=void 0,this.selectedDonutCategory=void 0,this.selectedPlot=void 0,this.showDonutOptions=!1,this.currentSelectionSpan.col=void 0,this.currentSelectionSpan.rows=[],this.promiseWithAsyncFunction(this.prepareBodyCopy,()=>{this.$forceUpdate(),this.updateCurrentPage(),this.isLoading=!1})},deep:!0,immediate:!1}},computed:{isCursorPointer(){return this.FINAL_CONFIG.useCursorPointer},colorCancelInactive(){return this.FINAL_CONFIG.style.th.buttons.cancel.inactive.backgroundColor},textColorCancelInactive(){return this.FINAL_CONFIG.style.th.buttons.cancel.inactive.color},colorCancelActive(){return this.FINAL_CONFIG.style.th.buttons.cancel.active.backgroundColor},colorCancelActiveLight(){return A(this.colorCancelActive,.33)},colorCancelActiveOutline(){return j(this.colorCancelActive,33)},colorButtonSortActive(){return this.FINAL_CONFIG.style.th.buttons.filter.active.backgroundColor},colorButtonSortActiveLight(){return A(this.colorButtonSortActive,.33)},colorButtonSortActiveOutline(){return j(this.colorButtonSortActive,33)},colorButtonSortInactive(){return this.FINAL_CONFIG.style.th.buttons.filter.inactive.backgroundColor},colorButtonSortActiveColorText(){return this.FINAL_CONFIG.style.th.buttons.filter.active.color},dateHeaders(){return[...this.tableHead].filter(e=>e.type===this.constants.DATE)},chartTimeLabelOptions(){return[``,...this.dateHeaders.map(e=>e.name)]},chartTimeLabelSourceIndex(){let e=this.dateHeaders.find(e=>e.name===this.chartTimeLabelSourceModel);return e?e.index:null},chartTimeLabels(){return this.chartTimeLabelSourceIndex==null?[]:this.visibleRows.map(e=>e.td[this.chartTimeLabelSourceIndex])},availableDonutCategories(){return Object.keys(this.multiselects).map(e=>({index:e,name:this.dataset.header[e].name,options:this.multiselects[e]}))},canChart(){return this.FINAL_CONFIG.useChart&&this.currentSelectionSpan.rows.length>1},chartData(){if(!this.canChart)return[];let e=512/this.currentSelectionSpan.rows.length,t=Math.max(...this.currentSelectionSpan.rows.map(e=>e.value)),n=Math.min(...this.currentSelectionSpan.rows.map(e=>e.value)),r=this.dataset.header[this.currentSelectionSpan.col].isPercentage&&this.dataset.header[this.currentSelectionSpan.col].percentageTo,i=this.chart.type===this.constants.DONUT&&this.selectedDonutCategory&&this.selectedDonutCategory.name,a=this.dataset.header[this.currentSelectionSpan.col].name+(r?` / ${this.dataset.header[this.percentages[this.currentSelectionSpan.col].referenceIndex].name}`:``)+(i?` ${this.FINAL_CONFIG.translations.by} ${this.selectedDonutCategory.name}`:``),o=this.dataset.header[this.currentSelectionSpan.col].prefix,s=this.dataset.header[this.currentSelectionSpan.col].suffix,c=[{name:a,series:this.currentSelectionSpan.rows.map(e=>e.value),type:`line`,useProgression:!0,smooth:this.FINAL_CONFIG.style.chart.layout.line.smooth,color:this.FINAL_CONFIG.style.chart.layout.line.stroke,useArea:this.FINAL_CONFIG.style.chart.layout.line.useArea}],l=[{name:a,series:this.currentSelectionSpan.rows.map(e=>e.value),type:`bar`,useProgression:!0,color:this.FINAL_CONFIG.style.chart.layout.bar.fill}],u=this.FINAL_CONFIG.style.chart.modal.backgroundColor,d=this.adaptColorToBackground(u),f=this.dataset.header[this.currentSelectionSpan.col].decimals,p={chart:{backgroundColor:u,color:d,labels:{fontSize:18,prefix:o,suffix:s},grid:{stroke:A(d,.5),labels:{color:d,xAxisLabels:{color:d,show:this.chartTimeLabels.length,values:this.chartTimeLabels,datetimeFormatter:this.FINAL_CONFIG.style.chart.layout.datetimeFormatter,showOnlyAtModulo:this.FINAL_CONFIG.style.chart.layout.timeLabels.showOnlyAtModulo,modulo:this.FINAL_CONFIG.style.chart.layout.timeLabels.modulo}}},highlighter:{color:d},legend:{color:d},title:{text:a,color:d,fontSize:18},tooltip:{showTimeLabel:this.chartTimeLabels.length,backgroundOpacity:30,color:d,backgroundColor:u,showPercentage:!1,roundingValue:f},userOptions:{position:`left`,buttons:{pdf:!1,csv:!1,table:!1,annotator:!1}},zoom:{show:this.FINAL_CONFIG.style.chart.layout.zoom.show,focusOnDrag:!0,minimap:{show:!0}}},line:{labels:{show:!0,color:d,rounding:f},dot:{useSerieColor:!1,fill:this.FINAL_CONFIG.style.chart.layout.line.plot.fill,strokeWidth:this.FINAL_CONFIG.style.chart.layout.line.plot.strokeWidth}},bar:{useGradient:!1,border:{useSerieColor:!1,stroke:this.FINAL_CONFIG.style.chart.layout.bar.stroke,strokeWidth:this.FINAL_CONFIG.style.chart.layout.bar.strokeWidth},labels:{show:!0,color:d,rounding:f}}},m=n>=0?0:Math.abs(n),h=t+m,g=this.dataset.header[this.currentSelectionSpan.col].isPercentage,_=this.currentSelectionSpan.rows.map((t,n)=>({x:e*n+e/2,y:(1-(t.value+m)/h)*316,value:g?t.value*100:t.value,suffix:g?`%`:this.dataset.header[this.currentSelectionSpan.col].suffix?this.dataset.header[this.currentSelectionSpan.col].suffix:``,prefix:this.dataset.header[this.currentSelectionSpan.col].prefix?this.dataset.header[this.currentSelectionSpan.col].prefix:``,index:t.index,absoluteValue:g?Math.abs(t.value)*100:Math.abs(t.value)}));return{donutConfig:{userOptions:{position:`left`,buttons:{pdf:!1,csv:!1,table:!1,annotator:!1}},style:{chart:{backgroundColor:u,color:d,layout:{curvedMarkers:!0,donut:{strokeWidth:64},labels:{dataLabels:{suffix:g?`%`:``,prefix:o},value:{rounding:f},percentage:{color:d,rounding:f},name:{color:d},hollow:{average:{color:d,text:this.FINAL_CONFIG.translations.average,value:{color:d}},total:{color:d,offsetY:-12,text:this.FINAL_CONFIG.translations.total,value:{color:d,offsetY:-12}}}}},legend:{backgroundColor:u,color:d,roundingValue:f,roundingPercentage:f},padding:{left:12,right:12},title:{text:a,color:d,fontSize:18},tooltip:{backgroundOpacity:30,color:d,backgroundColor:u,roundingValue:f,roundingValue:f}}}},xyConfig:p,xyDatasetLine:c,xyDatasetBar:l,progression:_.length>=2?this.calcLinearProgression(_):!1}},hasNumericTypes(){return this.dataset.header.map(e=>e.type).includes(this.constants.NUMERIC)},icons(){return{arrowSort:`<svg xmlns="http://www.w3.org/2000/svg" width="${this.iconSize}" height="${this.iconSize}" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M3 9l4 -4l4 4m-4 -4v14" /><path d="M21 15l-4 4l-4 -4m4 4v-14" /></svg>`,bar:`<svg xmlns="http://www.w3.org/2000/svg" width="${this.iconSize}" height="${this.iconSize}" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M3 12m0 1a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v6a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z" /><path d="M9 8m0 1a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v10a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z" /><path d="M15 4m0 1a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v14a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z" /><path d="M4 20l14 0" /></svg>`,chart:`<svg xmlns="http://www.w3.org/2000/svg" width="${this.iconSize}" height="${this.iconSize}" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 19l16 0" /><path d="M4 15l4 -6l4 2l4 -5l4 4" /></svg>`,chevronDown:`<svg xmlns="http://www.w3.org/2000/svg" width="${this.iconSize}" height="${this.iconSize}" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M6 9l6 6l6 -6" /></svg>`,chevronLeft:`<svg xmlns="http://www.w3.org/2000/svg" width="${this.iconSize*1.6}" height="${this.iconSize*1.6}" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M15 6l-6 6l6 6" /></svg>`,chevronRight:`<svg xmlns="http://www.w3.org/2000/svg" width="${this.iconSize*1.6}" height="${this.iconSize*1.6}" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 6l6 6l-6 6" /></svg>`,donut:`<svg xmlns="http://www.w3.org/2000/svg" width="${this.iconSize*.8}" height="${this.iconSize*.8}" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M12 3v5m4 4h5" /><path d="M8.929 14.582l-3.429 2.918" /><path d="M12 12m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0" /><path d="M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0" /></svg>`,export:`<svg xmlns="http://www.w3.org/2000/svg" width="${this.iconSize}" height="${this.iconSize}" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M12.5 21h-7.5a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v7.5" /><path d="M3 10h18" /><path d="M10 3v18" /><path d="M16 19h6" /><path d="M19 16l3 3l-3 3" /></svg>`,fileDownload:`<svg xmlns="http://www.w3.org/2000/svg" width="${this.iconSize}" height="${this.iconSize}" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M14 3v4a1 1 0 0 0 1 1h4" /><path d="M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2z" /><path d="M12 17v-6" /><path d="M9.5 14.5l2.5 2.5l2.5 -2.5" /></svg>`,filter:`<svg xmlns="http://www.w3.org/2000/svg" width="${this.iconSize}" height="${this.iconSize}" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 4h16v2.172a2 2 0 0 1 -.586 1.414l-4.414 4.414v7l-6 2v-8.5l-4.48 -4.928a2 2 0 0 1 -.52 -1.345v-2.227z" /></svg>`,move:`<svg xmlns="http://www.w3.org/2000/svg" width="${this.iconSize}" height="${this.iconSize}" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M18 9l3 3l-3 3" /><path d="M15 12h6" /><path d="M6 9l-3 3l3 3" /><path d="M3 12h6" /><path d="M9 18l3 3l3 -3" /><path d="M12 15v6" /><path d="M15 6l-3 -3l-3 3" /><path d="M12 3v6" /></svg>`,sort09:`<svg xmlns="http://www.w3.org/2000/svg" width="${this.iconSize}" height="${this.iconSize}" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 15l3 3l3 -3" /><path d="M7 6v12" /><path d="M17 3a2 2 0 0 1 2 2v3a2 2 0 1 1 -4 0v-3a2 2 0 0 1 2 -2z" /><path d="M17 16m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0" /><path d="M19 16v3a2 2 0 0 1 -2 2h-1.5" /></svg>`,sort90:`<svg xmlns="http://www.w3.org/2000/svg" width="${this.iconSize}" height="${this.iconSize}" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 15l3 3l3 -3" /><path d="M7 6v12" /><path d="M17 14a2 2 0 0 1 2 2v3a2 2 0 1 1 -4 0v-3a2 2 0 0 1 2 -2z" /><path d="M17 5m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0" /><path d="M19 5v3a2 2 0 0 1 -2 2h-1.5" /></svg>`,sortAZ:`<svg xmlns="http://www.w3.org/2000/svg" width="${this.iconSize}" height="${this.iconSize}" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M15 10v-5c0 -1.38 .62 -2 2 -2s2 .62 2 2v5m0 -3h-4" /><path d="M19 21h-4l4 -7h-4" /><path d="M4 15l3 3l3 -3" /><path d="M7 6v12" /></svg>`,sortZA:`<svg xmlns="http://www.w3.org/2000/svg" width="${this.iconSize}" height="${this.iconSize}" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M15 21v-5c0 -1.38 .62 -2 2 -2s2 .62 2 2v5m0 -3h-4" /><path d="M19 10h-4l4 -7h-4" /><path d="M4 15l3 3l3 -3" /><path d="M7 6v12" /></svg>`,sum:`<svg xmlns="http://www.w3.org/2000/svg" width="${this.iconSize}" height="${this.iconSize}" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M18 16v2a1 1 0 0 1 -1 1h-11l6 -7l-6 -7h11a1 1 0 0 1 1 1v2" /></svg>`,table:`<svg xmlns="http://www.w3.org/2000/svg" width="${this.iconSize}" height="${this.iconSize}" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" fill="white" d="M 10 2, 21 2, 21 21, 10 21Z"/><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M3 5a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-14z" /><path d="M3 10h18" /><path d="M10 3v18" /></svg>`,warning:`<svg xmlns="http://www.w3.org/2000/svg" width="${this.iconSize*.8}" height="${this.iconSize*.8}" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M10.24 3.957l-8.422 14.06a1.989 1.989 0 0 0 1.7 2.983h16.845a1.989 1.989 0 0 0 1.7 -2.983l-8.423 -14.06a1.989 1.989 0 0 0 -3.4 0z" /><path d="M12 9v4" /><path d="M12 17h.01" /></svg>`,grip:`<svg xmlns="http://www.w3.org/2000/svg" width="${this.iconSize}" height="${this.iconSize}" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round"><path d="M5 9m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0" /><path d="M5 15m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0" /><path d="M12 9m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0" /><path d="M12 15m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0" /><path d="M19 9m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0" /><path d="M19 15m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0" /></svg>`}},pages(){let e=[];if(this.bodyCopy.length)for(let t=0;t<this.bodyCopy.length;t+=this.itemsPerPage)e.push(this.bodyCopy.slice(t,t+this.itemsPerPage));return e},rows(){return this.bodyCopy.map(e=>e.td)},selectedCellsCalculations(){return{sumPercentage:Number((this.currentSelectionSpan.rows.map(e=>e.value).reduce((e,t)=>e+t,0)*100).toFixed(this.dataset.header[this.currentSelectionSpan.col].decimals)).toLocaleString(),sumRegular:Number(this.currentSelectionSpan.rows.map(e=>e.value).reduce((e,t)=>e+t,0).toFixed(this.dataset.header[this.currentSelectionSpan.col].decimals)).toLocaleString(),averagePercentage:Number((this.currentSelectionSpan.rows.map(e=>e.value).reduce((e,t)=>e+t,0)/this.currentSelectionSpan.rows.length*100).toFixed(this.dataset.header[this.currentSelectionSpan.col].decimals)).toLocaleString(),averageRegular:Number((this.currentSelectionSpan.rows.map(e=>e.value).reduce((e,t)=>e+t,0)/this.currentSelectionSpan.rows.length).toFixed(this.dataset.header[this.currentSelectionSpan.col].decimals)).toLocaleString()}},FINAL_CONFIG(){let{vue_ui_table:e}=te();if(!Object.keys(this.config||{}).length)return e;let t=this.treeShake({defaultConfig:e,userConfig:this.config});return this.convertConfigColors(t)},visibleRows(){return this.pages[this.currentPage]}},methods:{adaptColorToBackground:T,convertColorToHex:D,convertConfigColors:x,createCsvContent:ee,darkenHexColor:E,dataLabel:S,downloadCsv:C,lightenHexColor:A,treeShake:w,applyDonutOption(){this.currentDonut=this.selectedDonutCategory.options.map((e,t)=>({name:e,color:this.palette[t]||this.palette[t%this.palette.length],values:[this.visibleRows.filter((t,n)=>t.td[this.selectedDonutCategory.index]===e&&this.currentSelectionSpan.rows.map(e=>e.index).includes(n)).map(e=>e.td[this.currentSelectionSpan.col]).reduce((e,t)=>Math.abs(e)+Math.abs(t),0)],absoluteValue:this.visibleRows.filter((t,n)=>t.td[this.selectedDonutCategory.index]===e&&this.currentSelectionSpan.rows.map(e=>e.index).includes(n)).map(e=>e.td[this.currentSelectionSpan.col]).reduce((e,t)=>e+t,0)})).sort((e,t)=>t.value-e.value),this.$nextTick(()=>{this.chart.type=this.constants.DONUT,this.showDonutOptions=!1})},calcRectY(e,t){return e>=0?t:this.chartData.zero},canResetColumn(e,t){return!this.hasNaN[e]&&(t.isSort||t.isSearch||t.isMultiselect||t.rangeFilter)&&![this.constants.DATE].includes(t.type)},createXls(e=`all`){let t=this.dataset.header.map(e=>e.name),n=e===`all`?this.bodyCopy.map(e=>e.td):this.visibleRows.map(e=>e.td),r=[t].concat(n),i=this.createCsvContent(r);this.downloadCsv({csvContent:i,title:this.filename})},calcLinearProgression:O,closeAllDropdowns(){let e=document.getElementsByClassName(`th-dropdown`);e.length&&Array.from(e).forEach(e=>{e.dataset.isOpen=!1})},debounce(e,t){let n;clearTimeout(n),n=setTimeout(e,t)},filterBody(){this.bodyCopy=this.tableBody.filter(e=>{for(let t in this.searches)if(!e.td[t].toUpperCase().includes(this.searches[t].toUpperCase()))return!1;for(let t in this.multiselects)if(!this.multiselects[t].some(n=>n===e.td[t]))return!1;for(let t in this.dates){let n=new Date(e.td[t]),r=new Date(this.dates[t].from),i=new Date(this.dates[t].to);if(n<r||n>i)return!1}return!0}),this.sortBody()},getAverage(e){return this.rows.map(t=>t[e]).map(e=>isNaN(Number(e))?0:e).reduce((e,t)=>e+t,0)/this.bodyCopy.length},getDatesRange(e){let t=this.dataset.body.map(t=>new Date(t.td[e])),n=new Date(Math.min(...t)),r=new Date(Math.max(...t)),i=n.getFullYear(),a=r.getFullYear(),o=String(n.getMonth()+1).padStart(2,`0`),s=String(r.getMonth()+1).padStart(2,`0`),c=String(n.getDate()).padStart(2,`0`),l=String(r.getDate()).padStart(2,`0`);return{from:`${i}-${o}-${c}`,to:`${a}-${s}-${l}`}},getDonutLegendValue(e){return Number((e*(this.dataset.header[this.currentSelectionSpan.col].isPercentage?100:1)).toFixed(this.dataset.header[this.currentSelectionSpan.col].decimals)).toLocaleString()},getDropdownOptions(e){return[...new Set(this.dataset.body.map(t=>t.td[e]))]},getSum(e){return this.rows.map(t=>t[e]).map(e=>isNaN(Number(e))?0:e).reduce((e,t)=>e+t,0)},includesNaN(e){return e.includes(NaN)},isDropdownOptionSelected(e,t){return this.multiselects[t]?this.multiselects[t].includes(e):!0},isNumeric(e){return!isNaN(Number(String(e).replaceAll(`%`,``)))},isResetDisabled(e,t){let n=t.isSort,r=t.isSearch,i=t.isMultiselect&&this.multiselects[e],a=t.rangeFilter,o=e=>{if(a&&this.rangeFilters[e])return Math.round(this.rangeFilters[e].min)===this.immutableRangeFilters[e].min&&Math.round(this.rangeFilters[e].max)===this.immutableRangeFilters[e].max};if(n&&r&&i&&a)return[``,void 0].includes(this.searches[e])&&[void 0].includes(this.sorts[e])&&this.multiselects[e].length===this.getDropdownOptions(e).length&&o(e);if(n&&r&&i)return[``,void 0].includes(this.searches[e])&&[void 0].includes(this.sorts[e])&&this.multiselects[e].length===this.getDropdownOptions(e).length;if(n&&r&&a)return[``,void 0].includes(this.searches[e])&&[void 0].includes(this.sorts[e])&&o(e);if(n&&r)return[``,void 0].includes(this.searches[e])&&[void 0].includes(this.sorts[e]);if(n&&i&&a)return[void 0].includes(this.sorts[e])&&this.multiselects[e].length===this.getDropdownOptions(e).length&&o(e);if(n&&i)return[void 0].includes(this.sorts[e])&&this.multiselects[e].length===this.getDropdownOptions(e).length;if(r&&i&&a)return[``,void 0].includes(this.searches[e])&&this.multiselects[e].length===this.getDropdownOptions(e).length&&o(e);if(r&&i)return[``,void 0].includes(this.searches[e])&&this.multiselects[e].length===this.getDropdownOptions(e).length;if(r&&a)return[``,void 0].includes(this.searches[e])&&o(e);if(r)return[``,void 0].includes(this.searches[e]);if(n&&a)return[void 0].includes(this.sorts[e])&&o(e);if(n)return[void 0].includes(this.sorts[e]);if(i&&a)return this.multiselects[e].length===this.getDropdownOptions(e).length&&o(e);if(i)return this.multiselects[e].length===this.getDropdownOptions(e).length},getCurrentPageData(){return{totalPages:this.pages.length,itemsPerPage:this.itemsPerPage,currentPage:this.currentPage,currentPageData:this.visibleRows.map(e=>e.td)}},onPageChange(){this.$emit(`page-change`,this.getCurrentPageData())},navigate(e){if(this.resetSelection(),e===`next`&&this.currentPage<this.pages.length){if(this.currentPage+1>this.pages.length-1)return;this.currentPage+=1}else if(e===`previous`&&this.currentPage>=1)--this.currentPage;else{if(e-1<0||e>this.pages.length||e===`previous`)return;this.currentPage=e-1}this.onPageChange(),this.$refs.tableWrapper.scrollTo({top:0,left:0,behavior:`smooth`})},navigateCell(e){e.preventDefault();let t=e.keyCode;if(![38,40,37,39].includes(t))return;let n=e.target.id.match(/cell_(\d+)_(\d+)_vue-ui-table-(\d+)/),r=parseInt(n[1]),i=parseInt(n[2]),a=document.getElementById(`cell_${r}_${i+1}_${this.uid}`),o=document.getElementById(`cell_${r}_${i-1}_${this.uid}`),s=document.getElementById(`cell_${r+1}_${i}_${this.uid}`),c=document.getElementById(`cell_${r-1}_${i}_${this.uid}`),l;switch(!0){case t===39:l=a;break;case t===37:l=o;break;case t===38:l=c;break;case t===40:l=s;break;default:return}l&&(l.focus(),l.scrollIntoView({behavior:`smooth`,block:`center`}))},openDonutOptions(){this.selectedDonutCategory=this.availableDonutCategories[0],this.showDonutOptions=!0},placeLabelOnTopOrBottom({previousPlot:e,currentPlot:t,nextPlot:n}){let r=t.y-38,i=t.y+16;return e&&n?e.value<t.value&&n.value<t.value?r:e.value>t.value&&n.value>t.value?i:(e.value>t.value&&n.value<t.value||e.value<t.value&&(n.value,t.value),r):e&&!n?e.value>t.value?i:r:!e&&n&&n.value>t.value?i:r},async prepareBodyCopy(){return new Promise(e=>{let t=[];this.tableHead.forEach((e,n)=>{if(e.isSearch&&Object.assign(this.searches,{[n]:``}),e.isMultiselect&&Object.assign(this.multiselects,{[n]:this.getDropdownOptions(n)}),e.type===this.constants.DATE&&(Object.assign(this.dates,{[n]:this.getDatesRange(n)}),Object.assign(this.filteredDatesIndexes,{[n]:!1})),(e.isPercentage||e.percentageTo)&&Object.assign(this.percentages,{[n]:{reference:e.percentageTo,referenceIndex:this.dataset.header.map(e=>e.name).indexOf(e.percentageTo)}}),e.rangeFilter&&(Object.assign(this.rangeFilters,{[n]:{min:Math.round(Math.min(...this.dataset.body.map(e=>e.td).map(e=>e[n]))),max:Math.round(Math.max(...this.dataset.body.map(e=>e.td).map(e=>e[n])))}}),Object.assign(this.immutableRangeFilters,{[n]:{min:Math.round(Math.min(...this.dataset.body.map(e=>e.td).map(e=>e[n]))),max:Math.round(Math.max(...this.dataset.body.map(e=>e.td).map(e=>e[n])))}})),e.isPercentage){let r=this.dataset.header.map(e=>e.name).indexOf(e.percentageTo),i=this.dataset.body.map(e=>e.td[r]).reduce((e,t)=>e+t,0);t.push([n,r,i])}e.type===this.constants.NUMERIC&&!e.isPercentage&&Object.assign(this.hasNaN,{[n]:this.includesNaN(this.dataset.body.map(e=>Number(e.td[n])))})}),this.bodyCopy.forEach((e,n)=>{t.map(t=>{let[n,r,i]=t;e.td[n]=e.td[r]/i}),e.td.forEach((t,r)=>{this.dataset.header[r].type===this.constants.TEXT&&this.dataset.header[r].isSearch&&(e[r]=this.stringToNumber(t)),this.dataset.header[r].type===this.constants.DATE&&(e[r]=new Date(t).getTime()),this.dataset.header[r].type===this.constants.NUMERIC&&(e[r]=isNaN(Number(t))?r:t),this.tableBody[n][r]=e[r]})}),e(!0)})},promiseWithAsyncFunction(e,t){return new Promise((n,r)=>{e().then(e=>{try{n(t(e))}catch(e){r(e)}}).catch(e=>{r(e)})})},resetDates(e){this.dates[e]={from:this.getDatesRange(e).from,to:this.getDatesRange(e).to},this.filteredDatesIndexes[e]=!1,this.$forceUpdate(),this.filterBody()},resetFilter(e,t,n){let r=n.currentTarget;clearTimeout(this.buttonTimeout),r.classList.add(`clicked`),this.buttonTimeout=setTimeout(()=>{r.classList.remove(`clicked`)},200),this.currentFilter=void 0,t.rangeFilter&&(this.rangeFilters[e].min=this.immutableRangeFilters[e].min,this.rangeFilters[e].max=this.immutableRangeFilters[e].max),t.isMultiselect?(this.multiselects[e]=this.getDropdownOptions(e),t.type===this.constants.TEXT&&(this.sorts[e]=void 0),t.isSearch&&(this.searches[e]=``)):t.type===this.constants.NUMERIC?this.sorts[e]=void 0:t.type===this.constants.TEXT?(this.sorts[e]=void 0,this.searches[e]=``):t.type===this.constants.DATE&&(this.sorts[e]=void 0),this.filterBody()},resetSelection(){let e=document.getElementsByClassName(`tr_${this.uid}`);Array.from(e).forEach(e=>{Array.from(e.getElementsByTagName(`td`)).forEach(e=>{e.dataset.row===`even`?(e.style.background=this.FINAL_CONFIG.style.rows.even.backgroundColor,e.style.color=this.FINAL_CONFIG.style.rows.even.color):(e.style.background=this.FINAL_CONFIG.style.rows.odd.backgroundColor,e.style.color=this.FINAL_CONFIG.style.rows.odd.color)})}),Array.from(e).forEach(e=>e.dataset.selected=`false`),this.currentPage>this.pages.length-1&&(this.currentPage=this.pages.length-1),this.showChart=!1,this.currentDonut=void 0,this.selectedColumn=void 0,this.chart.type=this.constants.BAR,this.currentSelectionSpan={col:void 0,rows:[]},this.clientX=100,this.clientY=100},selectColumn(e){this.currentSelectionSpan.col===e?(this.selectedColumn=void 0,this.resetSelection()):(this.visibleRows.forEach((t,n)=>{this.selectTd({td:t.td[e],rowIndex:n,colIndex:e,headerType:this.constants.NUMERIC,event:{currentTarget:document.getElementById(`cell_${n}_${e}_${this.uid}`)}})}),this.selectedColumn=e)},selectDropdownOption(e,t){this.multiselects[t].includes(e)?this.multiselects[t]=this.multiselects[t].filter(t=>t!==e):this.multiselects[t].push(e),this.$forceUpdate(),this.filterBody()},selectTd({td:e,rowIndex:t,colIndex:n,headerType:r,event:i}){if(r!==this.constants.NUMERIC||isNaN(Number(e))){this.resetSelection();return}this.currentSelectionSpan.col!==n&&this.resetSelection();let a=i.currentTarget.parentNode;this.currentSelectionSpan.col=n,this.currentSelectionSpan.rows.map(e=>e.index).includes(t)?(a.dataset.selected=`false`,this.currentSelectionSpan.rows=this.currentSelectionSpan.rows.filter(e=>e.index!==t),i.currentTarget.classList.remove(this.cssClass.CELL),Array.from(a.children).forEach((e,t)=>{e.dataset.row===`even`?(e.style.background=this.FINAL_CONFIG.style.rows.even.backgroundColor,e.style.color=this.FINAL_CONFIG.style.rows.even.olor):(e.style.background=this.FINAL_CONFIG.style.rows.odd.backgroundColor,e.style.color=this.FINAL_CONFIG.style.rows.odd.color)}),i.currentTarget.dataset.row===`even`?(i.currentTarget.style.background=this.FINAL_CONFIG.style.rows.even.backgroundColor,i.currentTarget.style.color=this.FINAL_CONFIG.style.rows.even.color):(i.currentTarget.style.background=this.FINAL_CONFIG.style.rows.odd.backgroundColor,i.currentTarget.style.color=this.FINAL_CONFIG.style.rows.odd.color)):(a.dataset.selected=`true`,this.currentSelectionSpan.rows.push({index:t,value:e}),Array.from(a.children).forEach((e,t)=>{e.dataset.row===`even`?(e.style.background=this.FINAL_CONFIG.style.rows.even.selectedNeighbors.backgroundColor,e.style.color=this.FINAL_CONFIG.style.rows.even.selectedNeighbors.color):(e.style.background=this.FINAL_CONFIG.style.rows.odd.selectedNeighbors.backgroundColor,e.style.color=this.FINAL_CONFIG.style.rows.odd.selectedNeighbors.color)}),i.currentTarget.dataset.row===`odd`?(i.currentTarget.style.background=this.FINAL_CONFIG.style.rows.odd.selectedCell.backgroundColor,i.currentTarget.style.color=this.FINAL_CONFIG.style.rows.odd.selectedCell.color):(i.currentTarget.style.background=this.FINAL_CONFIG.style.rows.even.selectedCell.backgroundColor,i.currentTarget.style.color=this.FINAL_CONFIG.style.rows.even.selectedCell.color)),this.currentSelectionSpan.rows=this.currentSelectionSpan.rows.sort((e,t)=>e.index-t.index),this.chart.type===this.constants.DONUT&&this.currentSelectionSpan.rows.length>0&&this.applyDonutOption()},setFilterDatesIndexes(e){this.filteredDatesIndexes[e]=!(this.getDatesRange(e).from===this.dates[e].from&&this.getDatesRange(e).to===this.dates[e].to)},sortBody(){this.resetSelection(),Object.keys(this.rangeFilters).forEach(e=>{this.filterByRange(this.bodyCopy,e)}),Object.keys(this.sorts).forEach(e=>{this.sortByNumber(this.bodyCopy,e)}),this.currentFilter!==void 0&&this.sortByNumber(this.bodyCopy,this.currentFilter),this.dataset.header.forEach((e,t)=>{if(e.isPercentage){let e=this.percentages[t].referenceIndex,n=this.bodyCopy.map(t=>t.td[e]).reduce((e,t)=>e+t,0);this.bodyCopy.forEach(r=>{r.td[t]=r.td[e]/n})}}),this.currentPage>this.pages.length-1&&(this.currentPage=this.pages.length-1),[-1].includes(this.currentPage)&&(this.currentPage=0),this.$forceUpdate()},filterByRange(e,t){this.bodyCopy=e.filter(e=>e.td[t]>=this.rangeFilters[t].min&&e[t]<=this.rangeFilters[t].max)},sortByNumber(e,t){if(this.sorts[t]===this.constants.ASC&&(e=e.sort((e,n)=>e[t]-n[t])),this.sorts[t]===this.constants.DESC)e=e.sort((e,n)=>n[t]-e[t]);else return 0},sortTh(e,t){this.currentFilter=e;let n=t.currentTarget;clearTimeout(this.buttonTimeout),n.classList.add(`clicked`),this.buttonTimeout=setTimeout(()=>{n.classList.remove(`clicked`)},200),this.sorts[e]===1?this.sorts[e]=this.constants.DESC:this.sorts[e]=this.constants.ASC,this.sortBody()},stringToNumber(e){let t=0;for(let n=0;n<e.length;n+=1)t+=e.charCodeAt(n);return t},toggleMultiselect(e,t,n){let r=n.currentTarget;clearTimeout(this.buttonTimeout),r.classList.add(`clicked`),this.buttonTimeout=setTimeout(()=>{r.classList.remove(`clicked`)},200);let i=document.getElementById(`th_dropdown_${e}`);i.dataset.isOpen===`false`?i.dataset.isOpen=`true`:i.dataset.isOpen=`false`},updateCurrentPage(e){this.resetSelection(),!e||!e.target.value?this.currentPage=0:this.currentPage=Number(e.target.value),this.onPageChange()},calcDonutMarkerConnectorColor(e){return e.proportion*100>3?e.color:`transparent`},calcDonutMarkerLabelPositionX(e){return e.center.endX+this.calcMarkerOffset(e,50)},calcMarkerOffset(e,t){return e.center.endX-t>=0?3:-2},displayArcPercentage(e,t){return isNaN(e.value/this.sumValues(t))?0:(e.value/this.sumValues(t)*100).toFixed(0)+`%`},isArcBigEnough(e){return e.proportion*100>3},sumValues(e){return[...e].map(e=>e.value).reduce((e,t)=>e+t,0)},closeDragElement(){document.onmouseup=null,document.onmousemove=null},dragMouseDown(e){e||=window.event,e.preventDefault();let t=this.$refs.chartModal.getBoundingClientRect();this.dragOffsetX=e.clientX-t.left,this.dragOffsetY=e.clientY-t.top,this.modalWidth=t.width,this.modalHeight=t.height,document.onmouseup=this.closeDragElement,document.onmousemove=this.elementDrag},elementDrag(e){if(this.rafId)return;let t=this.$refs.chartModal.getBoundingClientRect();this.clientX=e.clientX-this.dragOffsetX,this.clientY=e.clientY-this.dragOffsetY-40,this.clientX<0&&(this.clientX=0),this.clientX+t.width>window.innerWidth&&(this.clientX=window.innerWidth-t.width-48),this.clientY<0&&(this.clientY=0),this.clientY+t.height>window.innerHeight&&(this.clientY=window.innerHeight-t.height-24)}}},L=()=>{m(e=>({v31c7c810:e.colorCancelInactive,v57b235a3:e.textColorCancelInactive,aaf6202a:e.colorCancelActiveLight,c180e02a:e.colorCancelActive,v5e233c52:e.colorCancelActiveOutline,v99130396:e.colorButtonSortActiveLight,v67a6893e:e.colorButtonSortActive,v484e20cf:e.colorButtonSortActiveColorText,v63b585a1:e.colorButtonSortActiveOutline}))},R=I.setup;I.setup=R?(e,t)=>(L(),R(e,t)):L;var z=[`innerHTML`],B=[`data-is-open`],V={class:`vue-ui-table-export-hub-options`},H={class:`vue-ui-table-export-hub-option-wrapper`},U={class:`label`},W=[`innerHTML`],G={class:`vue-ui-table-export-hub-option-wrapper`},K={class:`label`},q=[`innerHTML`],J={class:`vue-ui-table-dialog-field`},Y={class:`label vue-ui-table-dialog-input-label`,style:{width:`100%`}},X={style:{width:`fit-content`}},Z={class:`vue-ui-table`},Q={key:0},ne={key:0},re={key:1},ie={key:0,style:{display:`flex`,"align-items":`center`,"justify-content":`flex-end`}},ae=[`innerHTML`],oe={key:0,style:{"margin-left":`3px`}},se={key:0},ce={class:`th-filter`},le={key:0,class:`th-date`},ue={class:`date-wrapper--inputs`},de={class:`date-fieldset`},fe=[`for`],pe=[`id`,`onUpdate:modelValue`,`onInput`],me={class:`date-fieldset`},he=[`for`],ge=[`id`,`onUpdate:modelValue`,`onInput`],_e={class:`date-wrapper--button`},ve=[`onClick`],ye=[`innerHTML`],be=[`innerHTML`],xe=[`innerHTML`],Se=[`onClick`,`disabled`],Ce=[`placeholder`,`onUpdate:modelValue`,`name`],we=[`onClick`],Te=[`innerHTML`],Ee=[`innerHTML`],De=[`innerHTML`],Oe=[`onClick`,`innerHTML`],ke=[`innerHTML`],Ae={key:5,class:`th-range-filter`},je=[`for`],Me=[`id`,`max`,`min`,`onUpdate:modelValue`],Ne=[`id`,`max`,`min`,`onUpdate:modelValue`],Pe=[`for`],Fe=[`onClick`,`disabled`],Ie=[`id`],Le=[`onClick`],Re=[`onClick`,`onKeyup`],ze=[`innerHTML`,`onClick`,`onKeyup`],Be=[`data-row`],Ve=[`data-row`],He=[`data-row`,`onClick`,`onKeyup`,`id`],Ue=[`innerHTML`],We={key:1},Ge={key:2},Ke={key:5},qe=[`innerHTML`],Je={key:0},Ye={style:{"margin-left":`12px`}},Xe={class:`format-num`},Ze={style:{"margin-left":`12px`}},Qe={key:0,class:`format-num`},$e={key:1,class:`format-num`},et={key:2},tt={style:{"margin-left":`12px`}},nt={key:0,class:`format-num`},rt={key:1,class:`format-num`},it={key:2},at={key:1,class:`vue-ui-table-paginator format-num`},ot={key:2,class:`vue-ui-table-size-warning`},st=[`innerHTML`],ct={key:4,class:`vue-ui-table-pagination format-num`},lt=[`innerHTML`,`disabled`],ut=[`disabled`],dt={for:`pageScroller`,style:{"font-size":`14px`}},ft=[`max`,`value`],pt={key:1},mt=[`disabled`],ht=[`innerHTML`,`disabled`],gt=[`innerHTML`],_t={class:`chart-modal-options`},vt=[`innerHTML`],yt=[`innerHTML`],$=[`innerHTML`],bt={style:{width:`100%`,height:`fit-content`},ref:`chartModal`},xt={class:`vue-ui-table-fieldset`},St={class:`vue-ui-table-fieldset-wrapper`},Ct=[`name`,`id`,`checked`,`onInput`],wt=[`for`],Tt=[`disabled`],Et=[`innerHTML`],Dt={key:0},Ot={style:{width:`100%`,"margin-bottom":`12px`}},kt={key:2,style:{width:`100%`,"margin-bottom":`32px`}};function At(u,m,b,x,S,C){let w=e(`BaseIcon`),T=e(`VueUiXy`),E=e(`VueUiDonut`);return i(),v(`div`,{class:`vue-data-ui-component vue-ui-table-main`,style:a(`font-family: ${C.FINAL_CONFIG.fontFamily}`)},[C.FINAL_CONFIG.style.exportMenu.show?(i(),v(`div`,{key:0,class:`vue-ui-table-export-hub`,style:a({top:x.exportButtonTop+`px`})},[y(`button`,{onClick:m[0]||=e=>S.isExportRequest=!S.isExportRequest,innerHTML:C.icons.export,style:a(`background:${C.FINAL_CONFIG.style.exportMenu.backgroundColor};color:${C.FINAL_CONFIG.style.exportMenu.color};cursor:${C.isCursorPointer?`pointer`:`default`}`)},null,12,z),y(`div`,{class:`vue-ui-table-export-hub-dropdown`,"data-is-open":S.isExportRequest||`false`,style:a(`background:${C.FINAL_CONFIG.style.exportMenu.backgroundColor};color:${C.FINAL_CONFIG.style.exportMenu.color}`)},[m[29]||=y(`b`,{class:`vue-ui-table-export-hub-title`},` Export `,-1),y(`button`,{class:`close-dropdown`,onClick:m[1]||=e=>S.isExportRequest=!1,style:a(`background:${C.FINAL_CONFIG.style.closeButtons.backgroundColor};color:${C.FINAL_CONFIG.style.closeButtons.color};border-radius:${C.FINAL_CONFIG.style.closeButtons.borderRadius}`)},` ✖ `,4),y(`div`,V,[y(`div`,H,[y(`div`,U,o(C.FINAL_CONFIG.translations.exportAllLabel)+` (`+o(S.bodyCopy.length)+`) `,1),y(`button`,{id:`exportAll`,onClick:m[2]||=e=>C.createXls(`all`),style:a(`background:${C.FINAL_CONFIG.style.exportMenu.buttons.backgroundColor};color:${C.FINAL_CONFIG.style.exportMenu.buttons.color};cursor:${C.isCursorPointer?`pointer`:`default`}`)},[y(`div`,{innerHTML:C.icons.fileDownload},null,8,W),y(`span`,null,o(C.FINAL_CONFIG.translations.exportAllButton),1)],4)]),y(`div`,G,[y(`div`,K,o(C.FINAL_CONFIG.translations.exportPageLabel),1),y(`button`,{id:`exportPage`,onClick:m[3]||=e=>C.createXls(`page`),style:a(`background:${C.FINAL_CONFIG.style.exportMenu.buttons.backgroundColor};color:${C.FINAL_CONFIG.style.exportMenu.buttons.color};cursor:${C.isCursorPointer?`pointer`:`default`}`)},[y(`div`,{innerHTML:C.icons.fileDownload},null,8,q),y(`span`,null,o(C.FINAL_CONFIG.translations.exportPageButton),1)],4)]),y(`div`,J,[y(`label`,Y,[y(`span`,X,o(C.FINAL_CONFIG.translations.filename),1),_(y(`input`,{name:`filename`,ref:`filenameInputRef`,onKeydown:m[4]||=d(h(()=>{},[`stop`]),[`space`]),pattern:`.*`,class:`vue-ui-table-dialog-input`,type:`text`,"onUpdate:modelValue":m[5]||=e=>S.filename=e},null,544),[[g,S.filename]])]),S.filename?(i(),v(`button`,{key:0,class:`vue-ui-table-dialog-field-button`,onClick:m[6]||=e=>S.filename=``,style:a({cursor:C.isCursorPointer?`pointer`:`default`})},[s(w,{name:`close`,stroke:C.FINAL_CONFIG.style.exportMenu.color,size:18},null,8,[`stroke`])],4)):n(``,!0)])])],12,B)],4)):n(``,!0),y(`div`,{class:`vue-ui-table__wrapper`,style:a(`max-height:${C.FINAL_CONFIG.maxHeight}px`),ref:`tableWrapper`},[y(`table`,Z,[C.FINAL_CONFIG.style.title.text?(i(),v(`caption`,{key:0,class:`vue-ui-table__caption`,ref:`tableCaption`,style:a({textAlign:C.FINAL_CONFIG.style.title.textAlign,paddingLeft:C.FINAL_CONFIG.style.title.paddingLeft+`px`,paddingRight:C.FINAL_CONFIG.style.title.paddingRight+`px`,backgroundColor:C.FINAL_CONFIG.style.title.backgroundColor,boxShadow:`${C.FINAL_CONFIG.style.title.backgroundColor} -1px 0px 0px 0px`})},[y(`span`,{style:a({fontSize:C.FINAL_CONFIG.style.title.fontSize+`px`,fontWeight:C.FINAL_CONFIG.style.title.bold?`bold`:`normal`,color:C.FINAL_CONFIG.style.title.color})},o(C.FINAL_CONFIG.style.title.text),5),C.FINAL_CONFIG.style.title.subtitle.text?(i(),v(p,{key:0},[m[30]||=y(`br`,null,null,-1),y(`span`,{style:a({fontSize:C.FINAL_CONFIG.style.title.subtitle.fontSize,fontWeight:C.FINAL_CONFIG.style.title.subtitle.bold?`bold`:`normal`,color:C.FINAL_CONFIG.style.title.subtitle.color})},o(C.FINAL_CONFIG.style.title.subtitle.text),5)],64)):n(``,!0)],4)):n(``,!0),y(`thead`,{id:`tableHead`,class:`vue-ui-table__head`,style:a({background:C.FINAL_CONFIG.style.th.backgroundColor,boxShadow:`-1px 0 0 ${C.FINAL_CONFIG.style.th.backgroundColor}`,top:x.exportButtonTop-3+`px`})},[y(`tr`,null,[m[31]||=y(`th`,{class:`invisible-cell`},null,-1),(i(!0),v(p,null,l(S.tableHead,(e,s)=>(i(),v(`th`,{key:`thead_${s}`,style:a(`overflow: visible;background:${C.FINAL_CONFIG.style.th.backgroundColor};color:${C.FINAL_CONFIG.style.th.color};outline:${C.FINAL_CONFIG.style.th.outline}`),class:t({"th-has-nan":S.hasNaN[s]})},[C.hasNumericTypes&&([S.constants.TEXT,S.constants.DATE].includes(e.type)||e.isPercentage)?(i(),v(`span`,Q,[r(o(e.name)+` `,1),e.isPercentage?(i(),v(`span`,ne,` / `+o(e.percentageTo),1)):n(``,!0)])):(i(),v(`span`,re,o(e.name),1))],6))),128))]),C.hasNumericTypes?(i(),v(p,{key:0},[y(`tr`,null,[m[32]||=y(`th`,{class:`invisible-cell`},null,-1),(i(!0),v(p,null,l(S.tableHead,(e,s)=>(i(),v(`th`,{key:`thead_${s}`,class:t({"th-numeric":!0,"th-has-nan":S.hasNaN[s]}),style:a(`background:${C.FINAL_CONFIG.style.th.backgroundColor};color:${C.FINAL_CONFIG.style.th.color};outline:${C.FINAL_CONFIG.style.th.outline}`)},[e.sum&&!S.hasNaN[s]?(i(),v(`span`,ie,[y(`span`,{innerHTML:C.icons.sum,style:{"margin-bottom":`-4px`,"margin-right":`3px`}},null,8,ae),r(` `+o(C.dataLabel({p:e.prefix,v:Number(C.getSum(s)),s:e.suffix,r:e.decimals}))+` `,1),S.percentages[s]&&e.percentageTo&&!e.isPercentage?(i(),v(`span`,oe,` (`+o(isNaN(C.getSum(s)/C.getSum(S.percentages[s].referenceIndex))?`-`:C.dataLabel({v:C.getSum(s)/C.getSum(S.percentages[s].referenceIndex)*100,s:`%`,r:e.decimals}))+`) `,1)):n(``,!0)])):n(``,!0)],6))),128))]),y(`tr`,null,[m[33]||=y(`th`,{class:`invisible-cell`},null,-1),(i(!0),v(p,null,l(S.tableHead,(e,r)=>(i(),v(`th`,{key:`thead_${r}`,class:t({"th-numeric":!0,"th-has-nan":S.hasNaN[r]}),style:a(`background:${C.FINAL_CONFIG.style.th.backgroundColor};color:${C.FINAL_CONFIG.style.th.color};outline:${C.FINAL_CONFIG.style.th.outline}`)},[e.average&&!S.hasNaN[r]?(i(),v(`span`,se,` ~ `+o(isNaN(C.getAverage(r))?``:C.dataLabel({p:e.prefix,v:Number(C.getAverage(r)),s:e.suffix,r:e.decimals})),1)):n(``,!0)],6))),128))]),y(`tr`,null,[m[36]||=y(`th`,{class:`invisible-cell`},null,-1),(i(!0),v(p,null,l(S.tableHead,(e,s)=>(i(),v(`th`,{key:`thead_${s}`,class:t({"th-has-nan":S.hasNaN[s]}),style:a(`background:${C.FINAL_CONFIG.style.th.backgroundColor};color:${C.FINAL_CONFIG.style.th.color};outline:${C.FINAL_CONFIG.style.th.outline}`)},[y(`div`,ce,[e.type===S.constants.DATE&&S.dates[s]?(i(),v(`div`,le,[y(`div`,ue,[y(`div`,de,[y(`label`,{for:`from_${s}`},o(C.FINAL_CONFIG.translations.from),9,fe),_(y(`input`,{id:`from_${s}`,type:`date`,"onUpdate:modelValue":e=>S.dates[s].from=e,onInput:e=>{C.filterBody(),C.setFilterDatesIndexes(s)},style:a(`background:${C.FINAL_CONFIG.style.inputs.backgroundColor};color:${C.FINAL_CONFIG.style.inputs.color};border:${C.FINAL_CONFIG.style.inputs.border}`)},null,44,pe),[[g,S.dates[s].from]])]),y(`div`,me,[y(`label`,{for:`to_${s}`},o(C.FINAL_CONFIG.translations.to),9,he),_(y(`input`,{id:`to_${s}`,type:`date`,"onUpdate:modelValue":e=>S.dates[s].to=e,onInput:e=>{C.filterBody(),C.setFilterDatesIndexes(s)},style:a(`background:${C.FINAL_CONFIG.style.inputs.backgroundColor};color:${C.FINAL_CONFIG.style.inputs.color};border:${C.FINAL_CONFIG.style.inputs.border}`)},null,44,ge),[[g,S.dates[s].to]])])]),y(`div`,_e,[e.isSort?(i(),v(`button`,{key:0,onClick:e=>C.sortTh(s,e),class:t({"th-button-active":[S.constants.DESC,S.constants.ASC].includes(S.sorts[s])}),style:a(`cursor:${C.isCursorPointer?`pointer`:`default`}; background:${[S.constants.DESC,S.constants.ASC].includes(S.sorts[s])?``:C.FINAL_CONFIG.style.th.buttons.filter.inactive.backgroundColor};color:${[S.constants.DESC,S.constants.ASC].includes(S.sorts[s])?``:C.FINAL_CONFIG.style.th.buttons.filter.inactive.color}`)},[S.sorts[s]===S.constants.ASC?(i(),v(`span`,{key:0,innerHTML:[S.constants.DATE].includes(e.type)?C.icons.sort09:C.icons.sortAZ},null,8,ye)):S.sorts[s]===S.constants.DESC?(i(),v(`span`,{key:1,innerHTML:[S.constants.DATE].includes(e.type)?C.icons.sort90:C.icons.sortZA},null,8,be)):(i(),v(`span`,{key:2,innerHTML:C.icons.arrowSort},null,8,xe))],14,ve)):n(``,!0),y(`button`,{onClick:t=>{C.resetDates(s),C.resetFilter(s,e,t)},disabled:!S.filteredDatesIndexes[s]&&C.isResetDisabled(s,e),class:`th-reset`,style:a({cursor:C.isCursorPointer?`pointer`:`default`})},` ✖ `,12,Se)])])):n(``,!0),e.isSearch?_((i(),v(`input`,{key:1,placeholder:C.FINAL_CONFIG.translations.inputPlaceholder,"onUpdate:modelValue":e=>S.searches[s]=e,onInput:m[7]||=e=>C.debounce(C.filterBody,400),name:`search_${s}`,style:a(`background:${C.FINAL_CONFIG.style.inputs.backgroundColor};color:${C.FINAL_CONFIG.style.inputs.color};border:${C.FINAL_CONFIG.style.inputs.border}`)},null,44,Ce)),[[g,S.searches[s]]]):n(``,!0),!S.hasNaN[s]&&e.isSort&&e.type!==S.constants.DATE?(i(),v(`button`,{key:2,onClick:e=>C.sortTh(s,e),class:t({"th-button-active":[S.constants.DESC,S.constants.ASC].includes(S.sorts[s])}),style:a(`cursor:${C.isCursorPointer?`pointer`:`default`};background:${[S.constants.DESC,S.constants.ASC].includes(S.sorts[s])?``:C.FINAL_CONFIG.style.th.buttons.filter.inactive.backgroundColor};color:${[S.constants.DESC,S.constants.ASC].includes(S.sorts[s])?``:C.FINAL_CONFIG.style.th.buttons.filter.inactive.color}`)},[S.sorts[s]===S.constants.ASC?(i(),v(`span`,{key:0,innerHTML:[S.constants.NUMERIC].includes(e.type)?C.icons.sort09:C.icons.sortZA},null,8,Te)):S.sorts[s]===S.constants.DESC?(i(),v(`span`,{key:1,innerHTML:[S.constants.NUMERIC].includes(e.type)?C.icons.sort90:C.icons.sortAZ},null,8,Ee)):(i(),v(`span`,{key:2,innerHTML:C.icons.arrowSort},null,8,De))],14,we)):n(``,!0),e.isMultiselect?(i(),v(`button`,{key:3,onClick:t=>C.toggleMultiselect(s,e,t),innerHTML:C.icons.filter,class:t({"th-button-active":S.multiselects[s]&&S.multiselects[s].length!==C.getDropdownOptions(s).length}),style:a(`cursor:${C.isCursorPointer?`pointer`:`default`};background:${S.multiselects[s]&&S.multiselects[s].length!==C.getDropdownOptions(s).length?``:C.FINAL_CONFIG.style.th.buttons.filter.inactive.backgroundColor};color:${S.multiselects[s]&&S.multiselects[s].length!==C.getDropdownOptions(s).length?``:C.FINAL_CONFIG.style.th.buttons.filter.inactive.color}`)},null,14,Oe)):n(``,!0),S.currentSelectionSpan.col===s&&C.canChart?(i(),v(`button`,{key:4,onClick:m[8]||=e=>S.showChart=!S.showChart,innerHTML:C.icons.chart,class:t({"th-button-active":S.showChart}),style:a(`cursor:${C.isCursorPointer?`pointer`:`default`};background:${S.showChart?``:C.FINAL_CONFIG.style.th.buttons.filter.inactive.backgroundColor};color:${S.showChart?``:C.FINAL_CONFIG.style.th.buttons.filter.inactive.color}`)},null,14,ke)):n(``,!0),e.rangeFilter&&S.rangeFilters[s]&&!S.hasNaN[s]?(i(),v(`div`,Ae,[y(`label`,{for:`rangeMin${s}`},[...m[34]||=[y(`span`,{style:{color:`grey`}},`ᒥ`,-1),r(` min `,-1),y(`span`,{style:{color:`grey`}},`ᒣ`,-1)]],8,je),_(y(`input`,{type:`number`,id:`rangeMin${s}`,max:S.immutableRangeFilters[s].max,min:S.immutableRangeFilters[s].min,"onUpdate:modelValue":e=>S.rangeFilters[s].min=e,onInput:m[9]||=e=>C.debounce(C.filterBody,400),style:a(`background:${C.FINAL_CONFIG.style.inputs.backgroundColor};color:${C.FINAL_CONFIG.style.inputs.color};border:${C.FINAL_CONFIG.style.inputs.border}`)},null,44,Me),[[g,S.rangeFilters[s].min,void 0,{number:!0}]]),_(y(`input`,{type:`number`,id:`rangeMax${s}`,max:S.immutableRangeFilters[s].max,min:S.immutableRangeFilters[s].min,"onUpdate:modelValue":e=>S.rangeFilters[s].max=e,onInput:m[10]||=e=>C.debounce(C.filterBody,400),style:a(`background:${C.FINAL_CONFIG.style.inputs.backgroundColor};color:${C.FINAL_CONFIG.style.inputs.color};border:${C.FINAL_CONFIG.style.inputs.border}`)},null,44,Ne),[[g,S.rangeFilters[s].max,void 0,{number:!0}]]),y(`label`,{for:`rangeMax${s}`},[...m[35]||=[y(`span`,{style:{color:`grey`}},`ᒪ`,-1),r(` max `,-1),y(`span`,{style:{color:`grey`}},`ᒧ`,-1)]],8,Pe)])):n(``,!0),C.canResetColumn(s,e)?(i(),v(`button`,{key:6,onClick:t=>C.resetFilter(s,e,t),disabled:C.isResetDisabled(s,e),class:`th-reset`,style:a({cursor:C.isCursorPointer?`pointer`:`default`})},` ✖ `,12,Fe)):n(``,!0),e.isMultiselect?(i(),v(`div`,{key:7,class:`th-dropdown`,"data-is-open":`false`,id:`th_dropdown_${s}`,style:a(`background:${C.FINAL_CONFIG.style.dropdowns.backgroundColor};color:${C.FINAL_CONFIG.style.dropdowns.color}`)},[y(`button`,{class:`close-dropdown`,onClick:t=>C.toggleMultiselect(s,e,t),style:a(`cursor:${C.isCursorPointer?`pointer`:`default`};background:${C.FINAL_CONFIG.style.closeButtons.backgroundColor};color:${C.FINAL_CONFIG.style.closeButtons.color}`)},` ✖ `,12,Le),(i(!0),v(p,null,l(C.getDropdownOptions(s),(e,t)=>(i(),v(`span`,{class:`th-option`,key:`th_option_${s}_${t}`,onClick:t=>C.selectDropdownOption(e,s),onKeyup:[d(t=>C.selectDropdownOption(e,s),[`enter`]),d(t=>C.selectDropdownOption(e,s),[`space`])],style:a(`opacity:${C.isDropdownOptionSelected(e,s)?1:.5}`),tabindex:`0`},[C.isDropdownOptionSelected(e,s)?(i(),v(`span`,{key:0,style:a(`color:${C.FINAL_CONFIG.style.dropdowns.icons.selected.color};margin-right:5px`),class:`th-icon-green`},o(C.FINAL_CONFIG.style.dropdowns.icons.selected.unicode),5)):(i(),v(`span`,{key:1,style:a(`color:${C.FINAL_CONFIG.style.dropdowns.icons.unselected.color};margin-right:5px`),class:`th-icon-red`},o(C.FINAL_CONFIG.style.dropdowns.icons.unselected.unicode),5)),y(`span`,null,o(e),1)],44,Re))),128))],12,Ie)):n(``,!0)])],6))),128))])],64)):n(``,!0),y(`tr`,null,[m[37]||=y(`th`,{class:`invisible-cell`},null,-1),(i(!0),v(p,null,l(S.tableHead,(e,r)=>(i(),v(`th`,{key:`col_selector_${r}`,class:t({"vue-ui-table-col-selector":!S.hasNaN[r],"th-has-nan":S.hasNaN[r]}),style:a(`background:${r===S.selectedColumn&&!S.hasNaN[r]?C.FINAL_CONFIG.style.th.selected.backgroundColor:C.FINAL_CONFIG.style.th.backgroundColor};color:${r===S.selectedColumn&&!S.hasNaN[r]?C.FINAL_CONFIG.style.th.selected.color:C.FINAL_CONFIG.style.th.color};outline:${C.FINAL_CONFIG.style.th.outline}`)},[S.hasNaN[r]?n(``,!0):(i(),v(`div`,{key:0,innerHTML:S.tableHead[r].type===S.constants.NUMERIC?C.icons.chevronDown:``,class:t({"col-selector":S.tableHead[r].type===S.constants.NUMERIC}),tabindex:`0`,style:a({cursor:C.isCursorPointer?`pointer`:`default`}),onClick:h(e=>C.selectColumn(r),[`stop`]),onKeyup:d(e=>C.selectColumn(r),[`enter`])},null,46,ze))],6))),128))])],4),y(`tbody`,{onClick:m[11]||=(...e)=>C.closeAllDropdowns&&C.closeAllDropdowns(...e),onKeydown:m[12]||=e=>C.navigateCell(e)},[(i(!0),v(p,null,l(C.visibleRows,(e,r)=>(i(),v(`tr`,{key:`tbody_${r}`,"data-row":r%2==0?`odd`:`even`,class:t(`tr_${S.uid}`),style:a(`${r%2==0?`background:${C.FINAL_CONFIG.style.rows.odd.backgroundColor};color:${C.FINAL_CONFIG.style.rows.odd.color}`:`background:${C.FINAL_CONFIG.style.rows.even.backgroundColor};color:${C.FINAL_CONFIG.style.rows.even.color}`}`)},[y(`td`,{class:`vue-ui-table-td-iteration`,"data-row":r%2==0?`odd`:`even`,style:a({outline:C.FINAL_CONFIG.style.rows.outline})},o(e.absoluteIndex+1),13,Ve),(i(!0),v(p,null,l(e.td,(s,c)=>(i(),v(`td`,{"data-row":r%2==0?`odd`:`even`,key:`td_${r}_${c}`,style:a(C.isNumeric(s)||b.dataset.header[c].type===S.constants.DATE?`text-align:right;font-variant-numeric: tabular-nums;outline:${C.FINAL_CONFIG.style.rows.outline}`:`outline:${C.FINAL_CONFIG.style.rows.outline}`),onClick:e=>C.selectTd({td:s,rowIndex:r,colIndex:c,headerType:b.dataset.header[c].type,event:e}),onKeyup:[d(e=>C.selectTd({td:s,rowIndex:r,colIndex:c,headerType:b.dataset.header[c].type,event:e}),[`enter`]),d(e=>C.selectTd({td:s,rowIndex:r,colIndex:c,headerType:b.dataset.header[c].type,event:e}),[`space`])],class:t({"td-numeric":b.dataset.header[c].type===S.constants.NUMERIC,"td-focusable":!0,"td-has-nan":S.hasNaN[c]}),id:`cell_${r}_${c}_${S.uid}`,tabindex:`0`},[e.meta&&e.meta.markerIndices.includes(c)&&e.meta.unicodeIcon?(i(),v(`span`,{key:0,style:a(`color:${e.meta.color};margin-right:3px`),innerHTML:e.meta.unicodeIcon},null,12,Ue)):n(``,!0),b.dataset.header[c].type===S.constants.DATE?(i(),v(`span`,We,o(b.dataset.header[c].prefix)+` `+o(new Date(s).toLocaleString().slice(0,10))+` `+o(b.dataset.header[c].suffix),1)):b.dataset.header[c].isPercentage?(i(),v(`span`,Ge,o(C.dataLabel({v:Number(s*100),s:`%`,r:b.dataset.header[c].decimals})),1)):S.percentages[c]&&b.dataset.header[c].percentageTo&&!b.dataset.header[c].isPercentage?(i(),v(`span`,{key:3,class:t({"td-nan":isNaN(Number(s))})},o(isNaN(Number(s))?`${s} is not ${S.constants.NUMERIC}`:C.dataLabel({p:b.dataset.header[c].prefix,v:Number(s),s:b.dataset.header[c].suffix,r:b.dataset.header[c].decimals}))+` (`+o(isNaN(Number(s))?``:C.dataLabel({v:Number(s/C.getSum(S.percentages[c].referenceIndex)*100),s:`%`,r:b.dataset.header[c].decimals}))+`) `,3)):b.dataset.header[c].type===S.constants.NUMERIC?(i(),v(`span`,{key:4,class:t({"td-nan":isNaN(Number(s))})},o(isNaN(Number(s))?`${s} is not ${S.constants.NUMERIC}`:C.dataLabel({p:b.dataset.header[c].prefix,v:Number(s.toFixed(b.dataset.header[c].decimals)),s:b.dataset.header[c].suffix,r:b.dataset.header[c].decimals})),3)):(i(),v(`span`,Ke,o(b.dataset.header[c].prefix)+` `+o(s)+` `+o(b.dataset.header[c].suffix),1))],46,He))),128))],14,Be))),128))],32)])],4),y(`div`,{class:t({"td-selector-info":!0,"td-selector-info--active":S.currentSelectionSpan.col!==void 0&&S.currentSelectionSpan.rows.length}),style:a(`background:${C.FINAL_CONFIG.style.infoBar.backgroundColor};color:${C.FINAL_CONFIG.style.infoBar.color}`)},[S.currentSelectionSpan.col!==void 0&&S.currentSelectionSpan.rows.length?(i(),v(p,{key:0},[y(`div`,{innerHTML:C.icons.table,class:`td-selector-icon`},null,8,qe),y(`span`,null,[y(`b`,null,[r(o(b.dataset.header[S.currentSelectionSpan.col].name)+` `,1),b.dataset.header[S.currentSelectionSpan.col].isPercentage?(i(),v(`span`,Je,` / `+o(b.dataset.header[S.percentages[S.currentSelectionSpan.col].referenceIndex].name),1)):n(``,!0)]),y(`span`,Ye,[r(o(C.FINAL_CONFIG.translations.nb)+` : `,1),y(`b`,Xe,o(S.currentSelectionSpan.rows.length),1)]),y(`span`,Ze,[r(o(C.FINAL_CONFIG.translations.sum)+` : `,1),b.dataset.header[S.currentSelectionSpan.col].isPercentage?(i(),v(`b`,Qe,o(C.selectedCellsCalculations.sumPercentage),1)):(i(),v(`b`,$e,o(b.dataset.header[S.currentSelectionSpan.col].prefix)+` `+o(C.selectedCellsCalculations.sumRegular)+` `+o(b.dataset.header[S.currentSelectionSpan.col].suffix),1)),b.dataset.header[S.currentSelectionSpan.col].isPercentage?(i(),v(`b`,et,`%`)):n(``,!0)]),y(`span`,tt,[r(o(C.FINAL_CONFIG.translations.average)+` : `,1),b.dataset.header[S.currentSelectionSpan.col].isPercentage?(i(),v(`b`,nt,o(C.selectedCellsCalculations.averagePercentage),1)):(i(),v(`b`,rt,o(b.dataset.header[S.currentSelectionSpan.col].prefix)+` `+o(C.selectedCellsCalculations.averageRegular)+` `+o(b.dataset.header[S.currentSelectionSpan.col].suffix),1)),b.dataset.header[S.currentSelectionSpan.col].isPercentage?(i(),v(`b`,it,`%`)):n(``,!0)])]),y(`button`,{onClick:m[13]||=(...e)=>C.resetSelection&&C.resetSelection(...e),class:`td-selector-info-reset`,style:a(`cursor:${C.isCursorPointer?`pointer`:`default`};background:${C.FINAL_CONFIG.style.closeButtons.backgroundColor};color:${C.FINAL_CONFIG.style.closeButtons.color};border-radius:${C.FINAL_CONFIG.style.closeButtons.borderRadius}`)},` ✖ `,4)],64)):n(``,!0)],6),S.bodyCopy.length>10?(i(),v(`div`,at,[r(o(C.FINAL_CONFIG.translations.totalRows)+` : `+o(b.dataset.body.length)+` | `+o(C.FINAL_CONFIG.translations.paginatorLabel)+` : `,1),S.bodyCopy.length>10?_((i(),v(`select`,{key:0,id:`paginatorSelector`,"onUpdate:modelValue":m[14]||=e=>S.itemsPerPage=e,onChange:m[15]||=e=>{C.resetSelection(),C.onPageChange()},style:a(`background:${C.FINAL_CONFIG.style.inputs.backgroundColor};color:${C.FINAL_CONFIG.style.inputs.color};border:${C.FINAL_CONFIG.style.inputs.border}`)},[(i(!0),v(p,null,l(S.paginatorOptions,(e,t)=>(i(),v(p,null,[S.bodyCopy.length>e||b.dataset.body.length===e?(i(),v(`option`,{key:`paginator_option_${t}`},o(e),1)):n(``,!0)],64))),256))],36)),[[f,S.itemsPerPage,void 0,{number:!0}]]):n(``,!0)])):n(``,!0),S.itemsPerPage>=250?(i(),v(`div`,ot,[y(`span`,{innerHTML:C.icons.warning},null,8,st),r(o(C.FINAL_CONFIG.translations.sizeWarning),1)])):n(``,!0),C.pages.length>1&&C.pages.length<=10?(i(),v(`div`,{key:3,class:`vue-ui-table-navigation-indicator`,style:a(`background:${C.FINAL_CONFIG.style.pagination.navigationIndicator.backgroundColor};width:calc(${S.currentPage/(C.pages.length-1)*100}%)`)},null,4)):n(``,!0),C.pages.length>1?(i(),v(`div`,ct,[y(`button`,{class:`vue-ui-table-navigation`,onClick:m[16]||=h(e=>C.navigate(`previous`),[`stop`]),innerHTML:C.icons.chevronLeft,disabled:S.currentPage===0,style:a(`cursor:${C.isCursorPointer?`pointer`:`default`};background:${C.FINAL_CONFIG.style.pagination.buttons.backgroundColor};color:${C.FINAL_CONFIG.style.pagination.buttons.color};opacity:${S.currentPage===0?C.FINAL_CONFIG.style.pagination.buttons.opacityDisabled:1}`)},null,12,lt),C.pages.length>3?(i(),v(p,{key:0},[y(`button`,{class:`vue-ui-table-navigation`,onClick:m[17]||=h(e=>C.navigate(1),[`stop`]),disabled:S.currentPage===0,style:a(`cursor:${C.isCursorPointer?`pointer`:`default`};background:${C.FINAL_CONFIG.style.pagination.buttons.backgroundColor};color:${C.FINAL_CONFIG.style.pagination.buttons.color};opacity:${S.currentPage===0?C.FINAL_CONFIG.style.pagination.buttons.opacityDisabled:1}`)},` 1 `,12,ut),C.pages.length>10?(i(),v(`div`,{key:0,class:`vue-ui-table-page-scroller-wrapper`,style:a({cursor:C.isCursorPointer?`pointer`:`default`})},[y(`label`,dt,o(C.FINAL_CONFIG.translations.page)+` `+o(S.currentPage+1)+` / `+o(C.pages.length),1),y(`input`,{class:`vue-ui-table-page-scroller`,id:`pageScroller`,type:`range`,step:`1`,min:0,max:C.pages.length-1,onInput:m[18]||=e=>C.updateCurrentPage(e),value:S.currentPage,style:a(`background:${C.FINAL_CONFIG.style.inputs.backgroundColor};color:${C.FINAL_CONFIG.style.inputs.color};border:${C.FINAL_CONFIG.style.inputs.border};accent-color:${C.FINAL_CONFIG.style.inputs.accentColor}`)},null,44,ft)],4)):(i(),v(`span`,pt,o(C.FINAL_CONFIG.translations.page)+` `+o(S.currentPage+1)+` / `+o(C.pages.length),1)),y(`button`,{class:`vue-ui-table-navigation`,onClick:m[19]||=h(e=>C.navigate(C.pages.length),[`stop`]),disabled:S.currentPage===C.pages.length-1,style:a(`cursor:${C.isCursorPointer?`pointer`:`default`};background:${C.FINAL_CONFIG.style.pagination.buttons.backgroundColor};color:${C.FINAL_CONFIG.style.pagination.buttons.color};opacity:${S.currentPage===C.pages.length-1?C.FINAL_CONFIG.style.pagination.buttons.opacityDisabled:1}`)},o(C.pages.length),13,mt)],64)):(i(),v(p,{key:1},[r(o(C.FINAL_CONFIG.translations.page)+` `+o(S.currentPage+1)+` / `+o(C.pages.length),1)],64)),y(`button`,{class:`vue-ui-table-navigation`,onClick:m[20]||=h(e=>C.navigate(`next`),[`stop`]),innerHTML:C.icons.chevronRight,disabled:S.currentPage===C.pages.length-1,style:a(`cursor:${C.isCursorPointer?`pointer`:`default`};background:${C.FINAL_CONFIG.style.pagination.buttons.backgroundColor};color:${C.FINAL_CONFIG.style.pagination.buttons.color};opacity:${S.currentPage===C.pages.length-1?C.FINAL_CONFIG.style.pagination.buttons.opacityDisabled:1}`)},null,12,ht)])):n(``,!0),S.showChart&&C.canChart?(i(),v(`div`,{key:5,class:`vue-ui-table-chart-modal`,style:a(`width: ${S.modalWidth}px;top:${S.clientY}px; left:${S.clientX}px;background:${C.FINAL_CONFIG.style.chart.modal.backgroundColor};color:${C.FINAL_CONFIG.style.chart.modal.color}`)},[y(`div`,{class:`vue-ui-modal-drag-handle`,onMousedown:m[22]||=(...e)=>C.dragMouseDown&&C.dragMouseDown(...e)},[y(`span`,{innerHTML:C.icons.grip},null,8,gt),y(`button`,{class:`close-chart-modal`,style:a({cursor:C.isCursorPointer?`pointer`:`default`}),onClick:m[21]||=e=>S.showChart=!1},`✖`,4)],32),y(`button`,{style:a([{"z-index":`1`},`cursor:${C.isCursorPointer?`pointer`:`default`};background:${C.FINAL_CONFIG.style.closeButtons.backgroundColor};color:${C.FINAL_CONFIG.style.closeButtons.color};border-radius:${C.FINAL_CONFIG.style.closeButtons.borderRadius}`]),class:`close-chart-modal`,onClick:m[23]||=e=>S.showChart=!1},` ✖ `,4),y(`div`,_t,[C.availableDonutCategories.length?(i(),v(`button`,{key:0,onClick:m[24]||=e=>S.showDonutOptions=!0,innerHTML:C.icons.donut,class:t({"is-active-chart":S.chart.type===S.constants.DONUT||S.showDonutOptions}),style:a(`cursor:${C.isCursorPointer?`pointer`:`default`};background:${S.chart.type===S.constants.DONUT||S.showDonutOptions?C.FINAL_CONFIG.style.chart.modal.buttons.selected.backgroundColor:C.FINAL_CONFIG.style.chart.modal.buttons.unselected.backgroundColor};color:${S.chart.type===S.constants.DONUT||S.showDonutOptions?C.FINAL_CONFIG.style.chart.modal.buttons.selected.color:C.FINAL_CONFIG.style.chart.modal.buttons.unselected.color}`)},null,14,vt)):n(``,!0),y(`button`,{onClick:m[25]||=e=>{S.chart.type=S.constants.LINE,S.showDonutOptions=!1},innerHTML:C.icons.chart,class:t({"is-active-chart":S.chart.type===S.constants.LINE&&!S.showDonutOptions}),style:a(`cursor:${C.isCursorPointer?`pointer`:`default`};background:${S.chart.type===S.constants.LINE&&!S.showDonutOptions?C.FINAL_CONFIG.style.chart.modal.buttons.selected.backgroundColor:C.FINAL_CONFIG.style.chart.modal.buttons.unselected.backgroundColor};color:${S.chart.type===S.constants.LINE&&!S.showDonutOptions?C.FINAL_CONFIG.style.chart.modal.buttons.selected.color:C.FINAL_CONFIG.style.chart.modal.buttons.unselected.color}`)},null,14,yt),y(`button`,{onClick:m[26]||=e=>{S.chart.type=S.constants.BAR,S.showDonutOptions=!1},innerHTML:C.icons.bar,class:t({"is-active-chart":S.chart.type===S.constants.BAR&&!S.showDonutOptions}),style:a(`cursor:${C.isCursorPointer?`pointer`:`default`};background:${S.chart.type===S.constants.BAR&&!S.showDonutOptions?C.FINAL_CONFIG.style.chart.modal.buttons.selected.backgroundColor:C.FINAL_CONFIG.style.chart.modal.buttons.unselected.backgroundColor};color:${S.chart.type===S.constants.BAR&&!S.showDonutOptions?C.FINAL_CONFIG.style.chart.modal.buttons.selected.color:C.FINAL_CONFIG.style.chart.modal.buttons.unselected.color}`)},null,14,$)]),y(`div`,bt,[S.showDonutOptions&&C.availableDonutCategories.length?(i(),v(`div`,{key:0,style:a(`background:${C.FINAL_CONFIG.style.chart.modal.backgroundColor};color:${C.FINAL_CONFIG.style.chart.modal.color}`)},[y(`fieldset`,xt,[y(`legend`,null,o(C.FINAL_CONFIG.translations.chooseCategoryColumn),1),y(`div`,St,[(i(!0),v(p,null,l(C.availableDonutCategories,(e,t)=>(i(),v(`div`,{key:`donut_radio_${t}`,class:`vue-ui-table-fieldset-option`},[y(`input`,{type:`radio`,name:e.name,id:e.name,checked:S.selectedDonutCategory&&e.name===S.selectedDonutCategory.name,onInput:e=>S.selectedDonutCategory=C.availableDonutCategories[t],style:a(`background:${C.FINAL_CONFIG.style.inputs.backgroundColor};color:${C.FINAL_CONFIG.style.inputs.color};border:${C.FINAL_CONFIG.style.inputs.border};accent-color:${C.FINAL_CONFIG.style.inputs.accentColor}`)},null,44,Ct),y(`label`,{for:e.name},o(e.name),9,wt)]))),128))]),y(`button`,{class:`vue-ui-table-generate-donut`,disabled:!S.selectedDonutCategory,onClick:m[27]||=(...e)=>C.applyDonutOption&&C.applyDonutOption(...e),style:a(`cursor:${C.isCursorPointer?`pointer`:`default`};background:${C.FINAL_CONFIG.style.chart.modal.buttons.selected.backgroundColor};color:${C.FINAL_CONFIG.style.chart.modal.buttons.selected.color}`)},[y(`div`,{style:{"margin-bottom":`-3px`},innerHTML:C.icons.donut},null,8,Et),r(` `+o(C.FINAL_CONFIG.translations.makeDonut),1)],12,Tt)])],4)):n(``,!0),[S.constants.BAR,S.constants.LINE].includes(S.chart.type)&&!S.showDonutOptions?(i(),v(p,{key:1},[C.chartTimeLabelOptions.length>1?(i(),v(`label`,Dt,[r(o(C.FINAL_CONFIG.translations.xAxisLabels)+` `,1),_(y(`select`,{"onUpdate:modelValue":m[28]||=e=>S.chartTimeLabelSourceModel=e},[(i(!0),v(p,null,l(C.chartTimeLabelOptions,e=>(i(),v(`option`,null,o(e),1))),256))],512),[[f,S.chartTimeLabelSourceModel]])])):n(``,!0),y(`div`,Ot,[S.chart.type===S.constants.LINE?(i(),c(T,{key:`chart_line_${S.chartStep}`,dataset:C.chartData.xyDatasetLine,config:C.chartData.xyConfig},null,8,[`dataset`,`config`])):n(``,!0),S.chart.type===S.constants.BAR?(i(),c(T,{key:`chart_bar_${S.chartStep}`,dataset:C.chartData.xyDatasetBar,config:C.chartData.xyConfig},null,8,[`dataset`,`config`])):n(``,!0)]),S.currentSelectionSpan.rows.length>=2?(i(),v(`div`,{key:1,class:`chart-trend`,style:a(`color:${C.FINAL_CONFIG.style.chart.modal.color}`)},[m[38]||=y(`span`,null,`---`,-1),r(` Trend: `+o(C.dataLabel({v:C.chartData.progression.trend*100,s:`%`,r:1})),1)],4)):n(``,!0)],64)):n(``,!0),[S.constants.DONUT].includes(S.chart.type)&&!S.showDonutOptions?(i(),v(`div`,kt,[s(E,{dataset:S.currentDonut,config:C.chartData.donutConfig},null,8,[`dataset`,`config`])])):n(``,!0)],512)],4)):n(``,!0)],4)}var jt=M(I,[[`render`,At],[`__scopeId`,`data-v-e81f5ae3`]]);export{jt as default};